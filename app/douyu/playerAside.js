(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([[9],{"04d83":function(e,t,r){},"054b4":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/SN_e60207f.png"},"056f5":function(e,t,r){},"07572":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/2_cbf9219.png"},"075fe":function(e,t,r){},"07b2c":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/WE_12c5de8.png"},"09d26":function(e,t,r){},"0a037":function(e,t,r){},"0ab9e":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/4_eb5af28.png"},"0abdc":function(e,t,r){},"0bbac":function(e,t,r){},"0c8e7":function(e,t,r){},"0d342":function(e,t,r){},"10e09":function(e,t,r){},"13cba":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/1_8325a2e.png"},15857:function(e,t,r){},"15e46":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},16049:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/LGD_ec8cbe4.png"},19981:function(e,t,r){"use strict";r.r(t);r("c4dc3"),r("8f58d");var i=r("7ca7d"),n=r.n(i),a=r("97a85"),o=r.n(a),l=r("eeb07"),s=r("96089"),c=r("f6898"),u=r("b0067"),p=r("722b8"),f=r("a207b"),m=r("c6bd5"),d=r("58638"),b=r("eb3e2");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var h,v,g,y,_,S=function(e){function medalDroppingActions(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,medalDroppingActions),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(medalDroppingActions,e),medalDroppingActions.medalDroppingList=function medalDroppingList(e){return{type:"MEDAL_DROPPING_LIST",payload:e}},medalDroppingActions.closeMedalDropping=function closeMedalDropping(e){return{type:"MEDAL_DROPPING_CLOSE",payload:e}},medalDroppingActions.changeMedalDroppingRemain=function changeMedalDroppingRemain(e){return{type:"MEDAL_DROPPING_REMAIN_SWITCH",payload:e}},medalDroppingActions}(d.Action);function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalDroppingServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function medalDroppingServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function medalDroppingServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var N,C,w,O,E,D,P,j,k,R,T,B,M,z,L,F,A,I,x,G,U,H,W,V,$,K,J,q=n.a.Store,Q=n.a.Service,Y=function getLocalStorage(e){return b.DataCenter.localStorage.get(e)},X=[],Z=(h=q(),v=Q(b.DataCenter.global),g=function(e){function MedalDroppingServices(){var t,r;!function medalDroppingServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=medalDroppingServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(r,"store",y,r),_initDefineProp(r,"global",_,r),medalDroppingServices_possibleConstructorReturn(r,t)}return medalDroppingServices_inherits(MedalDroppingServices,e),MedalDroppingServices.prototype.medalDroppingList=function medalDroppingList(e){var t=e.filter(function(e){return e.todayExp<0});X=Y(this.returnCacheFlag())||[],this.store.dispatch(S.medalDroppingList(function shellSort(e){for(var t=e.slice(0),r=t.length,i=void 0,n=1;n<r/3;)n=3*n+1;for(;n>0;n=Math.floor(n/3))for(var a=n;a<r;a++){i=t[a];for(var o=a-n;o>0&&t[o].allExp>i.allExp;o-=n)t[o+n]=t[o];t[o+n]=i}return t}(t))),this.cacheDroppingList(t)},MedalDroppingServices.prototype.medalDroppingClose=function medalDroppingClose(){this.store.dispatch(S.closeMedalDropping())},MedalDroppingServices.prototype.changeMedalDroppingRemain=function changeMedalDroppingRemain(){this.store.dispatch(S.changeMedalDroppingRemain())},MedalDroppingServices.prototype.returnCacheFlag=function returnCacheFlag(){return"MedalDroppingListFlag_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.cacheDroppingList=function cacheDroppingList(e){!function setLocalStorage(e,t,r){b.DataCenter.localStorage.set(e,t,r)}(this.returnCacheFlag(),e)},MedalDroppingServices.prototype.dealDroppingList=function dealDroppingList(e){var t=[],r=[];return e&&e.length&&e.forEach(function(e){X.some(function(t){return t.medalRid===e.medalRid})?r.push(e):t.push(e)}),{newDroppingMedals:t,oldDroppingMedals:r}},MedalDroppingServices.prototype.returnRemainCacheFlag=function returnRemainCacheFlag(){return"dropingDialogShow_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.getRemainSwitchState=function getRemainSwitchState(){return parseInt(Y(this.returnRemainCacheFlag()),10)||0},MedalDroppingServices}(d.Service),y=_applyDecoratedDescriptor(g.prototype,"store",[h],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(g.prototype,"global",[v],{enumerable:!0,initializer:null}),g),ee=r("54992");function MedalListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MedalListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var te,re,ie,ne,ae,oe,le,se,ce,ue,pe,fe=b.basicTypes.string,me=b.basicTypes.mapping,de=b.basicTypes.array,be=b.basicTypes.number,he=b.basicTypes.optional,ve=(N=me({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),C=he(0),N((O=function(e){function ListItem(){var t,r;MedalListDto_classCallCheck(this,ListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"vipFan",E,r),MedalListDto_initDefineProp(r,"medalRid",D,r),MedalListDto_initDefineProp(r,"medalName",P,r),MedalListDto_initDefineProp(r,"allExp",j,r),MedalListDto_initDefineProp(r,"upLevExp",k,r),MedalListDto_initDefineProp(r,"medalLev",R,r),MedalListDto_initDefineProp(r,"todayExp",T,r),MedalListDto_initDefineProp(r,"todayAllExp",B,r),MedalListDto_initDefineProp(r,"checkCode",M,r),MedalListDto_initDefineProp(r,"medalRank",z,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(ListItem,e),ListItem}(b.EntityDto),E=MedalListDto_applyDecoratedDescriptor(O.prototype,"vipFan",[C,be],{enumerable:!0,initializer:null}),D=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalRid",[fe],{enumerable:!0,initializer:null}),P=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalName",[fe],{enumerable:!0,initializer:null}),j=MedalListDto_applyDecoratedDescriptor(O.prototype,"allExp",[be],{enumerable:!0,initializer:null}),k=MedalListDto_applyDecoratedDescriptor(O.prototype,"upLevExp",[be],{enumerable:!0,initializer:null}),R=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalLev",[be],{enumerable:!0,initializer:null}),T=MedalListDto_applyDecoratedDescriptor(O.prototype,"todayExp",[be],{enumerable:!0,initializer:null}),B=MedalListDto_applyDecoratedDescriptor(O.prototype,"todayAllExp",[be],{enumerable:!0,initializer:null}),M=MedalListDto_applyDecoratedDescriptor(O.prototype,"checkCode",[fe],{enumerable:!0,initializer:null}),z=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalRank",[be],{enumerable:!0,initializer:null}),w=O))||w),ge=(L=me({wareStatus:"wf",firstCharge:"frq",medalList:"list"}),F=he(0),A=he(0),I=he(""),x=he([]),G=de(ve),Object(ee.log)(U=L((H=function(e){function Result(){var t,r;MedalListDto_classCallCheck(this,Result);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"wareStatus",W,r),MedalListDto_initDefineProp(r,"firstCharge",V,r),MedalListDto_initDefineProp(r,"wareMedalId",$,r),MedalListDto_initDefineProp(r,"ownerRoomId",K,r),MedalListDto_initDefineProp(r,"medalList",J,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(Result,e),Result}(b.EntityDto),W=MedalListDto_applyDecoratedDescriptor(H.prototype,"wareStatus",[F,be],{enumerable:!0,initializer:null}),V=MedalListDto_applyDecoratedDescriptor(H.prototype,"firstCharge",[A,be],{enumerable:!0,initializer:null}),$=MedalListDto_applyDecoratedDescriptor(H.prototype,"wareMedalId",[I,fe],{enumerable:!0,initializer:null}),K=MedalListDto_applyDecoratedDescriptor(H.prototype,"ownerRoomId",[fe],{enumerable:!0,initializer:null}),J=MedalListDto_applyDecoratedDescriptor(H.prototype,"medalList",[x,G],{enumerable:!0,initializer:null}),U=H))||U)||U);function MedalInfoDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalInfoDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfoDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfoDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalInfoDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ye,_e,Se,Ne,Ce,we,Oe,Ee,De,Pe,je,ke,Re,Te,Be,Me=b.basicTypes.string,ze=b.basicTypes.mapping,Le=b.basicTypes.number,Fe=b.basicTypes.optional,Ae=(te=ze({allExp:"fim",medalLev:"bl",upLevExp:"nfim",todayExp:"afim",todayAllExp:"mafim",updateMedalRid:"brid"}),re=Fe(""),Object(ee.log)(ie=te((ne=function(e){function MedalInfoDto(){var t,r;!function MedalInfoDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalInfoDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfoDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalInfoDto_initDefineProp(r,"type",ae,r),MedalInfoDto_initDefineProp(r,"updateMedalRid",oe,r),MedalInfoDto_initDefineProp(r,"allExp",le,r),MedalInfoDto_initDefineProp(r,"medalLev",se,r),MedalInfoDto_initDefineProp(r,"upLevExp",ce,r),MedalInfoDto_initDefineProp(r,"todayExp",ue,r),MedalInfoDto_initDefineProp(r,"todayAllExp",pe,r),MedalInfoDto_possibleConstructorReturn(r,t)}return MedalInfoDto_inherits(MedalInfoDto,e),MedalInfoDto}(b.EntityDto),ae=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"type",[Me],{enumerable:!0,initializer:null}),oe=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"updateMedalRid",[re,Me],{enumerable:!0,initializer:null}),le=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"allExp",[Le],{enumerable:!0,initializer:null}),se=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"medalLev",[Le],{enumerable:!0,initializer:null}),ce=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"upLevExp",[Le],{enumerable:!0,initializer:null}),ue=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"todayExp",[Le],{enumerable:!0,initializer:null}),pe=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"todayAllExp",[Le],{enumerable:!0,initializer:null}),ie=ne))||ie)||ie);function MedalGetDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalGetDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalGetDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalGetDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalGetDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ie,xe,Ge,Ue,He,We,Ve=b.basicTypes.string,$e=b.basicTypes.mapping,Ke=b.basicTypes.number,Je=b.basicTypes.optional,qe=(ye=$e({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),_e=Je(0),Se=Je(0),Object(ee.log)(Ne=ye((Ce=function(e){function MedalGetDto(){var t,r;!function MedalGetDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalGetDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalGetDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalGetDto_initDefineProp(r,"vipFan",we,r),MedalGetDto_initDefineProp(r,"medalRid",Oe,r),MedalGetDto_initDefineProp(r,"medalName",Ee,r),MedalGetDto_initDefineProp(r,"allExp",De,r),MedalGetDto_initDefineProp(r,"upLevExp",Pe,r),MedalGetDto_initDefineProp(r,"medalLev",je,r),MedalGetDto_initDefineProp(r,"todayExp",ke,r),MedalGetDto_initDefineProp(r,"todayAllExp",Re,r),MedalGetDto_initDefineProp(r,"checkCode",Te,r),MedalGetDto_initDefineProp(r,"medalRank",Be,r),MedalGetDto_possibleConstructorReturn(r,t)}return MedalGetDto_inherits(MedalGetDto,e),MedalGetDto}(b.EntityDto),we=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"vipFan",[_e,Ke],{enumerable:!0,initializer:null}),Oe=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalRid",[Ve],{enumerable:!0,initializer:null}),Ee=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalName",[Ve],{enumerable:!0,initializer:null}),De=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"allExp",[Ke],{enumerable:!0,initializer:null}),Pe=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"upLevExp",[Ke],{enumerable:!0,initializer:null}),je=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalLev",[Ke],{enumerable:!0,initializer:null}),ke=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"todayExp",[Ke],{enumerable:!0,initializer:null}),Re=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"todayAllExp",[Ke],{enumerable:!0,initializer:null}),Te=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"checkCode",[Ve],{enumerable:!0,initializer:null}),Be=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalRank",[Se,Ke],{enumerable:!0,initializer:null}),Ne=Ce))||Ne)||Ne);function MedalOperatResDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalOperatResDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalOperatResDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalOperatResDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalOperatResDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Qe,Ye,Xe,Ze,et,tt,rt,it=b.basicTypes.string,nt=b.basicTypes.number,at=b.basicTypes.optional,ot=(Ie=(0,b.basicTypes.mapping)({operationType:"ot",operationMedalId:"rid"}),xe=at(""),Ie((Ue=function(e){function MedalOperatResDto(){var t,r;!function MedalOperatResDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatResDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalOperatResDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalOperatResDto_initDefineProp(r,"operationType",He,r),MedalOperatResDto_initDefineProp(r,"operationMedalId",We,r),MedalOperatResDto_possibleConstructorReturn(r,t)}return MedalOperatResDto_inherits(MedalOperatResDto,e),MedalOperatResDto}(b.EntityDto),He=MedalOperatResDto_applyDecoratedDescriptor(Ue.prototype,"operationType",[nt],{enumerable:!0,initializer:null}),We=MedalOperatResDto_applyDecoratedDescriptor(Ue.prototype,"operationMedalId",[xe,it],{enumerable:!0,initializer:null}),Ge=Ue))||Ge),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function medalOperatEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalOperatEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var st,ct,ut,pt,ft,mt,dt,bt,ht,vt,gt,yt,_t=n.a.Service,St=n.a.Store,Nt=o.a.decode,Ct=0,wt=(Qe=St(),Ye=_t(m.a),Xe=_t(Z),Ze=function(){function MedalOperatEpics(){!function medalOperatEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatEpics),medalOperatEpics_initDefineProp(this,"store",et,this),medalOperatEpics_initDefineProp(this,"medalOperatServices",tt,this),medalOperatEpics_initDefineProp(this,"medalDroppingServices",rt,this)}return MedalOperatEpics.prototype.medalSwitchSearch=function medalSwitchSearch(e){var t=this;return e.ofType(f.i).pipe(Object(u.switchMap)(function(){return Object(l.forkJoin)(Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){return e[0]&&(t.medalOperatServices.clearMedalDialog(1),t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1})),f.g.receiveMedalSwitch(e[0])}))},MedalOperatEpics.prototype.medalListMsg=function medalListMsg(e){var t=this;return e.ofType(f.d).pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.wf=+r.wf||0,r.frq=+r.frq||0,r.list?(r.list=Nt(r.list),r.list=r.list.map(function(e){var t=Nt(e);return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),t.pos=parseInt(t.pos,10),t.vipfan=parseInt(t.vipfan,10)||0,t})):r.list=[],r.ownerRoomId=String(i.room_id),r.list.length?(2===r.wf&&(r.wareMedalId=r.list[0].rid),ge.fromJSON(r)):(t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1}),{wareStatus:0,wareMedalId:0,ownerRoomId:r.ownerRoomId,medalList:[]})}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){var r=e[0].medalList,i=e[1],n=r.filter(function(t){return+t.medalRid===+e[0].ownerRoomId})[0];(i||n)&&t.medalOperatServices.clearMedalDialog(1),r.length&&t.medalOperatServices.clearMedalDialog(4),n&&(i=1,t.medalOperatServices.sendHasFansMedalState(),n.medalRid!==e[0].wareMedalId&&t.medalOperatServices.addMedalDialog({dialogType:5,defaultShow:1,autoClear:5e3,medalData:n}),n.todayExp>=n.todayAllExp&&(Ct=1));var a=lt({},e[0],{medalSwitch:i,medalList:r});return t.medalDroppingServices.getRemainSwitchState()||t.medalDroppingServices.medalDroppingList(a.medalList),f.g.medalListUpdate(a)}))},MedalOperatEpics.prototype.medalListAnchorInfo=function medalListAnchorInfo(e){var t=this;return e.ofType(f.h).pipe(Object(c.map)(function(){return t.store.getState().medalListMsgData}),Object(u.switchMap)(function(e){return l.forkJoin.apply(void 0,[Object(s.of)(e)].concat(t.medalOperatServices.getAnchorInfo(e.medalList)))}),Object(c.map)(function(e){var r=e[0].medalList,i=t.medalOperatServices.formatAnchorList(e.slice(1)),n=r.map(function(e,t){var r=Object.assign({},e,i[t]);return lt({},r)});return f.g.medalListUpdate({isReqAnchorInfo:1,medalList:n})}))},MedalOperatEpics.prototype.medalUpdateMsg=function medalUpdateMsg(e){var t=this;return e.ofType(f.f).pipe(Object(c.map)(function(e){var t=e.payload;return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),Ae.fromJSON(e.payload)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e))}),Object(c.map)(function(e){var r=e[0]||{},i=t.store.getState().medalListMsgData,n=void 0;n="synfimd"===r.type?r.updateMedalRid||i.wareMedalId:i.ownerRoomId;var a=i.medalList.filter(function(e){return e.medalRid===n})[0];if(a){var o=Object.assign.apply(Object,[{}].concat(r)),l=t.medalOperatServices.returnFansMedalStatus();if(o.todayExp>=o.todayAllExp&&!Ct){Ct=1;var s=7;o.medalLev>a.medalLev&&(s=9,t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank})),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_toplimit",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}),t.medalOperatServices.addMedalDialog({dialogType:s,defaultShow:1,hoverShow:0,autoClear:5e3})}else o.medalLev>a.medalLev&&(t.medalOperatServices.addMedalDialog({dialogType:8,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}));return f.g.medalInfoUpdate(o)}return f.g.medalInfoUpdate({})}))},MedalOperatEpics.prototype.medalGetMsg=function medalGetMsg(e){var t=this;return e.ofType(f.c).pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.fim=Math.round(r.fim/10)/10,r.nfim=Math.round(r.nfim/10)/10,r.afim=Math.round(r.afim/10)/10,r.mafim=Math.round(r.mafim/10)/10,r.bl=parseInt(r.bl,10),r.rid=String(i.room_id),qe.fromJSON(r)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),t.medalOperatServices.getConfig(),t.medalOperatServices.reqAnchorInfo(e))}),Object(c.map)(function(e){var r=e[0],i=t.store.getState().medalListMsgData,n=t.medalOperatServices.formatAnchorInfo(e[2]);return r=Object.assign({},r,n),i.medalList.filter(function(e){return e.medalRid===r.medalRid})[0]||(i.medalList.length>0?(i.medalList.length>=20&&t.medalOperatServices.addMedalDialog({dialogType:3,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r,autoClear:1e4})):(t.medalOperatServices.clearMedalDialog(4),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r,autoClear:1e4}))),f.g.medalGetUpdate(r)}))},MedalOperatEpics.prototype.medalOperationMsg=function medalOperationMsg(e){return e.ofType(f.e).pipe(Object(c.map)(function(e){var t=e.payload,r=parseInt(t.result,10);t.ot=parseInt(t.ot,10);var i=ot.fromJSON(t);return 0===r?3===i.operationType?f.g.medalOperationDelete(i.operationMedalId):f.g.medalOperationUpdate({wareMedalId:i.operationMedalId,wareStatus:1===i.operationType?2:1}):503101===r?(p.a.error("\u60a8\u6ca1\u6709\u6b64\u5fbd\u7ae0"),f.g.medalOperationDelete(i.operationMedalId)):e}))},MedalOperatEpics}(),et=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"store",[Qe],{enumerable:!0,initializer:null}),tt=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"medalOperatServices",[Ye],{enumerable:!0,initializer:null}),rt=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"medalDroppingServices",[Xe],{enumerable:!0,initializer:null}),Ze),Ot=r("2f135");function EnterLevel120Dto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120Dto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterLevel120Dto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120Dto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120Dto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Et=b.basicTypes.string,Dt=b.basicTypes.mapping,Pt=b.basicTypes.optional,jt=Dt({webImg:"web_img",webImgSwf:"web_img_swf",bgHeight:"bg_height",fontHeight:"font_height",imgHeight:"img_height",fontColor:"font_color",nameColor:"name_color",welcomeContent:"welcome_content",occurrenceMode:"occurrence_mode"})((ct=function(e){function EnterLevel120Dto(){var t,r;!function EnterLevel120Dto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Dto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterLevel120Dto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),EnterLevel120Dto_initDefineProp(r,"ceid",ut,r),EnterLevel120Dto_initDefineProp(r,"webImg",pt,r),EnterLevel120Dto_initDefineProp(r,"webImgSwf",ft,r),EnterLevel120Dto_initDefineProp(r,"bgHeight",mt,r),EnterLevel120Dto_initDefineProp(r,"fontHeight",dt,r),EnterLevel120Dto_initDefineProp(r,"imgHeight",bt,r),EnterLevel120Dto_initDefineProp(r,"fontColor",ht,r),EnterLevel120Dto_initDefineProp(r,"nameColor",vt,r),EnterLevel120Dto_initDefineProp(r,"welcomeContent",gt,r),EnterLevel120Dto_initDefineProp(r,"occurrenceMode",yt,r),EnterLevel120Dto_possibleConstructorReturn(r,t)}return EnterLevel120Dto_inherits(EnterLevel120Dto,e),EnterLevel120Dto}(b.EntityDto),ut=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"ceid",[Pt,Et],{enumerable:!0,initializer:null}),pt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"webImg",[Pt,Et],{enumerable:!0,initializer:null}),ft=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"webImgSwf",[Pt,Et],{enumerable:!0,initializer:null}),mt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"bgHeight",[Pt,Et],{enumerable:!0,initializer:null}),dt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"fontHeight",[Pt,Et],{enumerable:!0,initializer:null}),bt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"imgHeight",[Pt,Et],{enumerable:!0,initializer:null}),ht=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"fontColor",[Pt,Et],{enumerable:!0,initializer:null}),vt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"nameColor",[Pt,Et],{enumerable:!0,initializer:null}),gt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"welcomeContent",[Pt,Et],{enumerable:!0,initializer:null}),yt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"occurrenceMode",[Pt,Et],{enumerable:!0,initializer:null}),st=ct))||st;function enterLevel120Actions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Actions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var kt,Rt,Tt,Bt="LEVEL120_CONFIG_GET_END",Mt=function(e){function EnterLevel120Action(){return function enterLevel120Actions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Action),function enterLevel120Actions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterLevel120Actions_inherits(EnterLevel120Action,e),EnterLevel120Action.findLevel120Config=function findLevel120Config(e){return{type:"ENTER_LEVEL120_CONFIG_GET",payload:e}},EnterLevel120Action.receiveLevel120Config=function receiveLevel120Config(e){return{type:Bt,payload:e}},EnterLevel120Action}(d.Action);function enterLevel120Services_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterLevel120Services_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Services_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zt,Lt,Ft,At=(kt=(0,n.a.Store)(),Rt=function(e){function EnterLevel120Services(){var t,r;!function enterLevel120Services_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Services);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterLevel120Services_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterLevel120Services_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Tt,r),enterLevel120Services_possibleConstructorReturn(r,t)}return enterLevel120Services_inherits(EnterLevel120Services,e),EnterLevel120Services.prototype.findEnterLevel120ByEpic=function findEnterLevel120ByEpic(){this.store.dispatch(Mt.findLevel120Config())},EnterLevel120Services}(d.Service),Tt=function enterLevel120Services_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Rt.prototype,"store",[kt],{enumerable:!0,initializer:null}),Rt);var It,xt,Gt,Ut,Ht,Wt,Vt,$t,Kt,Jt,qt,Qt,Yt,Xt,Zt,er,tr,rr,ir,nr,ar,or,lr,sr=(zt=(0,n.a.Service)(At),Lt=function(){function ChatEffectEpics(){!function enterLevel120Epics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffectEpics),function enterLevel120Epics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"enterLevel120Services",Ft,this)}return ChatEffectEpics.prototype.findLevel120Config=function findLevel120Config(e){return e.ofType("ENTER_LEVEL120_CONFIG_GET").pipe(Object(u.switchMap)(function(){return b.jsonpClient.get(jt,"//webconf.douyucdn.cn//resource/common/privilege/custom_effect2.json","customEffectConfig")}),Object(c.map)(Mt.receiveLevel120Config),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatEffectEpics}(),Ft=function enterLevel120Epics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Lt.prototype,"enterLevel120Services",[zt],{enumerable:!0,initializer:null}),Lt),cr=r("9b0dc"),ur=r.n(cr),pr=r("db47a");function BarrageCmdDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageCmdDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BarrageCmdDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmdDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmdDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageCmdDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fr,mr,dr,br,hr,vr=b.basicTypes.number,gr=b.basicTypes.string,yr=b.basicTypes.typed,_r=b.basicTypes.mapping,Sr=b.basicTypes.optional,Nr=(It=_r({commonColor:"common",keywordsColor:"keyword"}),Object(ee.log)(xt=It((Gt=function(e){function colorsDto(){var t,r;BarrageCmdDto_classCallCheck(this,colorsDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"commonColor",Ut,r),BarrageCmdDto_initDefineProp(r,"keywordsColor",Ht,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(colorsDto,e),colorsDto}(b.EntityDto),Ut=BarrageCmdDto_applyDecoratedDescriptor(Gt.prototype,"commonColor",[gr],{enumerable:!0,initializer:null}),Ht=BarrageCmdDto_applyDecoratedDescriptor(Gt.prototype,"keywordsColor",[gr],{enumerable:!0,initializer:null}),xt=Gt))||xt)||xt),Cr=(Wt=_r({action:"type",cmdName:"cmd"}),Object(ee.log)(Vt=Wt(($t=function(e){function cmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,cmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"action",Kt,r),BarrageCmdDto_initDefineProp(r,"cmdName",Jt,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(cmdDto,e),cmdDto}(b.EntityDto),Kt=BarrageCmdDto_applyDecoratedDescriptor($t.prototype,"action",[gr],{enumerable:!0,initializer:null}),Jt=BarrageCmdDto_applyDecoratedDescriptor($t.prototype,"cmdName",[gr],{enumerable:!0,initializer:null}),Vt=$t))||Vt)||Vt),wr=(qt=_r({colors:"colors",isRight:"is_right",sttcode:"str",cmd:"str_data",result:"str_msg",time4Show:"str_msg_showtime",followFont:"in",followNum:"cfer"}),Qt=yr(Nr),Yt=yr(Cr),qt((Zt=function(e){function BarrageCmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,BarrageCmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"colors",er,r),BarrageCmdDto_initDefineProp(r,"isRight",tr,r),BarrageCmdDto_initDefineProp(r,"sttcode",rr,r),BarrageCmdDto_initDefineProp(r,"cmd",ir,r),BarrageCmdDto_initDefineProp(r,"result",nr,r),BarrageCmdDto_initDefineProp(r,"time4Show",ar,r),BarrageCmdDto_initDefineProp(r,"followFont",or,r),BarrageCmdDto_initDefineProp(r,"followNum",lr,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(BarrageCmdDto,e),BarrageCmdDto}(b.EntityDto),er=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"colors",[Sr,Qt],{enumerable:!0,initializer:null}),tr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"isRight",[Sr,vr],{enumerable:!0,initializer:null}),rr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"sttcode",[Sr,gr],{enumerable:!0,initializer:null}),ir=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"cmd",[Sr,Yt],{enumerable:!0,initializer:null}),nr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"result",[Sr,gr],{enumerable:!0,initializer:null}),ar=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"time4Show",[Sr,vr],{enumerable:!0,initializer:null}),or=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"followFont",[Sr,gr],{enumerable:!0,initializer:null}),lr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"followNum",[Sr,gr],{enumerable:!0,initializer:null}),Xt=Zt))||Xt),Or=r("ca841"),Er=r("635ed"),Dr=r("15648");function barrageCmdEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageCmdEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Pr,jr,kr,Rr,Tr,Br=n.a.Service,Mr=(fr=Br(Dr.a),mr=Br(Er.a),dr=function(){function BarrageCmdEpics(){!function barrageCmdEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmdEpics),barrageCmdEpics_initDefineProp(this,"barrageCmdService",br,this),barrageCmdEpics_initDefineProp(this,"titleService",hr,this)}return BarrageCmdEpics.prototype.getBarrageCmdResult=function getBarrageCmdResult(e){var t=this;return e.ofType(Or.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(b.httpClient.post(wr,"/api/bcmd/dealResult",ur.a.stringify({str:t.str})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show;t.barrageCmdService.startCloseCd(i),Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e}),Object(c.map)(function(e){return Or.g.receiveCmd(e[0])}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setFollowWithCmd=function setFollowWithCmd(e){var t=this;return e.ofType(Or.e).pipe(Object(u.switchMap)(function(e){var t=e.payload;return b.httpClient.post(wr,"/room/follow/add_cmd_confuse",ur.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:1};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(pr.dysub)("click_msginstr_send",{instr:"\u5173\u6ce8",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Or.g.receiveCmd),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setUnFollowWithCmd=function setUnFollowWithCmd(e){var t=this;return e.ofType(Or.f).pipe(Object(u.switchMap)(function(e){var t=e.payload;return b.httpClient.post(wr,"/room/follow/cancel_cmd_confuse",ur.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:0};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(pr.dysub)("click_msginstr_send",{instr:"\u53d6\u5173",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Or.g.receiveCmd),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.getCmdBroadCastResult=function getCmdBroadCastResult(e){var t=this;return e.ofType(Or.d).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(b.httpClient.post(wr,"/api/bcmd/dealBroadResult",ur.a.stringify({str:t.cmdStt})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show,n=r.result;t.barrageCmdService.sendBroadResultToPlayer({duration:i,content:n}),t.barrageCmdService.startCloseCd(i),Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e[0]}),Object(c.map)(function(e){return Or.g.receiveCmd(e)}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics}(),br=barrageCmdEpics_applyDecoratedDescriptor(dr.prototype,"barrageCmdService",[fr],{enumerable:!0,initializer:null}),hr=barrageCmdEpics_applyDecoratedDescriptor(dr.prototype,"titleService",[mr],{enumerable:!0,initializer:null}),dr);function LitterSisterDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function LitterSisterDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function LitterSisterDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSisterDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function LitterSisterDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var zr,Lr,Fr,Ar=b.basicTypes.number,Ir=(Pr=(0,b.basicTypes.mapping)({femalePrivilege:"female_privilege",identSex:"ident_sex"}),Object(ee.log)(jr=Pr((kr=function(e){function LitterSisterDto(){var t,r;!function LitterSisterDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=LitterSisterDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),LitterSisterDto_initDefineProp(r,"femalePrivilege",Rr,r),LitterSisterDto_initDefineProp(r,"identSex",Tr,r),LitterSisterDto_possibleConstructorReturn(r,t)}return LitterSisterDto_inherits(LitterSisterDto,e),LitterSisterDto}(b.EntityDto),Rr=LitterSisterDto_applyDecoratedDescriptor(kr.prototype,"femalePrivilege",[Ar],{enumerable:!0,initializer:null}),Tr=LitterSisterDto_applyDecoratedDescriptor(kr.prototype,"identSex",[Ar],{enumerable:!0,initializer:null}),jr=kr))||jr)||jr),xr=r("eb4d3"),Gr=r("ef0ac"),Ur=r("df8dd");var Hr=(zr=(0,n.a.Service)(Ur.a),Lr=function(){function LitterSisterEpics(){!function litterSisterEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterEpics),function litterSisterEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"litterSisterService",Fr,this)}return LitterSisterEpics.prototype.getSisterStatusData=function getSisterStatusData(e){return e.ofType(Gr.c).pipe(Object(u.switchMap)(function(){return b.httpClient.get(Ir,"/member/female_privilege/get_privilege_info")}),Object(c.map)(function(e){return Gr.g.receiveUserInfo(e)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics.prototype.receivePriv=function receivePriv(e){return e.ofType(Gr.d).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value;return b.httpClient.post(String,"/member/female_privilege/receive_privilege",((t={})[r]=i,t),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){return Gr.g.dealReceivePriv(e)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics}(),Fr=function litterSisterEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Lr.prototype,"litterSisterService",[zr],{enumerable:!0,initializer:null}),Lr),Wr=r("c8aea"),Vr=r("64372");function nobleVisibleActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $r,Kr,Jr,qr="IS_HAS_INVISIBLE",Qr="GET_INVISIBLE_SATUS_END",Yr="SET_INVISIBLE_SATUS_END",Xr="UPDATE_INVISIBLE_STATUS",Zr=function(e){function NobleVisibleActions(){return function nobleVisibleActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleActions),function nobleVisibleActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleVisibleActions_inherits(NobleVisibleActions,e),NobleVisibleActions.receiveHasInvisible=function receiveHasInvisible(e){return{type:qr,payload:e}},NobleVisibleActions.getNobleVisibleStatus=function getNobleVisibleStatus(e){return{type:"GET_INVISIBLE_STAUS",payload:e}},NobleVisibleActions.receiveNobleVisibleStatus=function receiveNobleVisibleStatus(e){return{type:Qr,payload:e}},NobleVisibleActions.setNobleVisibleStatus=function setNobleVisibleStatus(e){return{type:"SET_INVISIBLE_SATUS",payload:e}},NobleVisibleActions.receiveSetNobleVisibleStatus=function receiveSetNobleVisibleStatus(e){return{type:Yr,payload:e}},NobleVisibleActions.updateNobleVisibleStatus=function updateNobleVisibleStatus(e){return{type:Xr,payload:e}},NobleVisibleActions}(d.Action);var ei,ti,ri,ii,ni,ai,oi,li=($r=(0,n.a.Store)(),Kr=function(){function NobleVisibleEpics(){!function nobleVisibleEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleEpics),function nobleVisibleEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",Jr,this)}return NobleVisibleEpics.prototype.getInvisible=function getInvisible(e){return e.ofType("GET_INVISIBLE_STAUS").pipe(Object(u.switchMap)(Vr.a),Object(u.switchMap)(function(e){var t=e.data;return b.httpClient.get(String,"/member/noble/getHideStatus",{type:2,rid:t.get("room.room_id")},{noCache:!0})}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===+e.code?Zr.receiveNobleVisibleStatus(+e.status||0):(p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:e.msg})}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics.prototype.setInvisible=function setInvisible(e){var t=this;return e.ofType("SET_INVISIBLE_SATUS").pipe(Object(Wr.throttleTime)(3e4),Object(u.switchMap)(Vr.a),Object(u.switchMap)(function(e){var r=e.data,i=e.payload;return Object(l.forkJoin)(b.httpClient.post(String,"/member/noble/setHideStatus",ur.a.stringify({type:2,rid:r.get("room.room_id"),status:t.store.getState().getInvisible.isInvisible?0:1})),Object(s.of)(i))}),Object(c.map)(function(e){var r=e[0],i=void 0===r?{}:r,n=e[1];if(0===+i.code){var a=+t.store.getState().getInvisible.isInvisible;return"fans"===n?a?p.a.success("\u7c89\u4e1d\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u7c89\u4e1d\u699c\u4e2d\u9690\u8eab"):a?p.a.success("\u8d21\u732e\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u8d21\u732e\u699c\u4e2d\u9690\u8eab"),Zr.receiveSetNobleVisibleStatus()}return p.a.error(i.msg||"\u672a\u77e5\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:i.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics}(),Jr=function nobleVisibleEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Kr.prototype,"store",[$r],{enumerable:!0,initializer:null}),Kr),si=r("f7bc0"),ci=r("90b45"),ui=r("2ea16");function barrageSuperLinkEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageSuperLinkEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pi=n.a.Store,fi=n.a.Service,mi=(ei=pi(),ti=fi(ui.a),ri=fi(si.a),ii=function(){function BarrageSuperLinkEpics(){!function barrageSuperLinkEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkEpics),barrageSuperLinkEpics_initDefineProp(this,"store",ni,this),barrageSuperLinkEpics_initDefineProp(this,"barrageSuperLinkServices",ai,this),barrageSuperLinkEpics_initDefineProp(this,"chatSendServices",oi,this)}return BarrageSuperLinkEpics.prototype.sendBarrageSuperLink=function sendBarrageSuperLink(e){var t=this;return e.ofType(ci.a).pipe(Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e.payload),t.barrageSuperLinkServices.reqBarrageHandleLinkData(e))}),Object(c.map)(function(e){var r=e[0]||{},i=e[1]||{},n=r.node,a=r.str;if(0===i.error){var o=i.data;return n.lk=o,t.chatSendServices.sendEnd(n,a),t.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_edit_send",{type:o.split("_")[0]||1}),ci.c.receiveBarrageLinkData(o)}return ci.c.updateBarrageLinkData({superLinkError:2})}))},BarrageSuperLinkEpics}(),ni=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"store",[ei],{enumerable:!0,initializer:null}),ai=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"barrageSuperLinkServices",[ti],{enumerable:!0,initializer:null}),oi=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"chatSendServices",[ri],{enumerable:!0,initializer:null}),ii);function nobleExpiredTipActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var di,bi,hi,vi,gi,yi="RECEIVE_NOBLE_CONFIG",_i=function(e){function NobleExpiredTipActions(){return function nobleExpiredTipActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipActions),function nobleExpiredTipActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleExpiredTipActions_inherits(NobleExpiredTipActions,e),NobleExpiredTipActions.getNobleConfig=function getNobleConfig(e){return{type:"GET_NOBLE_CONFIG",payload:e}},NobleExpiredTipActions.receiveNobleConfig=function receiveNobleConfig(e){return{type:yi,payload:e}},NobleExpiredTipActions}(d.Action),Si=r("e854a");function nobleExpiredTipServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleExpiredTipServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleExpiredTipServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleExpiredTipServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ni,Ci,wi,Oi,Ei,Di,Pi,ji,ki,Ri,Ti,Bi,Mi,zi=n.a.Store,Li=n.a.Service,Fi=Si.a.socketStream,Ai=(di=Li(b.DataCenter.localStorage),bi=zi(),hi=function(e){function NobleExpiredTipServices(){var t,r;!function nobleExpiredTipServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleExpiredTipServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleExpiredTipServices_initDefineProp(r,"localStorage",vi,r),nobleExpiredTipServices_initDefineProp(r,"store",gi,r),r.config={storageName:"room-nobleExpiredTip",storageExpireTime:1296e3,daysOf7:6048e5},nobleExpiredTipServices_possibleConstructorReturn(r,t)}return nobleExpiredTipServices_inherits(NobleExpiredTipServices,e),NobleExpiredTipServices.prototype.initSocket=function initSocket(){var e=this;Fi.subscribe("memberinfores",function(t){var r=parseInt(1e3*t.nets,10)||0,i=parseInt(1e3*t.npts,10)||0,n=parseInt(t.nl,10)||0,a=parseInt(t.npl,10)||0,o=(parseInt(t.ngb,10)||0)/100,l=e.config.storageName,s=e.localStorage.get(l)||{},c=s.showTimes,u=void 0===c?0:c,p=s.maxIntervalsTime,f=void 0===p?0:p;e.config.now=(new Date).getTime(),r>0&&e.localStorage.remove(l),!n&&a&&u<2&&e.config.now>=f&&e.store.dispatch(_i.getNobleConfig({frozenNobleYc:o,nobleProtectLevel:a,nobleProtectTime:i}))})},NobleExpiredTipServices.prototype.setLocalStorage=function setLocalStorage(){var e=this.config,t=e.storageName,r=e.storageExpireTime,i=e.daysOf7,n=this.localStorage.get(t)||{},a=n.showTimes,o=void 0===a?0:a;this.localStorage.set(t,Object.assign(n,{showTimes:o+1,maxIntervalsTime:this.config.now+i}),r)},NobleExpiredTipServices}(d.Service),vi=nobleExpiredTipServices_applyDecoratedDescriptor(hi.prototype,"localStorage",[di],{enumerable:!0,initializer:null}),gi=nobleExpiredTipServices_applyDecoratedDescriptor(hi.prototype,"store",[bi],{enumerable:!0,initializer:null}),hi);function NobleExpiredTipDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTipDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NobleExpiredTipDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleExpiredTipDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTipDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTipDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ii,xi,Gi,Ui=b.basicTypes.number,Hi=b.basicTypes.string,Wi=b.basicTypes.typed,Vi=b.basicTypes.optional,$i=b.basicTypes.mapping,Ki=(Ni=$i({nobleImg:"web_symbol_pic3"}),Object(ee.log)(Ci=Ni((wi=function(e){function SymbolDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,SymbolDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"nobleImg",Oi,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(SymbolDto,e),SymbolDto}(b.EntityDto),Oi=NobleExpiredTipDto_applyDecoratedDescriptor(wi.prototype,"nobleImg",[Vi,Hi],{enumerable:!0,initializer:null}),Ci=wi))||Ci)||Ci),Ji=(Ei=$i({level:"level",nobleName:"noble_name",symbolImg:"symbol",firstOpenPrice:"first_open_price",firstReopenPrice:"first_remand_gold"}),Di=Wi(Ki),Object(ee.log)(Pi=Ei((ji=function(e){function NobleExpiredTipDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,NobleExpiredTipDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"level",ki,r),NobleExpiredTipDto_initDefineProp(r,"firstOpenPrice",Ri,r),NobleExpiredTipDto_initDefineProp(r,"firstReopenPrice",Ti,r),NobleExpiredTipDto_initDefineProp(r,"nobleName",Bi,r),NobleExpiredTipDto_initDefineProp(r,"symbolImg",Mi,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(NobleExpiredTipDto,e),NobleExpiredTipDto}(b.EntityDto),ki=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"level",[Ui],{enumerable:!0,initializer:null}),Ri=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"firstOpenPrice",[Ui],{enumerable:!0,initializer:null}),Ti=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"firstReopenPrice",[Ui],{enumerable:!0,initializer:null}),Bi=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"nobleName",[Hi],{enumerable:!0,initializer:null}),Mi=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"symbolImg",[Vi,Di],{enumerable:!0,initializer:null}),Pi=ji))||Pi)||Pi);var qi,Qi,Yi,Xi=(Ii=(0,n.a.Service)(Ai),xi=function(){function NobleExpiredTipEpics(){!function nobleExpiredTipEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipEpics),function nobleExpiredTipEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"nobleExpiredTipService",Gi,this)}return NobleExpiredTipEpics.prototype.getNobleConfig=function getNobleConfig(e){return e.ofType("GET_NOBLE_CONFIG").pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(Object(s.of)(t),b.httpClient.get(Ji,"/noble/confignw"))}),Object(c.map)(function(e){var t=e[0],r=t.frozenNobleYc,i=void 0===r?0:r,n=t.nobleProtectTime,a=void 0===n?0:n,o=t.nobleProtectLevel,l=void 0===o?0:o,s=e[1].data,c=void 0===s?[]:s,u=new Date(a),p=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate(),f={};c.forEach(function(e,t){e.level===l&&(f=c[t]||{})});var m=f,d=m.nobleName,b=m.symbolImg.nobleImg,h=m.firstOpenPrice,v=void 0===h?0:h,g=m.firstReopenPrice,y={nobleImg:b?"//res.douyucdn.cn//resource/"+b:"",nobleName:d,frozenNobleYc:i,unfreezeDate:p,savedMoney:parseInt((v-(void 0===g?0:g))/100,10)};return _i.receiveNobleConfig(y)}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u83b7\u53d6\u8d35\u65cf\u914d\u7f6e\u6570\u636e\u51fa\u9519\uff01"})}))},NobleExpiredTipEpics}(),Gi=function nobleExpiredTipEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(xi.prototype,"nobleExpiredTipService",[Ii],{enumerable:!0,initializer:null}),xi),Zi=r("a6a50"),en=r("c5b95");var tn,rn,nn,an,on,ln,sn,cn,un,pn=(qi=(0,n.a.Service)(Zi.a),Qi=function(){function TreasureEpics(){!function treasureEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureEpics),function treasureEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"treasureService",Yi,this)}return TreasureEpics.prototype.drawTreasure=function drawTreasure(e){var t=this;return e.ofType(en.d).pipe(Object(u.switchMap)(function(e){return t.treasureService.drawTreasureRequest(e)}),Object(c.map)(function(e){var r={};if(0===+e.error){var i=e.data||"{}";r=JSON.parse(i)||{}}else{r=JSON.parse("{}")||{}}return 100100===+r.code&&t.treasureService.showChangeIdent(),en.q.showDrawResult(r)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},TreasureEpics}(),Yi=function treasureEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Qi.prototype,"treasureService",[qi],{enumerable:!0,initializer:null}),Qi),fn=r("3ffdf"),mn=r("28dfc"),dn=r("ac64b");function chatCampEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatCampEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var bn=n.a.Service,hn=(tn=bn(b.DataCenter.global),rn=bn(b.DataCenter.acj),nn=bn(b.DataCenter.localStorage),an=bn(mn.a),on=function(){function ChatCampEpics(){!function chatCampEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampEpics),chatCampEpics_initDefineProp(this,"global",ln,this),chatCampEpics_initDefineProp(this,"acj",sn,this),chatCampEpics_initDefineProp(this,"storage",cn,this),chatCampEpics_initDefineProp(this,"chatCampService",un,this)}return ChatCampEpics.prototype.initChatCamp=function initChatCamp(e){var t=this;return e.ofType(fn.b).pipe(Object(u.switchMap)(function(){return t.chatCampService.getJsonData()}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.setting,i=void 0===r?{}:r,n=e.switch?e.switch.web:0,a=!t.storage.get("chatCamp_remindIsShow"),o=i[t.global.get("$ROOM.room_id")||""]||{},l=o.camp_list||[],s=o.start_time?1e3*o.start_time:0,c=o.end_time?1e3*o.end_time:0,u=(new Date).getTime(),p=!1;if(n&&u<=c&&u>=s){p=!0,a&&t.storage.set("chatCamp_remindIsShow",1);var f=e.barrage_color_list,m=[];Object.keys(f).forEach(function(e){m.push({type:e,value:f[e]})});var d={colorList:m,startTime:o.start_time,endTime:o.end_time};t.acj.push(dn.c.JS_SET_BARRAGE_COLOR,d)}return fn.f.receiveChatCamp({campList:l,isInit:p,remindIsShow:a})}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatCampEpics}(),ln=chatCampEpics_applyDecoratedDescriptor(on.prototype,"global",[tn],{enumerable:!0,initializer:null}),sn=chatCampEpics_applyDecoratedDescriptor(on.prototype,"acj",[rn],{enumerable:!0,initializer:null}),cn=chatCampEpics_applyDecoratedDescriptor(on.prototype,"storage",[nn],{enumerable:!0,initializer:null}),un=chatCampEpics_applyDecoratedDescriptor(on.prototype,"chatCampService",[an],{enumerable:!0,initializer:null}),on);function lolVoteActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lolVoteActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vn,gn,yn,_n="receive_match_detail",Sn="receive_user_detail",Nn="show_vote_dialog",Cn="close_vote_dialog",wn="receive_vote_share_code",On="lol_user_vote_success",En=function(e){function LolVoteAction(){return function lolVoteActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteAction),function lolVoteActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lolVoteActions_inherits(LolVoteAction,e),LolVoteAction.getMatchDetail=function getMatchDetail(){return{type:"get_match_detail"}},LolVoteAction.receiveMatchDetail=function receiveMatchDetail(e){return{type:_n,payload:e}},LolVoteAction.getUserDetail=function getUserDetail(e){return{type:"get_user_detail",payload:e}},LolVoteAction.receiveUserDetail=function receiveUserDetail(e){return{type:Sn,payload:e}},LolVoteAction.lolVote=function lolVote(e){return{type:"lol_vote",payload:e}},LolVoteAction.showVoteDialog=function showVoteDialog(){return{type:Nn}},LolVoteAction.closeVoteDialog=function closeVoteDialog(){return{type:Cn}},LolVoteAction.getVoteShareCode=function getVoteShareCode(){return{type:"get_vote_share_code"}},LolVoteAction.receiveVoteShareCode=function receiveVoteShareCode(e){return{type:wn,payload:e}},LolVoteAction.lolUserVote=function lolUserVote(e){return{type:"lol_user_vote",payload:e}},LolVoteAction.userVoteComplete=function userVoteComplete(e){return{type:On,payload:e}},LolVoteAction}(d.Action),Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Pn,jn,kn,Rn,Tn,Bn,Mn={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},zn=(vn=(0,n.a.Store)(),gn=function(){function LolVoteEpics(){!function lolVoteEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteEpics),function lolVoteEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",yn,this)}return LolVoteEpics.prototype.getMatchDetail=function getMatchDetail(e){return e.ofType("get_match_detail").pipe(Object(u.switchMap)(function(){return b.httpClient.get(String,"/wgapi/activity/lol/getMatchDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return En.receiveMatchDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6lol\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getUserDetail=function getUserDetail(e){return e.ofType("get_user_detail").pipe(Object(u.switchMap)(function(){return b.httpClient.post(String,"/wgapi/activitync/lol/getUserDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return En.receiveUserDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getVoteShareCode=function getVoteShareCode(e){return e.ofType("get_vote_share_code").pipe(Object(u.switchMap)(function(){return b.httpClient.post(String,"/wgapi/activitync/lol/share")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data;return En.receiveVoteShareCode(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.lolUserVote=function lolUserVote(e){return e.ofType("lol_user_vote").pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value,n=e.payload;return b.httpClient.post(String,"/wgapi/activitync/lol/userSupportTeam",Dn({},n.payload,(t={},t[r]=i,t)),Mn).pipe(Object(c.map)(function(e){if(0===e.error){var t=JSON.parse(e.data);return t.tid=n.payload.tid,En.userVoteComplete(t)}return p.a.error(e.msg||"\u6295\u7968\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},LolVoteEpics}(),yn=function lolVoteEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gn.prototype,"store",[vn],{enumerable:!0,initializer:null}),gn);function ChatRoleBarrageDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrageDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrageDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrageDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrageDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ln,Fn,An,In,xn,Gn=b.basicTypes.string,Un=b.basicTypes.number,Hn=(Pn=(0,b.basicTypes.oneOf)(Gn,Un),Object(ee.log)((kn=function(e){function ChatRoleBarrageDto(){var t,r;!function ChatRoleBarrageDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrageDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrageDto_initDefineProp(r,"roleId",Rn,r),ChatRoleBarrageDto_initDefineProp(r,"name",Tn,r),ChatRoleBarrageDto_initDefineProp(r,"img",Bn,r),ChatRoleBarrageDto_possibleConstructorReturn(r,t)}return ChatRoleBarrageDto_inherits(ChatRoleBarrageDto,e),ChatRoleBarrageDto}(b.EntityDto),Rn=ChatRoleBarrageDto_applyDecoratedDescriptor(kn.prototype,"roleId",[Pn],{enumerable:!0,initializer:null}),Tn=ChatRoleBarrageDto_applyDecoratedDescriptor(kn.prototype,"name",[Gn],{enumerable:!0,initializer:null}),Bn=ChatRoleBarrageDto_applyDecoratedDescriptor(kn.prototype,"img",[Gn],{enumerable:!0,initializer:null}),jn=kn))||jn),Wn=r("a9e14"),Vn=r("fdaba");function chatRoleBarrageEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRoleBarrageEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $n=n.a.Service,Kn=(Ln=$n(Vn.a),Fn=$n(b.DataCenter.acj),An=function(){function ChatRoleBarrageEpics(){!function chatRoleBarrageEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageEpics),chatRoleBarrageEpics_initDefineProp(this,"ChatRoleBarrageService",In,this),chatRoleBarrageEpics_initDefineProp(this,"acj",xn,this)}return ChatRoleBarrageEpics.prototype.getRoleList=function getRoleList(e){var t=this;return e.ofType(Wn.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return b.httpClient.get(Hn,"/roomapi/biz/roleBarrage",{rid:t})}),Object(u.switchMap)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=void 0===e?[]:e;return t.acj.push(dn.c.JS_ROLE_BARRAGE_CONFIG,{data:r}),Object(s.of)(r)}),Object(c.map)(Wn.e.setupRoleList))},ChatRoleBarrageEpics}(),In=chatRoleBarrageEpics_applyDecoratedDescriptor(An.prototype,"ChatRoleBarrageService",[Ln],{enumerable:!0,initializer:null}),xn=chatRoleBarrageEpics_applyDecoratedDescriptor(An.prototype,"acj",[Fn],{enumerable:!0,initializer:null}),An);function emotionActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jn,qn,Qn,Yn,Xn="RECEIVE_LUSHI_EMOT_STATUS",Zn=function(e){function EmotionAction(){return function emotionActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionAction),function emotionActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return emotionActions_inherits(EmotionAction,e),EmotionAction.getLushiEmotStatus=function getLushiEmotStatus(e){return{type:"GET_LUSHI_EMOT_STATUS",payload:e}},EmotionAction.receiveLushiEmotStatus=function receiveLushiEmotStatus(e){return{type:Xn,payload:e}},EmotionAction}(d.Action);function emotionServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function emotionServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ea,ta,ra,ia=(Jn=(0,n.a.Store)(),Object(ee.log)((Qn=function(e){function EmotionServices(){var t,r;!function emotionServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=emotionServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function emotionServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Yn,r),emotionServices_possibleConstructorReturn(r,t)}return emotionServices_inherits(EmotionServices,e),EmotionServices.prototype.getLushiEmotStatus=function getLushiEmotStatus(){this.store.dispatch(Zn.getLushiEmotStatus())},EmotionServices}(d.Service),Yn=function emotionServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Qn.prototype,"store",[Jn],{enumerable:!0,initializer:null}),qn=Qn))||qn);var na,aa,oa,la,sa,ca=(ea=(0,n.a.Service)(ia),ta=function(){function EmotionEpics(){!function emotionEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionEpics),function emotionEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"emotionServices",ra,this)}return EmotionEpics.prototype.getLushiEmotStatus=function getLushiEmotStatus(e){return e.ofType("GET_LUSHI_EMOT_STATUS").pipe(Object(u.switchMap)(function(){return b.httpClient.get(String,"/special/goldLeague/getPackStatus")}),Object(c.map)(function(e){var t=e.error;return Zn.receiveLushiEmotStatus(Number(t))}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},EmotionEpics}(),ra=function emotionEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ta.prototype,"emotionServices",[ea],{enumerable:!0,initializer:null}),ta),ua=r("661e6"),pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function matchSystemEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function matchSystemEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fa=n.a.Service,ma={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},da=(na=(0,n.a.Store)(),aa=fa(b.DataCenter.acj),oa=function(){function MatchSystemEpics(){!function matchSystemEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemEpics),matchSystemEpics_initDefineProp(this,"store",la,this),matchSystemEpics_initDefineProp(this,"acj",sa,this)}return MatchSystemEpics.prototype.getMatchConfig=function getMatchConfig(e){return e.ofType(ua.h).pipe(Object(u.switchMap)(function(){return b.httpClient.get(String,"/wgapi/live/match/getConfig")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return ua.C.receiveMatchConfig(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u914d\u7f6e\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u914d\u7f6e\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},MatchSystemEpics.prototype.getMatchSystemUserDetail=function getMatchSystemUserDetail(e){return e.ofType(ua.i).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value;return b.httpClient.post(String,"/wgapi/livenc/match/user/getDetail",(t={conf_id:1,types:"1,2"},t[r]=i,t),ma).pipe(Object(c.map)(function(e){if(0===e.error){var t=JSON.parse(e.data);return ua.C.receiveMatchSystemUserDetail(t)}return p.a.error(e.msg||"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},MatchSystemEpics.prototype.changeMatchSystemMedal=function changeMatchSystemMedal(e){return e.ofType(ua.b).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value,n=e.payload;return b.httpClient.post(String,"/wgapi/livenc/match/user/changeMedal",pa({},n.payload,(t={},t[r]=i,t)),ma).pipe(Object(c.map)(function(e){return 0===e.error?ua.C.receiveChangeMatchSystemMedal(n):(p.a.error(e.msg||"\u66f4\u6362\u52cb\u7ae0\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg})}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},MatchSystemEpics.prototype.cancelMatchSystemTeamMedal=function cancelMatchSystemTeamMedal(e){return e.ofType(ua.a).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value;return b.httpClient.post(String,"/wgapi/livenc/match/user/cancelMedal",(t={game_type:1},t[r]=i,t),ma).pipe(Object(c.map)(function(e){return 0===e.error?ua.C.receiveCancelMatchSystemMedal():(p.a.error(e.msg||"\u53d6\u6d88\u4f69\u6234\u52cb\u7ae0\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg})}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},MatchSystemEpics.prototype.userSeizeMedal=function userSeizeMedal(e){var t=this;return e.ofType(ua.o).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var r,i=e.name,n=e.value,a=e.payload;return b.httpClient.post(String,"/wgapi/livenc/match/user/seizeMedal",pa({},a.payload,(r={},r[i]=n,r)),ma).pipe(Object(c.map)(function(e){if(0===e.error){p.a.success("\u9886\u53d6\u6210\u529f\uff01"),t.acj.push(dn.c.JS_MATCHSYS_SEIZEMEDAL);var r=JSON.parse(e.data);return ua.C.receiveUserSeizeMedal({teamId:a.payload.medal_id,isFirst:r})}return p.a.error(e.msg||"\u9886\u53d6\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},MatchSystemEpics}(),la=matchSystemEpics_applyDecoratedDescriptor(oa.prototype,"store",[na],{enumerable:!0,initializer:null}),sa=matchSystemEpics_applyDecoratedDescriptor(oa.prototype,"acj",[aa],{enumerable:!0,initializer:null}),oa),ba=r("60b36");n.a.Service;var ha=function(){function FirePowerEpics(){!function firePowerEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirePowerEpics)}return FirePowerEpics.prototype.checkFollow=function checkFollow(e){return e.ofType(ba.b).pipe(Object(u.switchMap)(function(e){var t=e.payload.rid;return b.httpClient.get(String,"/room/follow/check/"+t,null,{noCache:!0})}),Object(c.map)(function(e){e.error;var t=e.follow;return ba.h.update({isFollow:!!t})}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},FirePowerEpics.prototype.addFollow=function addFollow(e){return e.ofType(ba.a).pipe(Object(u.switchMap)(function(e){var t=e.payload.rid,r="/room/follow/add_confuse/"+t;return b.httpClient.post(String,r,Object(cr.stringify)({room_id:t}))}),Object(c.map)(function(e){var t=e.error,r=(e.msg,!1);return 0===t&&(r=!0),ba.h.update({isFollow:r})}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},FirePowerEpics}(),va=(0,n.a.combineEpicsClass)(wt,sr,Mr,Hr,li,mi,Xi,pn,hn,zn,Kn,ca,da,ha),ga=r("6e75a");function barrageTipsActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ya="BARRAGE_UPDATE_SYS_TIPS",_a="BARRAGE_HIDE_SYS_TIPS",Sa=function(e){function BarrageTipsAction(){return function barrageTipsActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsAction),function barrageTipsActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageTipsActions_inherits(BarrageTipsAction,e),BarrageTipsAction.updateSysTips=function updateSysTips(e){return{type:ya,payload:e}},BarrageTipsAction.hideSysTips=function hideSysTips(e){return{type:_a,payload:e}},BarrageTipsAction}(d.Action),Na=r("4735d"),Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wa=Na.a.BARRAGE_LIMIT.VISITOR,Oa={isLockScreen:!1,bufferCount:0,defaultLimit:wa.DEFAULT,bufferLimit:wa.BUFFER,tipsInfo:""};var Ea={barrageData:function barrageReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca({},Oa),t=arguments[1],r=t.type,i=t.payload,n={};switch(r){case ga.g:return Ca({},e,i);case ga.f:var a={isLockScreen:i};return!1===i&&(a.bufferCount=0),Ca({},e,a);case ga.d:var o=e.isLockScreen,l=e.bufferCount,s=e.bufferLimit,c=l+i;return o&&c<s?c>0&&(n={bufferCount:c}):n={isLockScreen:!1,bufferCount:0},Ca({},e,n);case ya:return Ca({},e,{tipsInfo:i});default:return e}}},Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Pa={tipsInfo:"",isShow:!1};var ja={barrageTips:function barrageTipsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da({},Pa),t=arguments[1],r=t.type,i=t.payload;switch(r){case ya:return Da({},e,{tipsInfo:i.tipsInfo,isShow:i.isShow});case _a:return Da({},e,{isShow:i.isShow});default:return e}}};function barrageGeeActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ka="BARRAGE_SHOW_GEE_TEST",Ra="BARRAGE_HIDE_GEE_TEST",Ta=function(e){function BarrageGeeAction(){return function barrageGeeActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeAction),function barrageGeeActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageGeeActions_inherits(BarrageGeeAction,e),BarrageGeeAction.showGeeTest=function showGeeTest(e){return{type:ka,payload:e}},BarrageGeeAction.hideGeeTest=function hideGeeTest(e){return{type:Ra,payload:e}},BarrageGeeAction}(d.Action),Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ma={dstUid:"",isShow:!1};var za={barrageGee:function barrageGeeReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba({},Ma),t=arguments[1],r=t.type,i=t.payload;switch(r){case ka:return Ba({},e,{dstUid:i.dstUid,isShow:i.isShow});case Ra:return Ba({},e,{isShow:i.isShow});default:return e}}},La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fa={colors:{commonColor:"#f03",keywordsColor:"#46abff"},isShow:!1},Aa=/\|br\|/g,Ia=/\u201c([^\u201d]+)\u201d/g;var xa={barrageCmd:function barrageCmdReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments[1];switch(t.type){case Or.c:var r=Object.assign({},Fa,t.payload.data),i=r.result,n=void 0===i?"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01":i,a=r.colors,o=function translateToHtml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa.keywordsColor;return e.replace(Aa,"<br/>").replace(Ia,'\u201c<span style="color:'+t+'">$1</span>\u201d')}(n,a.keywordsColor),l={commonColor:a.commonColor,isShow:!0};return n&&o&&(l.result=o),La({},e,l);case Or.a:return Object.assign({},e,{isShow:!1});default:return e}}};function chatRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ga="WEEKRANK_RECEIVE",Ua="OPEN_RANK_ALL",Ha="GET_USER_ROLE",Wa="GET_DEFAULT_CONFIG",Va="RECEIVE_ALLRANK_DATA",$a="RECEIVE_MONTHRANK_DATA",Ka=function(e){function ChatRankAction(){return function chatRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAction),function chatRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankActions_inherits(ChatRankAction,e),ChatRankAction.receiveWeekRank=function receiveWeekRank(e){return{type:Ga,payload:e}},ChatRankAction.openAllRank=function openAllRank(e){return{type:Ua,payload:e}},ChatRankAction.getUserRole=function getUserRole(e){return{type:Ha,payload:e}},ChatRankAction.setDeafultConfig=function setDeafultConfig(e){return{type:Wa,payload:e}},ChatRankAction.receiveAllRankSwitch=function receiveAllRankSwitch(e){return{type:Va,payload:e}},ChatRankAction.receiveMonthRankSwitch=function receiveMonthRankSwitch(e){return{type:$a,payload:e}},ChatRankAction}(d.Action),Ja={isRankAllShow:!1,isCloseAllRank:null,isCloseMonthRank:null};var qa={chatRank:function chatRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments[1];switch(t.type){case Ga:return Object.assign({},e,{weekRankList:t.payload});case Ua:return Object.assign({},e,{isRankAllShow:t.payload});case Ha:return Object.assign({},e,{userRole:t.payload});case Wa:return Object.assign({},e,{defaultConfig:t.payload});case Va:return Object.assign({},e,{isCloseAllRank:t.payload});case $a:return Object.assign({},e,{isCloseMonthRank:t.payload});default:return e}}};function nobleRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Qa="ONLINE_NOBLE_LIST",Ya="NOBLE_NUM_INFO",Xa="NOBLE_SUM_INFO",Za="NOBLE_IS_RENEW",eo=function(e){function NobleRankActions(){return function nobleRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankActions),function nobleRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleRankActions_inherits(NobleRankActions,e),NobleRankActions.receiveIsRenew=function receiveIsRenew(e){return{type:Za,payload:e}},NobleRankActions.receiveNobleList=function receiveNobleList(e){return{type:Qa,payload:e}},NobleRankActions.receiveNobleNumList=function receiveNobleNumList(e){return{type:Ya,payload:e}},NobleRankActions.receiveNobleSum=function receiveNobleSum(e){return{type:Xa,payload:e}},NobleRankActions}(d.Action),to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ro={nobleLevel:0,isInProtected:0,trial:0,nobleList:[],nobleSum:0,nobleSumCi:0,nobleNumList:[],nobleNumListci:0};var io={getNoble:function getNoble(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=arguments[1];switch(t.type){case Za:return to({},e,t.payload);case Qa:return to({},e,{nobleList:t.payload});case Ya:return to({},e,{nobleNumList:t.payload.nobleNumList,nobleNumListci:t.payload.ci});case Xa:return to({},e,{nobleSum:t.payload.num,nobleSumCi:t.payload.ci});default:return e}}},no=function filterMedalData(e,t){return e.filter(function(e){return e.medalRid===t})},ao={MEDAL_LIST_BACK:function MEDAL_LIST_BACK(e,t){return Object.assign({},t,e)},RECEIVE_MEDAL_SWITCH:function RECEIVE_MEDAL_SWITCH(e,t){return Object.assign({},t,{medalSwitch:e})},MEDAL_DATA_UPDATE:function MEDAL_DATA_UPDATE(e,t){return Object.assign({},t,e)},MEDAL_OPERATION_BACK:function MEDAL_OPERATION_BACK(e,t){switch(e.wareStatus){case 1:return Object.assign({},t,{wareStatus:1,wareMedalId:0});case 2:var r=0,i=t.medalList.slice(0);return t.medalList.forEach(function(t){r+=1,t.medalRid===e.wareMedalId&&(i.splice(r-1,1),i.unshift(t))}),Object.assign({},t,{wareStatus:2,wareMedalId:e.wareMedalId,medalList:i});default:return t}},MEDAL_UPDATE_BACK:function MEDAL_UPDATE_BACK(e,t){var r=e,i=t.medalList.slice(0),n="synfimd"===r.type?r.updateMedalRid||t.wareMedalId:t.ownerRoomId,a=no(i,n)[0],o=function searchMedalIndex(e,t){for(var r=0;r<e.length;r++)if(e[r].medalRid===t)return r;return-1}(i,n);return a?(r.fansMedal=Object.assign({},a.fansMedal,r.fansMedal),delete r.type,delete r.updateMedalRid,i.splice(o,1,Object.assign({},a,r)),Object.assign({},t,{medalList:i})):t},MEDAL_GET_BACK:function MEDAL_GET_BACK(e,t){var r=t.medalList.slice(0);return no(r,e.medalRid)[0]?t:(r.unshift(e),Object.assign({},t,{wareStatus:0===t.wareStatus?1:t.wareStatus,firstCharge:0,medalList:r}))},MEDAL_OPERATION_DELETE:function MEDAL_OPERATION_DELETE(e,t){var r=t.medalList.slice(0),i=0;return no(r,e)[0]?(t.medalList.forEach(function(t){i+=1,t.medalRid===e&&r.splice(i-1,1)}),Object.assign({},t,{medalList:r})):t}},oo={isShowMedalPanel:function isShowMedalPanel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:0},t=arguments[1];switch(t.type){case f.j:var r=t.payload;return Object.assign({},e,r);default:return e}},medalDialogStatus:function medalDialogStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dialogType:1,hoverShow:1,defaultShow:0}],t=arguments[1];switch(t.type){case f.b:return e.some(function(e){return e.dialogType===t.payload.dialogType})?e:[].concat(e,[t.payload]);case f.a:return e.slice(0).filter(function(e){return e.dialogType!==t.payload});default:return e}},medalListMsgData:function medalListMsgData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{medalSwitch:0,wareStatus:0,ownerMedalName:"\u7c89\u4e1d",ownerMedalRank:0,isReqAnchorInfo:0,firstCharge:0,ownerRoomId:0,medalList:[]},t=arguments[1];return ao[t.type]?ao[t.type](t.payload,e):e}},lo={medalDroppingList:function medalDroppingList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"MEDAL_DROPPING_LIST":return t.payload;default:return e}},medalDroppingClose:function medalDroppingClose(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch(arguments[1].type){case"MEDAL_DROPPING_CLOSE":return 0;default:return e}},medalDroppingRemainStatus:function medalDroppingRemainStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"MEDAL_DROPPING_REMAIN_SWITCH":return e?0:1;default:return e}}};function horn4CategoryActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var so="ROOM_PLAYERASIDE_SET_HORNCOUNT",co="ROOM_PLAYERASIDE_SET_HORNMUTE",uo="ROOM_PLAYERASIDE_HANDLE_HORNRESPONSE",po="ROOM_PLAYERASIDE_HANDLE_HORNNOBLE",fo="ROOM_PLAYERASIDE_HANDLE_HORNMODE",mo=function(e){function Horn4CategoryActions(){return function horn4CategoryActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryActions),function horn4CategoryActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return horn4CategoryActions_inherits(Horn4CategoryActions,e),Horn4CategoryActions.setHornCount=function setHornCount(e){return{type:so,payload:e}},Horn4CategoryActions.handleHornResponse=function handleHornResponse(e){return{type:uo,payload:e}},Horn4CategoryActions.setNobleStatus=function setNobleStatus(e){return{type:po,payload:e}},Horn4CategoryActions.setMute=function setMute(e){return{type:co,payload:e}},Horn4CategoryActions.setMode=function setMode(e){return{type:fo,payload:e}},Horn4CategoryActions}(d.Action),bo=r("b1219"),ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},vo={count:0,leadTipShowState:0,checkingCont:"",errorStatus:-1,mode:0,btnType:0,statusTxt:"",openType:0,nobleLevel:0,nobleProtectLevel:0,muteType:-1,muteDesc:"",unMuteTime:"",showTip:0};var go={horn4CategoryData:function horn4CategoryData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo,t=arguments[1],r=t.payload;switch(t.type){case so:return ho({},e,r);case co:var i=parseInt(1e3*r.met,10);return ho({},e,{muteType:r.mtype,muteDesc:["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r.mtype-1],unMuteTime:bo.a.formatDate(i,"yyyy\u5e74MM\u6708dd\u65e5 hh:mm:ss")});case uo:case po:return ho({},e,r);case fo:var n=r.btnType,a=ho({},e,r);return 3===n&&(a.statusTxt="\u5ba1\u6838\u672a\u901a\u8fc7\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a;default:return e}}},yo=r("abea4"),_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},So={isLogin:!1,status:1,isSetFansSpeak:!1,hasFansMedal:!1,isMute:!1,muteType:1,muteTime:0,fansColor:null,dataError:0,danmuPkStatus:0};var No={chatSendData:function chatSendData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:So,t=arguments[1];switch(t.type){case yo.f:return _o({},e,{status:t.payload});case yo.d:var r=t.payload,i=r.mtype,n=r.met;return _o({},e,{status:3,muteType:i,muteTime:n});case yo.c:return _o({},e,{fansColor:t.payload});case yo.a:return _o({},e,{cdTime:t.payload});case yo.e:return _o({},e,{dataError:t.payload});case yo.b:return _o({},e,{danmuPkStatus:t.payload});default:return e}}};function enterEffectActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Co="RECEIVE_LEVEL120_ENTER",wo="RECEIVE_NOBLE_ENTER",Oo="RECEIVE_WINDCLOUD_ENTER",Eo="RECEIVE_NORMAL_ENTER",Do="RECEIVE_MOTORCADE_ENTER",Po="RECEIVE_SHARK_ENTER",jo="DELETE_LEVEL120_ENTER",ko="DELETE_NOBLE_ENTER",Ro="DELETE_WINDCLOUD_ENTER",To="DELETE_NORMAL_ENTER",Bo="DELETE_MOTORCADE_ENTER",Mo="DELETE_SHARK_ENTER",zo="RECEIVE_PROPERTY_ENTER",Lo="DELETE_PROPERTY_ENTER",Fo=function(e){function EnterEffectAction(){return function enterEffectActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectAction),function enterEffectActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterEffectActions_inherits(EnterEffectAction,e),EnterEffectAction.receiveLevel120Enter=function receiveLevel120Enter(e){return{type:Co,payload:e}},EnterEffectAction.receiveNobleEnter=function receiveNobleEnter(e){return{type:wo,payload:e}},EnterEffectAction.receiveWindCloudEnter=function receiveWindCloudEnter(e){return{type:Oo,payload:e}},EnterEffectAction.receiveNormalEnter=function receiveNormalEnter(e){return{type:Eo,payload:e}},EnterEffectAction.receiveMotorcadeEnter=function receiveMotorcadeEnter(e){return{type:Do,payload:e}},EnterEffectAction.receiveSharkEnter=function receiveSharkEnter(e){return{type:Po,payload:e}},EnterEffectAction.deleteEnter=function deleteEnter(e){return{type:e}},EnterEffectAction.receivePropertyEnter=function receivePropertyEnter(e){return{type:zo,payload:e}},EnterEffectAction}(d.Action),Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Io={level120Queue:[],nobleQueue:[],windCloudQueue:[],normalQueue:[],motorcadeQueue:[],sharkQueue:[],propertyQueue:[]};var xo={enterEffecUenter:function enterEffecUenter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io,t=arguments[1];switch(t.type){case Co:return e.level120Queue.push(t.payload),Ao({},e);case jo:return e.level120Queue.shift(),Ao({},e);case wo:return e.nobleQueue.push(t.payload),Ao({},e);case ko:return e.nobleQueue.shift(),Ao({},e);case Oo:return e.windCloudQueue.push(t.payload),Ao({},e);case Ro:return e.windCloudQueue.shift(),Ao({},e);case Eo:return e.normalQueue.push(t.payload),Ao({},e);case To:return e.normalQueue.shift(),Ao({},e);case Do:return e.motorcadeQueue.push(t.payload),Ao({},e);case Bo:return e.motorcadeQueue.shift(),Ao({},e);case Po:return e.sharkQueue.push(t.payload),Ao({},e);case Mo:return e.sharkQueue.shift(),Ao({},e);case zo:return e.propertyQueue.push(t.payload),Ao({},e);case Lo:return e.propertyQueue.shift(),Ao({},e);default:return e}}},Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Uo={config:[]};var Ho={chatEnterLevel120:function chatEnterLevel120(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=arguments[1];switch(t.type){case Bt:var r=t.payload.data;return Go({},e,{config:r});default:return e}}},Wo=r("53508");function chatToolBarActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Vo=function(e){function ChatToolBarAction(){return function chatToolBarActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarAction),function chatToolBarActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatToolBarActions_inherits(ChatToolBarAction,e),ChatToolBarAction.openLetter=function openLetter(e){return{type:"OPEN_CHAT_LETTER",payload:e}},ChatToolBarAction.openFace=function openFace(e){return{type:"OPEN_CHAT_FACE",payload:e}},ChatToolBarAction.openFansBarrageBox=function openFansBarrageBox(e){return{type:"OPEN_FANS_BARRAGE_BOX",payload:e}},ChatToolBarAction.scrollToolbar=function scrollToolbar(e){return{type:"SCROLL_TOOL_BAR",payload:e}},ChatToolBarAction.observerFansBarrage=function observerFansBarrage(e){return{type:"OBSERVER_FANS_BARRAGE",payload:e}},ChatToolBarAction.sendSelectedIndex=function sendSelectedIndex(e){return{type:"SEND_SELECTED_INDEX",payload:e}},ChatToolBarAction.closeFansBarrage=function closeFansBarrage(e){return{type:"CLOSE_FANS_BARRAGE",payload:e}},ChatToolBarAction.updateCampColor=function updateCampColor(e){return{type:"UPDATE_CAMP_COLOR",payload:e}},ChatToolBarAction}(d.Action),$o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ko={fansBarrageLv:Wo.a.list,selectedIndex:0,colorValue:Wo.a.colorArr[0],receiveSummerReward:!1},Jo={openLetter:function openLetterReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_CHAT_LETTER":return t.payload;default:return e}},openFace:function openFaceReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_CHAT_FACE":return e?0:1;default:return e}},openFansBarrageBox:function openFansBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_FANS_BARRAGE_BOX":return e?0:1;default:return e}},chatToolBar:function chatToolBarReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ko,t=arguments[1];switch(t.type){case"SCROLL_TOOL_BAR":return Object.assign({},e,t.payload);case"OBSERVER_FANS_BARRAGE":return $o({},e,{fansBarrageLv:t.payload.list,selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:Wo.a.colorArr[t.payload.selectedIndex],receiveSummerReward:t.payload.receiveSummerReward});case"SEND_SELECTED_INDEX":return $o({},e,{selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:Wo.a.colorArr[t.payload.selectedIndex]});case"CLOSE_FANS_BARRAGE":return $o({},e,{color:0,selectedIndex:0,colorValue:Wo.a.colorArr[0]});case"UPDATE_CAMP_COLOR":return $o({},e,{color:t.payload.color,selectedIndex:0,colorValue:t.payload.colorValue});default:return e}}},qo=r("c5fb9"),Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Yo={btnStatus:0,isTipsShow:0,toggleStatus:0,isOpenReminder:!0,nobleChatBarrage:!1,isNobleBarrage:!1,nobleInfo:{nl:0,remindStatus:0}},Xo={openNobleBarrageBox:function openNobleBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case qo.b:return t.payload;default:return e}},nobleBarrageData:function nobleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo,t=arguments[1];switch(t.type){case qo.c:return Object.assign({},e,t.payload);case qo.e:return Qo({},e,{nobleInfo:Qo({},e.nobleInfo,t.payload)});case qo.d:return Qo({},e,{isNobleBarrage:!e.isNobleBarrage});case qo.a:return Qo({},e,{isNobleBarrage:!1});default:return e}}};function chatRankAllActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Zo="ALL_RANK_RECEIVE",el="OPEN_RANK_ALL",tl="GET_DEFAULT_CONFIG",rl="RECEIVE_MONTH_RANK",il=function(e){function ChatRankAllAction(){return function chatRankAllActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllAction),function chatRankAllActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankAllActions_inherits(ChatRankAllAction,e),ChatRankAllAction.receiveAllRank=function receiveAllRank(e){return{type:Zo,payload:e}},ChatRankAllAction.receiveMonthRank=function receiveMonthRank(e){return{type:rl,payload:e}},ChatRankAllAction.openAllRank=function openAllRank(e){return{type:el,payload:e}},ChatRankAllAction.setDeafultConfig=function setDeafultConfig(e){return{type:tl,payload:e}},ChatRankAllAction}(d.Action),nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var al={chatRankAllData:function chatRankAllData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments[1];switch(t.type){case Zo:var r=t.payload;return nl({},e,{rankAllData:r});case rl:var i=t.payload;return nl({},e,{rankMonthData:i});case el:return Object.assign({},e,{isRankAllShow:t.payload});case tl:return Object.assign({},e,{defaultConfig:t.payload});default:return e}}};function shieldToolActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ol={999:{id:999,type:"allShield",text:"\u5c4f\u853d\u7279\u6548"},106:{id:106,type:"allGift",text:"\u5c4f\u853d\u5168\u90e8\u793c\u7269"},107:{id:107,type:"message",text:"\u5c4f\u853d\u6d88\u606f\u901a\u77e5"},108:{id:108,type:"videoBroadcast",text:"\u5c4f\u853d\u89c6\u9891\u5e7f\u64ad"},105:{id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269"},110:{id:110,type:"userEnter",text:"\u5c4f\u853d\u8fdb\u573a\u6d88\u606f"}},ll={105:0,106:0,107:0,108:0,110:0},sl=function(e){function ShieldingActions(){return function shieldToolActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldingActions),function shieldToolActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return shieldToolActions_inherits(ShieldingActions,e),ShieldingActions.switchShield=function switchShield(e){return{type:"SWITCH_SHIELD",payload:e}},ShieldingActions.updateShield=function updateShield(e){return{type:"UPDATE_SHIELD",payload:e}},ShieldingActions}(d.Action);var cl=Object.keys(ll).length,ul={shieldConfig:function shieldConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},ll),t=arguments[1];switch(t.type){case"SWITCH_SHIELD":var r=Object.assign({},ol),i=t.payload,n="allShield"===i.type?1:0,a=r[999],o=Object.assign({},e);if(n?Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&(r[e].state=a.state?0:1,o[e]=a.state?0:1)}):(r[i.id].state=i.state?0:1,o[i.id]=i.state?0:1),!n){var l=0;Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&1===r[e].state&&(l+=1)}),l===cl?(a.state=1,o[999]=1):l>0&&l<cl?(a.state=2,o[999]=2):(a.state=0,o[999]=0)}return Object.assign({},o);case"UPDATE_SHIELD":var s=t.payload||{},c=function selectShieldNum(e){var t=0;return Object.keys(e).forEach(function(r){999!==+r&&1===e[r]&&(t+=1)}),t}(s);return s[999]=0,c>=cl?s[999]=1:c>0&&c<cl&&(s[999]=2),Object.assign({},s);default:return e}}};function barrageFilterActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pl="BARRAGEFILTER_SET_FILTER_DATA",fl=function(e){function BarrageFilterAction(){return function barrageFilterActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterAction),function barrageFilterActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageFilterActions_inherits(BarrageFilterAction,e),BarrageFilterAction.setFilterData=function setFilterData(e){return{type:pl,payload:e}},BarrageFilterAction}(d.Action),ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},dl={type:"global",keywords:[],levelFilter:0,levelLimit:"",keywordsFilter:0};var bl={barrageFilterReducers:function barrageFilterReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dl,t=arguments[1],r=t.type,i=t.payload,n=void 0===i?{}:i;switch(r){case pl:return ml({},e,n);default:return e}}};function fansRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var hl="FANS_RANK_LIST",vl="FANS_RANK_SUM",gl="INCREASE_FANS_SUM",yl="IS_OPEN_FANS",_l="HAS_ROOM_FANSMEDAL",Sl="ROOM_FANS_MEDAL",Nl="OWNER_FNAS_RANK",Cl="OWNER_MEDAL_LEVEL",wl="FANS_RANKALL_SHOW",Ol="FANS_RANKALL_LIST",El=function(e){function FansRankActions(){return function fansRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankActions),function fansRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return fansRankActions_inherits(FansRankActions,e),FansRankActions.receiveFansList=function receiveFansList(e){return{type:hl,payload:e}},FansRankActions.receiveFansSum=function receiveFansSum(e){return{type:vl,payload:e}},FansRankActions.increaseFansSum=function increaseFansSum(e){return{type:gl,payload:e}},FansRankActions.updateOpenFans=function updateOpenFans(e){return{type:yl,payload:e}},FansRankActions.receiveHasRoomFansMedal=function receiveHasRoomFansMedal(e){return{type:_l,payload:e}},FansRankActions.receiveRoomFansMedal=function receiveRoomFansMedal(e){return{type:Sl,payload:e}},FansRankActions.receiveOwnerFansRank=function receiveOwnerFansRank(e){return{type:Nl,payload:e}},FansRankActions.receiveOwnerMedaLevel=function receiveOwnerMedaLevel(e){return{type:Cl,payload:e}},FansRankActions.toggleFansRankAll=function toggleFansRankAll(e){return{type:wl,payload:e}},FansRankActions.receiveFansAllList=function receiveFansAllList(e){return{type:Ol,payload:e}},FansRankActions}(d.Action),Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Pl={isOpenFans:!0,fansSum:0,fansSumCi:0,fansRankList:[],hasRoomFansMedal:0,roomFansMedal:"",ownerMedalLevel:"",ownerFansRank:"--",isShowFansRankAll:!1,fansRankAllList:[]};var jl={getFansRank:function getFansRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,t=arguments[1];switch(t.type){case yl:return Dl({},e,{isOpenFans:t.payload});case vl:return Dl({},e,{fansSum:t.payload.fc,fansSumCi:t.payload.ci});case gl:var r=e.fansSum>=50?e.fansSum+1:e.fansSum;return Dl({},e,{fansSum:r});case hl:return Dl({},e,{fansRankList:t.payload,isOpenFans:!0});case _l:return Dl({},e,{hasRoomFansMedal:!0,isOpenFans:!0});case Sl:return Dl({},e,{roomFansMedal:t.payload});case Cl:return Dl({},e,{ownerMedalLevel:t.payload});case Nl:return Dl({},e,{ownerFansRank:t.payload});case wl:return Dl({},e,{isShowFansRankAll:t.payload});case Ol:return Dl({},e,{fansRankAllList:t.payload,isOpenFans:!0});default:return e}}},kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Rl={isShowDialog:!1,femalePrivilege:0,identSex:0,dlgText:"",btnText:"",slogan:"",desc:""},Tl=["\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u53ef\u9886\u53d6\u7279\u6743","\u60a8\u7684\u5b9e\u540d\u8ba4\u8bc1\u7ed3\u679c\u4e3a\u7537\u6027\uff0c\u53ea\u80fd\u6b23\u8d4f\u800c\u4e0d\u53ef\u62e5\u6709\u5c0f\u59d0\u59d0\u7279\u6743~","\u60a8\u5df2\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1\u4e14\u8ba4\u8bc1\u4e3a\u5973\u6027\uff0c\u53ef\u4ee5\u9886\u53d6\u7279\u6743~","\u76ee\u524d\u53ea\u652f\u6301\u5927\u9646\u8eab\u4efd\u8bc1\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u624d\u80fd\u9886\u53d6\u7279\u6743"],Bl=["\u7acb\u5373\u8ba4\u8bc1","\u6715\u77e5\u9053\u4e86","\u9886\u53d6\u7279\u6743","\u6211\u77e5\u9053\u4e86"],Ml=["\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743","\u9886\u53d6\u6210\u529f\uff01"],zl=["\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01","\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743\uff0c\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01"];var Ll={litterSisterData:function litterSisterData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments[1];switch(t.type){case Gr.f:return kl({},e,{isShowDialog:!0});case Gr.a:return kl({},e,{isShowDialog:!1});case Gr.e:var r=t.payload;if(0===Number(r.error)){var i=r.data;return kl({},e,{femalePrivilege:i.femalePrivilege,identSex:i.identSex,dlgText:Tl[i.identSex],btnText:Bl[i.identSex],slogan:Ml[i.femalePrivilege],desc:zl[i.femalePrivilege],isShowDialog:!0})}return p.a.error(r.msg),e;case Gr.b:var n=t.payload;return 0===Number(n.error)?kl({},e,{femalePrivilege:1,identSex:2,dlgText:Tl[2],btnText:Bl[2],slogan:Ml[1],desc:zl[1]}):(p.a.error(n.msg),e);default:return e}}},Fl={BarrageSuperLinkData:function BarrageSuperLinkData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{superLinkSwitch:0,superLinkShow:0,superLinkContent:"",superLinkError:0},t=arguments[1];switch(t.type){case ci.b:return Object.assign({},e,t.payload);default:return e}}};function nobleReminderActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Al="UPDATE_NOBLE_REMINDER_TYPE",Il=function(e){function NobleReminderActions(){return function nobleReminderActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderActions),function nobleReminderActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleReminderActions_inherits(NobleReminderActions,e),NobleReminderActions.openNobleReminder=function openNobleReminder(e){return{type:"OPEN_NOBLE_REMINDER",payload:e}},NobleReminderActions.updateNobleReminderType=function updateNobleReminderType(e){return{type:Al,payload:e}},NobleReminderActions}(d.Action),xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Gl={openNobleReminder:function openNobleReminderReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_NOBLE_REMINDER":return t.payload;default:return e}},updateNobleReminderType:function nobleReminderReducers_updateNobleReminderType(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case Al:return xl({},e,{nobleReminderType:t.payload});default:return e}}},Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hl={hasInvisible:0,isInvisible:0};var Wl={getInvisible:function nobleVisibleReducers_getInvisible(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,t=arguments[1];switch(t.type){case qr:return Ul({},e,{hasInvisible:t.payload});case Qr:return Ul({},e,{isInvisible:t.payload});case Yr:return Ul({},e,{isInvisible:!e.isInvisible});case Xr:return Ul({},e,{isInvisible:t.payload});default:return e}}},Vl={nobleImg:"",nobleName:"",frozenNobleYc:0,unfreezeDate:"",savedMoney:0};var $l={nobleExpiredTipData:function nobleExpiredTipReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments[1];switch(t.type){case yi:return Object.assign({},Vl,t.payload);default:return e}}},Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Jl={treasureData:function treasureData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],type:"",isDestory:!1,bindStatus:0,isGeePanelsShow:!1,isBanUser:0,banList:[]},t=arguments[1];switch(t.type){case en.i:return e.data.push(t.payload.data),Object.assign({},e,{data:e.data,type:t.payload.type,isDestory:!1,isBanUser:0});case en.j:return Object.assign({},e,{data:t.payload.data,type:t.payload.type,isDestory:!1,isBanUser:0});case en.b:var r=function cutOverTimeData(e,t){var r=parseInt((new Date).getTime()/1e3,10),i=[];return e.shift(),e.forEach(function(e){t&&t.length?e.destroyTime>r&&t.indexOf(e.senderUid)<0&&i.push(e):e.destroyTime>r&&i.push(e)}),i}(e.data,e.banList);return Object.assign({},e,{data:r,isDestory:!0,isGeePanelsShow:!1,isBanUser:0});case en.n:return Object.assign({},e,{bindStatus:1,isDestory:!1,isBanUser:0});case en.p:return Object.assign({},e,{isGeePanelsShow:t.payload,isDestory:!1,isBanUser:0});case en.a:var i=t.payload,n=e.banList||[];n.push(i);var a=function filterData(e,t){var r=[],i=0;return e&&e.length&&e[0]&&t.indexOf(e[0].senderUid)>=0?(e.forEach(function(e){t.indexOf(e.senderUid)<0&&r.push(e)}),i=1):r=e,{backList:r,type:i}}(Object.assign(e.data),n);return Object.assign({},e,{data:a.backList||[],isDestory:a.type>0?1:0,isBanUser:a.type,banList:n})}return e},treasureDrawResult:function treasureDrawResult(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case en.g:return Object.assign({},e,{data:t.payload,isShowGee:!1});case en.h:return Object.assign({},e,{data:{},isShowGee:!1});case en.m:return Object.assign({},e,{isShowGee:!0});case en.l:return Object.assign({},e,{data:{},isShowGee:!1})}return e},tipsMsg:function tipsMsg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case en.o:return Object.assign({},e,{data:t.payload});case en.l:return{data:{isban:1}}}return e},treasureLuckyTips:function treasureLuckyTips(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case en.k:return Object.assign({},e,t.payload);case en.c:return{}}return e},treasureInfoFlag:function treasureInfoFlag(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case en.p:return t.payload}return e},treasureIdent:function treasureIdent(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments[1].type){case en.e:return Kl({},e,{showIdent:!0});case en.f:return Kl({},e,{showIdent:!1})}return e}},ql=r("873c9"),Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Yl={hasGetData:!1,isVisitor:!0,isNormal:!1,isAnchor:!1,isRoomAdmin:!1,isSuperAdmin:!1};var Xl={userRoleData:function userRoleData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments[1];switch(t.type){case ql.a:return Ql({},e,t.payload,{hasGetData:!0});default:return e}}},Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},es={isShow:!1,isInit:!1,remindIsShow:!1,selectIndex:-1,color:"",campList:[],giftIds:[]};var ts={chatCamp:function chatCampReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl({},es),t=arguments[1],r=t.type,i=t.payload;switch(r){case fn.e:return Zl({},e,{isShow:i.isShow,remindIsShow:!1});case fn.c:return Zl({},e,{campList:i.campList,isInit:i.isInit,remindIsShow:i.remindIsShow});case fn.d:return Zl({},e,{selectIndex:i.campId,giftIds:i.giftIds,color:i.color});case fn.a:return Zl({},e,{isShow:!1,giftIds:[],color:"",selectIndex:-1});default:return e}}},rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},is={gameStage:0,isGaming:0,matchingTeams:[],teamsList:[],inviteNum:0,ticketNum:0,shareCode:"",showVoteDialog:!1};var ns={lolVoteData:function lolVoteReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is,t=arguments[1];switch(t.type){case _n:var r=t.payload,i=r.gameStage,n=r.isGaming,a=r.teamsList1,o=r.teamsList2;return rs({},e,{gameStage:i,isGaming:n,matchingTeams:a,teamsList:o});case Nn:return rs({},e,{showVoteDialog:!0});case Cn:return rs({},e,{showVoteDialog:!1});case wn:return rs({},e,{shareCode:t.payload});case Sn:var l=t.payload,s=l.ticketNum,c=l.inviteNum,u=l.teamsList;return rs({},e,{ticketNum:s,inviteNum:c,teamsList:u});case On:var p=t.payload,f=e;return f.ticketNum=p.ticketNum,f.teamsList.forEach(function(e){var t=e;e.id===p.tid&&(t.isSupport=1)}),f;default:return e}}},as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},os={roleList:[],selectedRole:null};var ls={chatRoleBarrageData:function chatRoleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os,t=arguments[1],r=t.type,i=t.payload;switch(r){case Wn.c:return as({},e,{roleList:i});case Wn.d:return as({},e,{selectedRole:i});case Wn.a:return as({},e,{selectedRole:null});default:return e}}},ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},cs={lushiStatusCode:""};var us={emotionData:function emotionReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs,t=arguments[1];switch(t.type){case Xn:return ss({},e,{lushiStatusCode:t.payload});default:return e}}},ps=r("9da96"),fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ms={type:"",visible:!1};var ds={followTipsData:function followTipsData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,t=arguments[1];switch(t.type){case ps.b:return fs({},e,t.payload,{visible:!0});case ps.a:return fs({},e,t.payload,{visible:!1});default:return e}}},bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hs={barrageColorList:[{color_id:0,unlock:1,level:0,color:0},{color_id:2,unlock:0,level:6,color:1},{color_id:3,unlock:0,level:11,color:2},{color_id:6,unlock:0,level:16,color:3},{color_id:4,unlock:0,level:21,color:4},{color_id:5,unlock:0,level:26,color:5},{color_id:1,unlock:0,level:31,color:6}],matchGlorys:[{level:1,value:0},{level:2,value:30},{level:3,value:60},{level:4,value:90},{level:5,value:120},{level:6,value:200},{level:7,value:250},{level:8,value:300},{level:9,value:350},{level:10,value:400},{level:11,value:600},{level:12,value:800},{level:13,value:1e3},{level:14,value:1200},{level:15,value:1400},{level:16,value:2e3},{level:17,value:2400},{level:18,value:2800},{level:19,value:3200},{level:20,value:3600},{level:21,value:5400},{level:22,value:5800},{level:23,value:6600},{level:24,value:7400},{level:25,value:8200}],matchSystemTeams:[],gainTeams:[],userDetail:{},showUserDetail:!1,wearStatus:0,showJoinSystem:!1,showFirstEnterJoinPanel:0,isFirstEnter:!1,filterSameTeamBarrage:0,showSelectTeamPanel:!1,currentSelectColorId:0,selectedSuperBarrageType:"",isFirstSeizeMedal:!1,systemMaxUnlockIndex:0,fdmMaxUnlockIndex:0,lolActivityTip:"",showMatchColorPanel:0,showMatchSuperPanel:0};var vs={matchSystemData:function matchSystemReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs,t=arguments[1];switch(t.type){case ua.t:var r=t.payload,i={matchSystemTeams:r.team.find(function(e){return 1===e.conf_id}).list},n=[];return r.privilege.list.forEach(function(e){n=n.concat(e.glorys)}),n.length&&(i.matchGlorys=n),bs({},e,i);case ua.v:var a=t.payload,o=0,l=1;a.privilege&&a.privilege.level>0&&(o=a.team&&a.team.current_team?2:1,l=0);var s=[];a.team&&a.team.current_team&&a.team.current_team.team_id&&s.push(bs({},a.team.current_team,{isWear:!0})),a.team&&a.team.gain_teams&&a.team.gain_teams.length&&(s=s.concat(a.team.gain_teams));var c=e.barrageColorList.slice(),u=0;if(a.privilege&&a.privilege.color_danmu&&a.privilege.color_danmu.length){var p=a.privilege.color_danmu;c.forEach(function(e,t){var r=e,i=p.find(function(e){return e.color_id===r.color_id});i&&(r.unlock=i.unlock),r.unlock&&(u=t)})}return Object.assign({},e,{userDetail:a,wearStatus:o,gainTeams:s,showFirstEnterJoinPanel:l,barrageColorList:c,systemMaxUnlockIndex:u});case ua.B:return Object.assign({},e,{showUserDetail:t.payload});case ua.y:return Object.assign({},e,{showJoinSystem:t.payload});case ua.s:var f=t.payload.payload.medal_id,m=e.gainTeams.slice(),d=e.userDetail;if(d.team){var b=m.findIndex(function(e){return e.team_id===f});b>-1&&(d.team.current_team=m[b])}return m.map(function(e){var t=e;return e.team_id===f?t.isWear=!0:t.isWear=!1,t}),Object.assign({},e,{gainTeams:m,wearStatus:2,userDetail:d});case ua.r:var h=e.gainTeams.slice(),v=e.userDetail;return h.map(function(e){var t=e;return t.isWear=!1,t}),v.team&&(v.team.current_team=null),Object.assign({},e,{gainTeams:h,wearStatus:1,userDetail:v});case ua.g:return Object.assign({},e,{filterSameTeamBarrage:t.payload});case ua.d:return Object.assign({},e,{showJoinSystem:!1,isFirstEnter:!1});case ua.c:return Object.assign({},e,{showFirstEnterJoinPanel:0});case ua.w:return Object.assign({},e,{showFirstEnterJoinPanel:1});case ua.x:return Object.assign({},e,{showSelectTeamPanel:!0,showFirstEnterJoinPanel:!1});case ua.f:return Object.assign({},e,{showSelectTeamPanel:!1});case ua.j:var g=t.payload.teamId,y=t.payload.isFirst;if(y)return Object.assign({},e,{showSelectTeamPanel:!1,isFirstSeizeMedal:y,showJoinSystem:!1,isFirstEnter:!1});var _=e.gainTeams.slice(),S={team_id:g,medal_level:_[0].medal_id||1};return _.push(S),Object.assign({},e,{showSelectTeamPanel:!1,isFirstSeizeMedal:!1,showJoinSystem:!1,isFirstEnter:!1,gainTeams:_});case ua.k:return Object.assign({},e,{currentSelectColorId:t.payload.color});case ua.l:return Object.assign({},e,{selectedSuperBarrageType:t.payload});case ua.q:var N=t.payload.list,C=e.barrageColorList.slice(),w=0;return N.forEach(function(e,t){C.forEach(function(t){var r=t;r.color_id===e.color&&e.status&&(r.unlock=e.status)}),e.status&&(w=t)}),Object.assign({},e,{barrageColorList:C,fdmMaxUnlockIndex:w});case ua.m:return Object.assign({},e,{currentSelectColorId:t.payload});case ua.n:return Object.assign({},e,{selectedSuperBarrageType:t.payload});case ua.p:var O=e.userDetail,E=O.privilege;return E&&E.super_danmu&&E.super_danmu>0&&(E.super_danmu-=1),Object.assign({},e,{userDetail:O});case ua.u:return Object.assign({},e,{lolActivityTip:t.payload});case ua.z:return Object.assign({},e,{showMatchColorPanel:t.payload});case ua.A:return Object.assign({},e,{showMatchSuperPanel:t.payload});case ua.e:return Object.assign({},e,{currentSelectColorId:0,selectedSuperBarrageType:""});default:return e}}},gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var ys={firePowerData:function firePowerReducers_firePowerData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOnfire:!1,showChatModal:!1,showResult:!1,showFirePowerIcon:!1,joinCondition:!1,isFollow:!1,isNotAnchor:!1,isFans:!1,showNotice:!1,act_id:0,rid:0,rand_key:0,title:"",prize:"",num:0,duration:0,left_time:0,from:-1,condition:-1,type:"",count:0,winList:[]},t=arguments[1];switch(t.type){case ba.e:case ba.d:return gs({},e,t.payload);case ba.f:var r=t.payload.showChatModal;return gs({},e,{showChatModal:void 0!==r&&r});case ba.c:var i=t.payload.showResult;return gs({},e,{showResult:void 0!==i&&i});case ba.g:return gs({},e,t.payload);default:return e}}},_s=Object.assign({},Ea,ja,za,xa,qa,io,oo,lo,go,No,xo,Ho,Jo,Xo,al,ul,bl,jl,Ll,Fl,Gl,Wl,$l,Jl,Xl,ts,ns,ls,us,ds,vs,ys),Ss=r("1a22b"),Ns=r.n(Ss),Cs=(r("4823c"),r("f2b8b")),ws=r("434f9"),Os=r("4a73f"),Es=r("f581c"),Ds=r("438ec"),Ps=r("67ac8"),js=r("bc663"),ks=r("a93a2"),Rs=r("fc794"),Ts=r.n(Rs),Bs=r("79e4f"),Ms=r.n(Bs);var zs=new ee.Logger,Ls=function indexCrease(e,t){var r=Math.log(e);return parseInt(t*(r/2<1?1:r)+1,10)},Fs=function linearCrease(e){return e+1},As=function(){function BarrageQueue(e){var t=this;!function barrageQueue_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageQueue),this.config=Object.assign({},{maxQueueLength:200,hotplan:200,minThreshold:40,maxThreshold:50,maxCacheLength:3e3,render:function render(e){return zs.log("[BarrageQueue] - render: ",e)},destroy:function destroy(e){return zs.log("[BarrageQueue] - destroy: ",e)}},e),this.CACHE=[],this.RENDERED=[],this.FPS=new Ms.a({force:!0,update:function update(e){t.CACHE.length?t.release(e):t.FPS.stop()}}),this.renderCount=1}return BarrageQueue.prototype.push=function push(e,t){var r=Array.isArray(e)?e:[e],i=this.CACHE.length+r.length-this.config.maxCacheLength;return i>0&&r.splice(-i),r.length&&(this.CACHE=t?r.concat(this.CACHE):this.CACHE.concat(r),this.FPS.start()),this},BarrageQueue.prototype.clear=function clear(){"function"===typeof this.config.destroy&&this.config.destroy.call(null,this.RENDERED),this.CACHE=[],this.RENDERED=[]},BarrageQueue.prototype.release=function release(e){var t=(e||{}).fps,r=this.config;this.renderCount=document.hidden?64:this.updateRenderCount(t),this.renderCount>r.hotplan&&(this.renderCount=r.hotplan);var i=this.CACHE.splice(0,this.renderCount);i.length&&(this.RENDERED=this.RENDERED.concat(i),"function"===typeof r.render&&r.render.call(null,{list:i,cacheLength:this.CACHE.length}));var n=this.RENDERED.splice(0,this.RENDERED.length-r.maxQueueLength);n.length&&"function"===typeof r.destroy&&r.destroy.call(null,n)},BarrageQueue.prototype.updateRenderCount=function updateRenderCount(e){return e>this.config.maxThreshold?Ls(e-this.config.maxThreshold,this.renderCount):e<this.config.minThreshold?Fs(parseInt(this.renderCount/2,10)):Fs(this.renderCount)},BarrageQueue.prototype.updateConfig=function updateConfig(e){this.config=Object.assign({},this.config,e)},BarrageQueue}(),Is={create:function create(e){return new As(e)}},xs=r("452de"),Gs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Us,Hs,Ws,Vs,$s,Ks,Js,qs=new ee.Logger,Qs=function isValidString(e){return e&&"string"===typeof e},Ys=function isFunction(e){return"function"===typeof e},Xs=function isPlainObject(e){if(e&&"object"===("undefined"===typeof e?"undefined":Gs(e))&&!e.nodeType&&e!==e.window){var t=function _hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)};return!(e.constructor&&!t(e,"constructor")&&!t(e.constructor.prototype,"isPrototypeOf"))}return!1},Zs=function forEach(e,t){if(Array.isArray(e))for(var r=0,i=e.length;r<i&&!1!==t.call(e[r],e[r],r);r++);if(Xs(e)){var n=Object.prototype.hasOwnProperty;for(var a in e)if(n.call(e,a)&&!1===t.call(e[a],e[a],a))break}},ec=function(){function BarrageBase(e){var t=this;!function barrageBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBase);var r=e||{},i=r.element,n=void 0===i?null:i,a=r.itemClassName,o=void 0===a?"Barrage-listItem":a,l=r.currentUserId,s=void 0===l?-1:l,c=r.barrageLimit,u=(c=void 0===c?{}:c).defaultLimit,p=void 0===u?200:u,f=c.bufferLimit,m=void 0===f?100:f,d=r.callbacks,b=(d=void 0===d?{}:d).init,h=d.render,v=d.destroy;n&&1===n.nodeType?(this.$barrageList=n,this.itemClassName=o,this.currentUserId=parseInt(s,10),this.barrageLimit={defaultLimit:p,bufferLimit:m},this.callbacks={render:Ys(h)?h:function(){},destroy:Ys(v)?v:function(){}},this.PROTOCOL={},this.MODULE={},this.QUEUE=Is.create({maxQueueLength:p,render:function render(e){return t.render(e)},destroy:function destroy(e){return t.destroy(e)}}),this.subscribe()):qs.error("[Barrage-System]: The mount point does not exist!!!"),Ys(b)&&b.call(this)}return BarrageBase.prototype.subscribe=function subscribe(){var e=this;xs.a.subscribe(ga.g,function(t){var r=t||{},i=r.defaultLimit,n=r.bufferLimit;e.barrageLimit={defaultLimit:i,bufferLimit:n}}),xs.a.subscribe(ga.f,function(t){var r=e.barrageLimit,i=r.defaultLimit,n=r.bufferLimit;e.QUEUE.updateConfig({maxQueueLength:t?i+n:i})}),xs.a.subscribe(ga.a,function(){e.QUEUE.clear()},!1)},BarrageBase.prototype.register=function register(e,t){var r=this,i=(t||{}).protocol,n="";switch(i=Array.isArray(i)?i:[i],!1){case Qs(e):n="The componet name '"+e+"' must be a valid string.";break;case!this.MODULE[e]:n="The component name '"+e+"' has been used";break;case Xs(t):n="The '"+e+"' componet must be a plain object.";break;case Qs(i.join("")):n="The '"+e+"' component's protocol is not a valid string or an empty array."}return n?qs.error("[Barrage-System]: "+n):(Zs(i,function(t){Qs(t)&&(r.PROTOCOL[t]=r.PROTOCOL[t]||[],r.PROTOCOL[t].includes(e)||r.PROTOCOL[t].push(e))}),this.MODULE[e]=t),this},BarrageBase.prototype.push=function push(e){var t=this.model(e)||{},r=t.unshiftData,i=void 0===r?[]:r,n=t.pushData,a=void 0===n?[]:n;i.length&&this.QUEUE.push(i,!0),a.length&&this.QUEUE.push(a)},BarrageBase.prototype.model=function model(e){var t=this,r=[],i=[];return Zs(Array.isArray(e)?e:[e],function(e){Zs(t.PROTOCOL[e.type],function(n){var a={},o=t.MODULE[n]||a,l=Object.assign({},o,{data:e}),s=o.model;Ys(s)&&(s=s.call(l,e)),s&&(Zs(s,function(t,r){Qs(t)&&(a[r]=e[t]),Ys(t)&&(a[r]=t.call(l,e))}),a.uniqueIdentifier=function generateGID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=((new Date).getTime()+16*Math.random())%16|0;return("x"===e?t:3&t|8).toString(16)})}(),a.barrageName=n,a.isSelf=void 0===a.isSelf?parseInt(a.senderId,10)===t.currentUserId:a.isSelf,a.unshift||a.isSelf?r.push(a):i.push(a))})}),{unshiftData:r,pushData:i}},BarrageBase.prototype.destroy=function destroy(e){var t=this,r=(Array.isArray(e)?e:[e]).length;r>0&&([].slice.call(this.$barrageList.querySelectorAll("."+this.itemClassName)).forEach(function(e,i){i<r&&t.$barrageList.removeChild(e)}),this.callbacks.destroy.call(this,e))},BarrageBase.prototype.render=function render(e){var t=this,r=!1,i=[],n=[],a=document.createDocumentFragment(),o=e||{},l=o.list,s=void 0===l?[]:l,c=o.cacheLength,u=void 0===c?0:c;Zs(Array.isArray(s)?s:[s],function(e){if(Xs(e)){var o=t.MODULE[e.barrageName]||{},l=Object.assign({},o,{data:e}),s=Ys(o.render)?o.render.call(l,e):null;if(s){var c=document.createElement("li");c.id=e.uniqueIdentifier,c.className=t.itemClassName+(e.selector?" "+e.selector:""),c.innerHTML=s,a.appendChild(c),Ys(o.method)&&n.push({context:l,method:o.method,data:e}),e.isSelf&&(r=!0),i.push(e)}}}),a.hasChildNodes()&&(this.$barrageList.appendChild(a),this.callbacks.render.call(this,{hasSelfBarrage:r,cacheLength:u,data:i}),n.length&&this.method(n))},BarrageBase.prototype.method=function method(e){e.forEach(function(e){var t=e||{},r=t.context,i=t.method,n=t.data;i.call(r,n)})},BarrageBase}(),tc=void 0,rc=function create(e,t){return tc||(tc=new ec(e)),Ys(t)&&t.call(tc),tc},ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageScroll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageScroll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nc,ac,oc,lc=n.a.Service,sc=/\s+/g,cc=(Us=lc(Ps.a),Hs=lc(b.DataCenter.global),Ws=lc(b.DataCenter.common),Vs=function(){function BarrageScroll(e){var t=this;!function barrageScroll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageScroll),barrageScroll_initDefineProp(this,"barrageService",$s,this),barrageScroll_initDefineProp(this,"global",Ks,this),barrageScroll_initDefineProp(this,"common",Js,this);var r=e.main,i=e.scrollbar;r&&1===r.nodeType&&(this.config=ic({},e,{floatingClass:"js-floating-barrage",nobleBarrageClass:"js-noblefloating-barrage",fansBarrageClass:"js-fansfloating-barrage",fansBarrageBgClass:"Barrage-listItem--floatingFansBadgeBg",floatingContainer:document.getElementById("js-floatingbarrage-container"),floatingTimer:null}),this.common.get("$DATA").subscribe(function(e){t.nobleBarrageFloatingSwitch=e.get("colligate.NobleSuspend")}),xs.a.subscribe(ga.a,function(){i.update()},!1),xs.a.subscribe(ga.d,function(){t.updateBarrageScroll(),i.update()},!1),xs.a.subscribe(ga.e,function(){t.updateBarrageScroll()},!1),xs.a.subscribe(ga.h,function(e){t.watchScroll(e)},!1))}return BarrageScroll.prototype.updateBarrageScroll=function updateBarrageScroll(){var e=this.config.scrollbar;this.barrageService.getState("isLockScreen")||e.scrollToBottom()},BarrageScroll.prototype.watchScroll=function watchScroll(){var e=this.barrageService,t=this.config.scrollbar;if(t){var r=t.getClientHeight(),i=t.getScrollHeight(),n=t.getScrollTop();parseInt(i-n-r,10)<=0?e.toggleLockScreen(!1):e.toggleLockScreen(!0),this.nobleBarrageFloatingSwitch&&this.watchNobleBarrageFloating()}},BarrageScroll.prototype.watchNobleBarrageFloating=function watchNobleBarrageFloating(){for(var e=this.config,t=e.main,r=e.list,i=e.floatingClass,n=e.fansBarrageClass,a=e.fansBarrageBgClass,o=e.floatingContainer,l=r.getElementsByClassName(i)||[],s=t.getBoundingClientRect().top,c=0;c<l.length;c++){var u=l[c];if(u){var p=u.className,f=void 0===p?"":p,m=f.split(sc);if(!(m.indexOf(i)>-1&&u.getBoundingClientRect().top<=s))break;var d=u.cloneNode(!0);d.setAttribute("data-guid",u.id),d.id="",o.innerHTML="",m.indexOf(n)>-1&&(d.className+=" "+a),o.appendChild(d),u.className=f.replace(i+" "," "),this.startDelayRemove(d)}}},BarrageScroll.prototype.startDelayRemove=function startDelayRemove(e){e&&e.parentNode&&(clearTimeout(this.config.floatingTimer),this.config.floatingTimer=setTimeout(function(){e.parentNode.removeChild(e)},3e3))},BarrageScroll}(),$s=barrageScroll_applyDecoratedDescriptor(Vs.prototype,"barrageService",[Us],{enumerable:!0,initializer:null}),Ks=barrageScroll_applyDecoratedDescriptor(Vs.prototype,"global",[Hs],{enumerable:!0,initializer:null}),Js=barrageScroll_applyDecoratedDescriptor(Vs.prototype,"common",[Ws],{enumerable:!0,initializer:null}),Vs),uc=void 0,pc=function init(e){return uc||(uc=new cc(e)),uc},fc=r("6b25a"),mc=r("6221d");function barrageTipsServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageTipsServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dc,bc,hc,vc=(nc=(0,n.a.Store)(),ac=function(e){function BarrageTipsServices(){var t,r;!function barrageTipsServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageTipsServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageTipsServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",oc,r),barrageTipsServices_possibleConstructorReturn(r,t)}return barrageTipsServices_inherits(BarrageTipsServices,e),BarrageTipsServices.prototype.updateSysTips=function updateSysTips(e){var t={tipsInfo:e,isShow:!0};this.store.dispatch(Sa.updateSysTips(t))},BarrageTipsServices.prototype.hideSysTips=function hideSysTips(){this.store.dispatch(Sa.hideSysTips({isShow:!1}))},BarrageTipsServices}(d.Service),oc=function barrageTipsServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ac.prototype,"store",[nc],{enumerable:!0,initializer:null}),ac),gc=r("d1f87"),yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageGeeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var _c,Sc,Nc,Cc,wc,Oc,Ec,Dc,Pc,jc,kc,Rc,Tc,Bc={"content-type":"application/x-www-form-urlencoded"},Mc=(dc=(0,n.a.Store)(),bc=function(e){function BarrageGeeServices(){!function barrageGeeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeServices);var t=function barrageGeeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function barrageGeeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"store",hc,t),t.geeFn=null,t.dstUid=null,t.roomId="",t}return barrageGeeServices_inherits(BarrageGeeServices,e),BarrageGeeServices.prototype.init=function init(e){var t=this;this.dstUid=e,this.geeFn=Object(gc.a)({geeInitParams:{isNeedCheck:!0,data:{}},xhrParams:{url:"/member/cpSecurity/check_geetest_status",data:{op_type:30}},geeOptions:{id:"BarrageGee-captcha",area:".captcha-gt"},success:function success(){t.success()},error:function error(){t.error()}})},BarrageGeeServices.prototype.show=function show(e,t){var r={dstUid:e||"",isShow:!0};this.roomId=t,this.store.dispatch(Ta.showGeeTest(r))},BarrageGeeServices.prototype.close=function close(){this.store.dispatch(Ta.hideGeeTest({isShow:!1}))},BarrageGeeServices.prototype.success=function success(){var e=this,t=this.getResult(),r=yc({dst_uid:e.dstUid||"",room_id:e.roomId},t);b.httpClient.post(String,"/member/forwardmute/index",r,{headers:Bc}).subscribe(function(t){var r=t.code,i=t.msg;0!==r?(p.a.error(i||"\u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38"),e.geeFn.refresh()):(e.geeFn.destroy(),e.geeFn=null,e.close())})},BarrageGeeServices.prototype.error=function error(){p.a.error("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")},BarrageGeeServices.prototype.getResult=function getResult(){var e={};return this.geeFn&&(e=this.geeFn.getGeeResult()),e},BarrageGeeServices}(d.Service),hc=function barrageGeeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(bc.prototype,"store",[dc],{enumerable:!0,initializer:null}),bc),zc=r("6cdf6"),Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function sysServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function sysServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function sysServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function sysServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function sysServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Fc,Ac,Ic,xc,Gc,Uc,Hc,Wc=Si.a.socketStream,Vc=n.a.Service,$c=b.DataCenter.global.get("$SYS"),Kc=(_c=Vc(b.DataCenter.acj),Sc=Vc(b.DataCenter.global),Nc=Vc(b.DataCenter.common),Cc=Vc(vc),wc=Vc(Mc),Oc=Vc(zc.a),Ec=function(e){function SysBarrageServices(){var t,r;!function sysServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SysBarrageServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=sysServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),sysServices_initDefineProp(r,"acj",Dc,r),sysServices_initDefineProp(r,"global",Pc,r),sysServices_initDefineProp(r,"common",jc,r),sysServices_initDefineProp(r,"barrageTipsService",kc,r),sysServices_initDefineProp(r,"barrageGeeService",Rc,r),sysServices_initDefineProp(r,"userRoleService",Tc,r),sysServices_possibleConstructorReturn(r,t)}return sysServices_inherits(SysBarrageServices,e),SysBarrageServices.prototype.init=function init(e){var t=this,r=this,i=parseInt(this.global.get("USER_INFO.uid"),10);Wc.subscribe("chatres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e;return"288"===(i=Object(mc.k)(i)).res||"356"===i.res?null:"363"===i.res?null:("391"===i.res&&window.loader.loadAsyncModule("accountSecurity",function(){t.common.push("securityData",{resource:1})}),i.resMsg=r.getResMsg(i.res),i.resMsg?i:null)})).subscribe(function(t){r.handle(t,e)})}),Wc.subscribe("newblackres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(t){var n=t,a=parseInt(n.ret,10),o=parseInt($c.owner_uid,10);if(0===a)i&&n.sid&&n.did&&o&&i===parseInt(n.sid,10)&&parseInt(n.did,10);else if(268===a)r.barrageGeeService.show(n.did,e.$ROOM.room_id);else if(4822===a)return null;return n.resMsg=r.getSysMsg(n),n})).subscribe(function(t){r.handle(t,e)})}),Wc.subscribe("gbmres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(e){var t=e,r="",i=0,n=parseInt(t.ret,10),a=t.uname||"";if(0===n)r='<span class="Barrage-notice--name">'+a+"</span>\u88ab\u5c01\u53f7";else if(208===n)r='<span class="Barrage-notice--name">'+a+"</span>\u5df2\u88ab\u5c01\u7981\u6216\u5df2\u88ab\u4e00\u952e\u5c01\u53f7";else{if(4822===n)return null;r='<span class="Barrage-notice--name">'+a+"</span>\u8fdb\u884c\u4e00\u952e\u5c01\u53f7\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+n,i=1}return Lc({},t,{resMsg:{str:r,type:i}})})).subscribe(function(t){r.handle(t,e)})}),Wc.subscribe("setadminres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e,n=parseInt(i.rescode,10),a=parseInt(i.group,10),o=i.adnick;return 0!==n&&206!==n&&208!==n&&214!==n||(0===n&&t.userRoleService.setUserGroup(i.uid,{rg:i.group||1}),i.resMsg=r.getAdminMsg(n,a,o)),i})).subscribe(function(t){r.handle(t,e)})}),Wc.subscribe("error",function(t){var i=t.code;if(59===parseInt(void 0===i?0:i,10)){r.handle({type:"chatres",resMsg:{type:1,str:'\u60a8\u7684\u8d26\u53f7\u5728\u53e6\u4e00\u5730\u70b9\u767b\u5f55\uff0c\u5f39\u5e55\u8fde\u63a5\u5df2\u65ad\u5f00 <a class="js-danmu-reconnect Barrage-notice--red" style="cursor: pointer;">\u70b9\u51fb\u91cd\u65b0\u8fde\u63a5\u5f39\u5e55</a>'}},e)}}),xs.a.subscribe(ga.a,function(){r.handle({type:"chatres",resMsg:{str:"\u5df2\u6e05\u7a7a\u6240\u6709\u5f39\u5e55\u5185\u5bb9",type:2}},e)},!1),xs.a.subscribe(ga.b,function(t){if(t){var i=t.resMsg;if(i){var n={type:"chatres",resMsg:{type:0,str:i}};r.handle(n,e)}}},!1),xs.a.subscribe(ga.c,function(t){if(t){var i=t.resMsg;if(i){var n={resMsg:{type:2,str:i}};r.handle(n,e)}}},!1)},SysBarrageServices.prototype.getSysMsg=function getSysMsg(e){var t=parseInt(b.DataCenter.global.get("USER_INFO.uid"),10),r=parseInt($c.owner_uid,10),i="";switch(parseInt(e.ret,10)){case 0:i=e.sid===t?'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u6210\u529f\u7981\u8a00":'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u7981\u8a00",t&&e.sid&&e.did&&r&&t===parseInt(e.sid,10)&&parseInt(e.did,10);break;case 4807:case 4808:i="\u8be5\u7528\u6237\u5df2\u88ab\u7981\u8a00\u3002";break;case 264:i='\u8d35\u65cf\u7528\u6237 <span class="Barrage-notice--name">'+(e.dnic||e.did)+"</span>",i+=' \u9632\u5fa1\u4e86\u623f\u7ba1 <span class="Barrage-notice--name">'+(e.snic||e.sid)+"</span> \u7684\u7981\u8a00 ",i+='<a class="Barrage-notice--systemLink js-buy-noble" href="javascript:;">\u8d2d\u4e70\u8d35\u65cf\u9632\u5fa1\u7981\u8a00</a>'}return{str:i,type:0}},SysBarrageServices.prototype.getResMsg=function getResMsg(e){var t=Na.a.BARRAGE_ERROR,r="";return Object.keys(t).forEach(function(i){parseInt(e,10)===parseInt(i,10)&&(r=t[i])}),{str:r,type:2}},SysBarrageServices.prototype.getAdminMsg=function getAdminMsg(e,t,r){var i="",n=0;return 0===e?i=t>1?'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u4efb\u547d\u4e3a\u623f\u7ba1":'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u89e3\u9664\u623f\u7ba1\u8eab\u4efd":214===e?(i="\u623f\u7ba1\u6570\u91cf\u5df2\u8fbe\u4e0a\u9650",n=2):206===e?(i="\u975e\u6cd5\u64cd\u4f5c",n=2):208===e&&(i="\u7528\u6237\u4e0d\u5728\u623f\u95f4",n=2),{str:i,type:n}},SysBarrageServices.prototype.handle=function handle(e,t){if(e&&e.resMsg&&0!==Object.keys(e.resMsg).length){var r=e.resMsg,i=void 0===r?{}:r,n=i.type,a=void 0===n?0:n,o=i.str,l=void 0===o?"":o;2===a&&l?this.barrageTipsService.updateSysTips(l):t.barrageBase.push(e)}},SysBarrageServices}(d.Service),Dc=sysServices_applyDecoratedDescriptor(Ec.prototype,"acj",[_c],{enumerable:!0,initializer:null}),Pc=sysServices_applyDecoratedDescriptor(Ec.prototype,"global",[Sc],{enumerable:!0,initializer:null}),jc=sysServices_applyDecoratedDescriptor(Ec.prototype,"common",[Nc],{enumerable:!0,initializer:null}),kc=sysServices_applyDecoratedDescriptor(Ec.prototype,"barrageTipsService",[Cc],{enumerable:!0,initializer:null}),Rc=sysServices_applyDecoratedDescriptor(Ec.prototype,"barrageGeeService",[wc],{enumerable:!0,initializer:null}),Tc=sysServices_applyDecoratedDescriptor(Ec.prototype,"userRoleService",[Oc],{enumerable:!0,initializer:null}),Ec),Jc=r("8dd4e"),qc=r("885ba"),Qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function shieldToolServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function shieldToolServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function shieldToolServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function shieldToolServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Yc,Xc,Zc,eu=n.a.Store,tu=n.a.Service,ru=new Ms.a,iu=o.a.decode,nu=Si.a.socketStream,au=Si.a.socketProxy,ou=function setLocalStorage(e,t,r){return b.DataCenter.localStorage.set(e,t,r)},lu=function getLocalStorage(e){return b.DataCenter.localStorage.get(e)},su="shield_showShieldTip",cu=null,uu=[],pu=!1,fu=[106,107,108,105,110],mu={106:"allGift",107:"message",108:"videoBroadcast",105:"smallgift",110:"userEnter"},du={allGift:106,message:107,videoBroadcast:108,smallgift:105,userEnter:110},bu=[],hu=(Fc=eu(),Ac=tu(b.DataCenter.acj),Ic=tu(Ps.a),xc=function(e){function ShieldToolServices(){var t,r;!function shieldToolServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldToolServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=shieldToolServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),shieldToolServices_initDefineProp(r,"store",Gc,r),shieldToolServices_initDefineProp(r,"acj",Uc,r),shieldToolServices_initDefineProp(r,"barrageService",Hc,r),shieldToolServices_possibleConstructorReturn(r,t)}return shieldToolServices_inherits(ShieldToolServices,e),ShieldToolServices.prototype.init=function init(){this.listenMsgShield(),this.fpsMonitorSwitch=!0,this.showShieldTipCallback=null,cu=lu(su);var e=this.getStorageShieldDataToNew();this.updateReducerShield(e)},ShieldToolServices.prototype.listenFPS=function listenFPS(){var e=this;return Object(Jc.timer)(3e3,500).subscribe(function(){return!!e.fpsMonitorSwitch&&(ru.fps<15&&(uu.push(ru.fps),e.checkToShieldGiftEffect()),!1)})},ShieldToolServices.prototype.checkToShieldGiftEffect=function checkToShieldGiftEffect(){uu&&uu.length>=10&&!this.getShield(105)&&(this.fpsMonitorSwitch=!1,uu=[],this.switchShield({id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269",state:0},1),this.showShieldTipCallback&&this.checkShowTip()&&(this.setShieldTipShowExpired(),this.showShieldTipCallback()))},ShieldToolServices.prototype.checkShowTip=function checkShowTip(){return!cu||1===cu.type&&cu.num<2},ShieldToolServices.prototype.showShieldTip=function showShieldTip(e){"function"===typeof e&&(this.showShieldTipCallback=e)},ShieldToolServices.prototype.initShieldStatus=function initShieldStatus(){var e=this.getStorageShieldDataToNew();uu=[],ru.start(),this.listenFPS(),this.getShield(105)&&(this.fpsMonitorSwitch=!1),this.sendFlashShield(e,2)},ShieldToolServices.prototype.getStorageShieldDataToNew=function getStorageShieldDataToNew(){var e=lu("chat-shield-config"),t=e&&"string"===typeof e?d.GSON.parse(e):{},r=this.shieldConfigToNew(t),i=ll;return r&&(i=r),this.getToShieldData(i)},ShieldToolServices.prototype.setToShieldData=function setToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(r){e[r]&&(t[r]=parseInt(e[r].state,10)||0)}),t},ShieldToolServices.prototype.getToShieldData=function getToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(ol).forEach(function(r){t[r]=Object.assign({},ol[r],{state:parseInt(e[r],10)||0})}),t},ShieldToolServices.prototype.sendCPPShieldData=function sendCPPShieldData(e){bu=e,au.isSocketReady?(au.sendMessage({type:"dmfbdreq",dfl:e}),au.sendMessage({type:"dmfbdreq",dfl:e},qc.e.barrage)):pu||(pu=!0,nu.subscribe("socket_ready",function(){au.sendMessage({type:"dmfbdreq",dfl:bu}),au.sendMessage({type:"dmfbdreq",dfl:bu},qc.e.barrage)}))},ShieldToolServices.prototype.sendFlashShield=function sendFlashShield(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e||{},i=d.GSON.stringify(ol),n=d.GSON.parse(i),a={},o=[];Object.keys(n).forEach(function(e){if(n[e]&&999!==n[e].id){var t=r[e]||{};a[n[e].type]=t.state?1:0,o.push({sn:t.id,ss:t.state?1:0})}}),this.acj.push(dn.c.JS_SHIELDEFFECTS,a),2!==t&&this.sendCPPShieldData(o)},ShieldToolServices.prototype.listenMsgShield=function listenMsgShield(){var e=this,t=d.GSON.stringify(ol);nu.subscribe("dmfbdres",function(r){var i=Object.assign({},d.GSON.parse(t));if(r.dfl){var n={};iu(r.dfl).forEach(function(e){var t=iu(e);n[t.sn]=parseInt(t.ss,10),i[t.sn]&&(i[t.sn].state=parseInt(t.ss,10)?1:0)})}var a=0,o=i[999];Object.keys(i).forEach(function(e){"allShield"!==i[e].type&&1===i[e].state&&(a+=1)}),o.state=4===a?1:a>0&&a<4?2:0,e.updateReducerShield(i)}),this.acj.get(dn.d.ROOM_DATA_SHIELD_EFFECT).subscribe(function(t){var r=t||{},i=[];Object.keys(du).forEach(function(e){"smallgift"===e?i.push({sn:du[e],ss:+r.smallGift?1:0}):i.push({sn:du[e],ss:+r[e]?1:0})}),e.acj.push(dn.c.JS_SHIELDEFFECTS,r),e.sendCPPShieldData(i)}),this.acj.get(dn.d.ROOM_PLAYER_READY).subscribe(function(){e.initShieldStatus()})},ShieldToolServices.prototype.switchShield=function switchShield(e,t){var r=this.getToShieldData(this.store.getState().shieldConfig);if("allShield"===e.type){var i=[],n={},a=[];Object.keys(r).forEach(function(t){r[t].id&&(i.push({sn:r[t].id,ss:e.state?0:1}),n[t]=Object.assign({},r[t],{state:e.state?0:1}),e.state&&r[t].state&&999!==r[t].id?a.push(fu.indexOf(r[t].id)+1):e.state||r[t].state||999===r[t].id||a.push(fu.indexOf(r[t].id)+1))}),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:a.join(",")}):this.DYSub("click_shield_gift_select",{shield_sel:a.join(",")}),this.sendFlashShield(n)}else this.sendCPPShieldData([{sn:e.id,ss:e.state?0:1}]),r[e.id]&&(r[e.id].state=e.state?0:1),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:fu.indexOf(e.id)+1}):this.DYSub("click_shield_gift_select",{shield_sel:fu.indexOf(e.id)+1}),this.sendFlashShield(r,2);1!==t&&this.showShieldMsg(e),this.store.dispatch(sl.switchShield(e))},ShieldToolServices.prototype.showShieldMsg=function showShieldMsg(e){var t=e.type,r=e.state,i={allShield:{0:"\u5df2\u5c4f\u853d\u5168\u90e8\u7279\u6548",1:"\u5df2\u5f00\u542f\u5168\u90e8\u7279\u6548",2:"\u5df2\u5f00\u542f\u5168\u90e8\u7279\u6548"},allGift:{0:"\u5df2\u5c4f\u853d\u5168\u90e8\u793c\u7269\u4fe1\u606f",1:"\u5df2\u5f00\u542f\u5168\u90e8\u793c\u7269\u4fe1\u606f"},message:{0:"\u5df2\u5c4f\u853d\u4fe1\u606f\u901a\u77e5\u5f39\u5e55",1:"\u5df2\u5f00\u542f\u4fe1\u606f\u901a\u77e5\u5f39\u5e55"},videoBroadcast:{0:"\u5df2\u5c4f\u853d\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad",1:"\u5df2\u5f00\u542f\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad"},smallGift:{0:"\u5df2\u5c4f\u853d\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55",1:"\u5df2\u5f00\u542f\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55"},userEnter:{0:"\u5df2\u5c4f\u853d\u7528\u6237\u8fdb\u573a\u6d88\u606f\u5f39\u5e55",1:"\u5df2\u5f00\u542f\u7528\u6237\u8fdb\u573a\u6d88\u606f\u5f39\u5e55"}};this.barrageService.receiveSysTipsMsg({resMsg:i[t][r]})},ShieldToolServices.prototype.updateReducerShield=function updateReducerShield(e){var t=this.setToShieldData(e),r=d.GSON.stringify(this.shieldConfigToOld(t));ou("chat-shield-config",r),b.DataCenter.global.set("shield_setConfig",t),this.store.dispatch(sl.updateShield(t))},ShieldToolServices.prototype.setShieldTipShowExpired=function setShieldTipShowExpired(e){var t=new Date,r=lu(su);return 2===e?(cu={num:r?r.num:1,type:2,endTimes:t.getTime()+432e5},ou(su,cu,604800-(3600*t.getHours()+60*t.getMinutes()+t.getSeconds()))):r?(cu={num:3===e?r.num:2,type:1,endTimes:t.getTime()+432e5},ou(su,cu,43200-parseInt((r.endTimes-t.getTime())/1e3,10))):(cu={num:1,type:1,endTimes:t.getTime()+432e5},ou(su,cu,43200))},ShieldToolServices.prototype.getShield=function getShield(e){var t=(this.store.getState()||{}).shieldConfig;return e?t[e]||0:t},ShieldToolServices.prototype.shieldConfigToOld=function shieldConfigToOld(e){var t={allGift:0,message:0,videoBroadcast:0,smallgift:0,userEnter:0};return e&&Object.keys(t).forEach(function(r){var i=du[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.shieldConfigToNew=function shieldConfigToNew(e){var t={106:0,107:0,108:0,105:0,110:0};return e&&Object.keys(t).forEach(function(r){var i=mu[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.DYSub=function DYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(pr.dysub)(e,Qc({},t))},ShieldToolServices}(d.Service),Gc=shieldToolServices_applyDecoratedDescriptor(xc.prototype,"store",[Fc],{enumerable:!0,initializer:null}),Uc=shieldToolServices_applyDecoratedDescriptor(xc.prototype,"acj",[Ac],{enumerable:!0,initializer:null}),Hc=shieldToolServices_applyDecoratedDescriptor(xc.prototype,"barrageService",[Ic],{enumerable:!0,initializer:null}),xc);function superServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function superServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vu,gu,yu,_u,Su,Nu=Si.a.socketStream,Cu=(Yc=(0,n.a.Service)(hu),Xc=function(e){function SuperServices(){var t,r;!function superServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=superServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function superServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Zc,r),superServices_possibleConstructorReturn(r,t)}return superServices_inherits(SuperServices,e),SuperServices.prototype.init=function init(e){var t=this;Nu.subscribe("ssd",function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){return t.shieldToolService.getShield(107)?null:e})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},SuperServices}(d.Service),Zc=function superServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Xc.prototype,"shieldToolService",[Yc],{enumerable:!0,initializer:null}),Xc);function athenaServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function athenaServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function athenaServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function athenaServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function athenaServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var wu,Ou,Eu,Du=n.a.Service,Pu=0,ju=[],ku=void 0,Ru=(vu=Du(b.DataCenter.acj),gu=Du(hu),yu=function(e){function AthenaServices(){var t,r;!function athenaServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AthenaServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=athenaServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),athenaServices_initDefineProp(r,"acj",_u,r),athenaServices_initDefineProp(r,"shieldToolService",Su,r),athenaServices_possibleConstructorReturn(r,t)}return athenaServices_inherits(AthenaServices,e),AthenaServices.prototype.init=function init(e){this.cateId=e.$ROOM.cate_id,this.roomId=e.$ROOM.room_id,this.athenaSwitch=e.$COLLIGATE.athena_switch||{},this.distributeBarrage(),this.listenBarrage(e)},AthenaServices.prototype.distributeBarrage=function distributeBarrage(){var e=this.athenaSwitch.sdm||0;100*Math.random()<e&&this.loadDistributeInfo()},AthenaServices.prototype.listenBarrage=function listenBarrage(e){var t=this,r=this;this.acj.get(dn.d.ROOM_PLAYER_READY).subscribe(function(){r.flashReady()}),this.acj.get(dn.d.ROOM_DATA_ATHENA_SUPERMSG).subscribe(function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){if(t.shieldToolService.getShield(107))return null;var r=e;return r.type="athena",r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},AthenaServices.prototype.isReverse=function isReverse(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(n)try{var a=JSON.parse(n);a.isReverse=a.remark-1,t.push(a)}catch(e){}}return t},AthenaServices.prototype.loadDistributeInfo=function loadDistributeInfo(){var e=this,t=this.cateId,r=this.roomId;return b.httpClient.get(String,"lapi/athena/room/barrage",{t:(new Date).getTime(),roomId:r,cid:t}).subscribe(function(t){if(0===t.error&&t.data&&t.data instanceof Array){var r=t.data.length>0?e.isReverse(t.data):[];Pu?e.distributeBarrageByQueue(r):ju=r}else e.distributeBarrageByQueue([])})},AthenaServices.prototype.flashReady=function flashReady(){Pu||this.distributeBarrageByQueue(ju),Pu=1},AthenaServices.prototype.distributeBarrageByQueue=function distributeBarrageByQueue(e){var t=this;clearTimeout(ku);var r=this.athenaSwitch.lmt||60;if(r*=1e3,e&&0!==e.length){var i=e.shift();this.acj.push(dn.c.JS_SEND_SUPER_DANMU,i),ku=setTimeout(function(){t.distributeBarrageByQueue(e)},r)}else ku=setTimeout(function(){t.loadDistributeInfo()},6e4)},AthenaServices}(d.Service),_u=athenaServices_applyDecoratedDescriptor(yu.prototype,"acj",[vu],{enumerable:!0,initializer:null}),Su=athenaServices_applyDecoratedDescriptor(yu.prototype,"shieldToolService",[gu],{enumerable:!0,initializer:null}),yu);function fishBallServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fishBallServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fishBallServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Tu,Bu,Mu,zu,Lu,Fu,Au,Iu,xu,Gu,Uu,Hu,Wu,Vu,$u,Ku=Si.a.socketStream,Ju=(wu=(0,n.a.Service)(hu),Ou=function(e){function FishBallServices(){var t,r;!function fishBallServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FishBallServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fishBallServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function fishBallServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Eu,r),fishBallServices_possibleConstructorReturn(r,t)}return fishBallServices_inherits(FishBallServices,e),FishBallServices.prototype.init=function init(e){var t=this;Ku.subscribe("clubreward",function(r){var i=b.DataCenter.global.get("USER_INFO.nickname");r.unick!==i&&t.shieldToolService.getShield(105)||r&&0!==Object.keys(r).length&&e.barrageBase.push(r)})},FishBallServices}(d.Service),Eu=function fishBallServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ou.prototype,"shieldToolService",[wu],{enumerable:!0,initializer:null}),Ou);function WeekRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function WeekRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function WeekRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function WeekRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function WeekRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qu,Qu,Yu,Xu,Zu,ep,tp,rp,ip,np,ap,op,lp,sp,cp,up=b.basicTypes.string,pp=(Tu=(0,b.basicTypes.mapping)({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",nobleLevel:"ne",userLevel:"level",trend:"rs",trendRank:"lrk",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ee.log)(Bu=Tu((Mu=function(e){function WeekRankDto(){var t,r;!function WeekRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WeekRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=WeekRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),WeekRankDto_initDefineProp(r,"uid",zu,r),WeekRankDto_initDefineProp(r,"nickName",Lu,r),WeekRankDto_initDefineProp(r,"avatar",Fu,r),WeekRankDto_initDefineProp(r,"nobleLevel",Au,r),WeekRankDto_initDefineProp(r,"userLevel",Iu,r),WeekRankDto_initDefineProp(r,"trend",xu,r),WeekRankDto_initDefineProp(r,"trendRank",Gu,r),WeekRankDto_initDefineProp(r,"gold",Uu,r),WeekRankDto_initDefineProp(r,"isShowSuperIcon",Hu,r),WeekRankDto_initDefineProp(r,"isInvisible",Wu,r),WeekRankDto_initDefineProp(r,"groupId",Vu,r),WeekRankDto_initDefineProp(r,"rg",$u,r),WeekRankDto_possibleConstructorReturn(r,t)}return WeekRankDto_inherits(WeekRankDto,e),WeekRankDto}(b.EntityDto),zu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"uid",[up],{enumerable:!0,initializer:null}),Lu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"nickName",[up],{enumerable:!0,initializer:null}),Fu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"avatar",[up],{enumerable:!0,initializer:null}),Au=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"nobleLevel",[up],{enumerable:!0,initializer:null}),Iu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"userLevel",[up],{enumerable:!0,initializer:null}),xu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"trend",[up],{enumerable:!0,initializer:null}),Gu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"trendRank",[up],{enumerable:!0,initializer:null}),Uu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"gold",[up],{enumerable:!0,initializer:null}),Hu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"isShowSuperIcon",[up],{enumerable:!0,initializer:null}),Wu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"isInvisible",[up],{enumerable:!0,initializer:null}),Vu=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"groupId",[up],{enumerable:!0,initializer:null}),$u=WeekRankDto_applyDecoratedDescriptor(Mu.prototype,"rg",[up],{enumerable:!0,initializer:null}),Bu=Mu))||Bu)||Bu);function MonthRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MonthRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MonthRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MonthRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MonthRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fp,mp,dp,bp,hp,vp,gp,yp,_p,Sp,Np,Cp=b.basicTypes.string,wp=b.basicTypes.mapping,Op=b.basicTypes.optional,Ep=(qu=wp({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",avatarRl:"iconrl",nobleLevel:"ne",userLevel:"level",trend:"rs",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ee.log)(Qu=qu((Yu=function(e){function MonthRankDto(){var t,r;!function MonthRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MonthRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MonthRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MonthRankDto_initDefineProp(r,"uid",Xu,r),MonthRankDto_initDefineProp(r,"nickName",Zu,r),MonthRankDto_initDefineProp(r,"avatar",ep,r),MonthRankDto_initDefineProp(r,"avatarRl",tp,r),MonthRankDto_initDefineProp(r,"nobleLevel",rp,r),MonthRankDto_initDefineProp(r,"userLevel",ip,r),MonthRankDto_initDefineProp(r,"trend",np,r),MonthRankDto_initDefineProp(r,"gold",ap,r),MonthRankDto_initDefineProp(r,"isShowSuperIcon",op,r),MonthRankDto_initDefineProp(r,"isInvisible",lp,r),MonthRankDto_initDefineProp(r,"groupId",sp,r),MonthRankDto_initDefineProp(r,"rg",cp,r),MonthRankDto_possibleConstructorReturn(r,t)}return MonthRankDto_inherits(MonthRankDto,e),MonthRankDto}(b.EntityDto),Xu=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"uid",[Cp],{enumerable:!0,initializer:null}),Zu=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"nickName",[Cp],{enumerable:!0,initializer:null}),ep=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"avatar",[Cp],{enumerable:!0,initializer:null}),tp=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"avatarRl",[Op,Cp],{enumerable:!0,initializer:null}),rp=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"nobleLevel",[Cp],{enumerable:!0,initializer:null}),ip=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"userLevel",[Cp],{enumerable:!0,initializer:null}),np=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"trend",[Cp],{enumerable:!0,initializer:null}),ap=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"gold",[Cp],{enumerable:!0,initializer:null}),op=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"isShowSuperIcon",[Cp],{enumerable:!0,initializer:null}),lp=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"isInvisible",[Cp],{enumerable:!0,initializer:null}),sp=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"groupId",[Cp],{enumerable:!0,initializer:null}),cp=MonthRankDto_applyDecoratedDescriptor(Yu.prototype,"rg",[Cp],{enumerable:!0,initializer:null}),Qu=Yu))||Qu)||Qu),Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function chatRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Pp,jp,kp,Rp,Tp,Bp,Mp,zp=n.a.Store,Lp=Si.a.socketStream,Fp=Si.a.socketProxy,Ap=n.a.Service,Ip=(fp=Ap(b.DataCenter.global),mp=Ap(b.DataCenter.localStorage),dp=Ap(b.DataCenter.common),bp=Ap(zc.a),hp=zp(),vp=function(e){function ChatRankServices(){var t,r;!function chatRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatRankServices_initDefineProp(r,"global",gp,r),chatRankServices_initDefineProp(r,"localStorage",yp,r),chatRankServices_initDefineProp(r,"common",_p,r),chatRankServices_initDefineProp(r,"userRoleService",Sp,r),chatRankServices_initDefineProp(r,"store",Np,r),chatRankServices_possibleConstructorReturn(r,t)}return chatRankServices_inherits(ChatRankServices,e),ChatRankServices.prototype.initSocket=function initSocket(){var e=this;this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.get("room"),e.setAboutConfig(),e.checkRankSwitch(),e.weekRank()})},ChatRankServices.prototype.weekRank=function weekRank(){var e=this,t=this;Lp.subscribe("ranklist",function(r){var i=r.list||[],n=r.list_all||[],a=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),pp.fromJSON(t)}),o=n.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),pp.fromJSON(t)});e.store.dispatch(Ka.receiveWeekRank(t.handleRankData(a))),e.store.dispatch(il.receiveAllRank(t.handleRankData(o)))}),Lp.subscribe("umrtpgb",function(r){var i=(r.list||[]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),Ep.fromJSON(t)});e.store.dispatch(il.receiveMonthRank(t.handleRankData(i,"month")))});var r={type:"qrl",et:0,rid:this.global.get("$ROOM.room_id")};Lp.subscribe("socket_ready",function(){Fp.sendMessage(r)})},ChatRankServices.prototype.findUpdateList=function findUpdateList(){this.socket.emit("contributionRankUpDate",1)},ChatRankServices.prototype.openRankAll=function openRankAll(){this.store.dispatch(il.openAllRank(!0))},ChatRankServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(il.openAllRank(!1))},ChatRankServices.prototype.handleRankData=function handleRankData(e,t){var r,i=this.defaultConfig.maxListLength,n=this.defaultConfig.maxMonthLength,a=e||[],o=0,l=null,s=[],c=this.global.get("USER_INFO.uid");for(r=(a="month"===t?a.slice(0,n):a.slice(0,i)).length;o<r;o++)(l=a[o])&&(l.isShowMedal=!0,String(c)===String(l.uid)?l.isOwn=!0:l.isOwn=!1,+l.isInvisible&&(l.isOwn||this.UserRole.isAnchor||this.UserRole.isSuper?(l.isShowInvisible=!0,l.isShowMedal=!0,"month"===t&&l.avatarRl&&(l.avatar=l.avatarRl)):("month"===t&&(l.nickName="\u795e\u79d8\u4eba"),l.isShowMedal=!1)),l.trend=this.setTrend(l.trend),l.trendRank>=1&&l.trendRank<=i?l.trendTitle="\u4e4b\u524d\u6392\u540d\u7b2c"+l.trendRank+"\u4f4d":l.trendTitle="\u4e4b\u524d\u672a\u4e0a\u699c","month"===t&&(l.trendTitle=""),l.gold=l.gold?l.gold/100:0,l.gold>=1e6?l.fgold=this.formatNumber({number:l.gold,unit:"\u4e07"}):l.fgold=l.gold,s.push(l));return s},ChatRankServices.prototype.setTrend=function setTrend(e){switch(parseInt(e,10)){case 1:return"rankUp";case-1:return"rankDown";case 0:return"rankNormal";default:return!1}},ChatRankServices.prototype.setAboutConfig=function setAboutConfig(){var e=this.global,t=this.$ROOM;this.UserRole={isAnchor:String(e.get("USER_INFO.uid"))===String(t.owner_uid),isSuper:5===parseInt(e.get("USER_INFO.groupId"),10)},this.defaultConfig={isFaceScore:t.isVertical||0,maxUserLevel:120,maxListLength:10,maxMonthLength:50},this.store.dispatch(Ka.getUserRole(this.UserRole)),this.store.dispatch(Ka.setDeafultConfig(this.defaultConfig)),this.store.dispatch(il.setDeafultConfig(this.defaultConfig))},ChatRankServices.prototype.checkRankSwitch=function checkRankSwitch(){var e=this,t=this.global,r=this.$ROOM,i=t.get("$SYS.webconfUrl"),n=r.cate_id,a=i+"/resource/common/gxrsw/web.json";b.jsonpClient.get(String,a,"rankAllSwitch").subscribe(function(t){if(t&&0===+t.error){var r=t.data?JSON.parse(t.data):"",i=r.sw||{},a=+(r.month||{})[n],o=+i[n];e.store.dispatch(Ka.receiveAllRankSwitch(o)),e.store.dispatch(Ka.receiveMonthRankSwitch(a))}})},ChatRankServices.prototype.notifyIsCloseAllRank=function notifyIsCloseAllRank(){return(this.store.getState()||{}).chatRank.isCloseAllRank},ChatRankServices.prototype.formatNumber=function formatNumber(e){var t=0,r=e.unit||"";switch(r){case"\u5343\u4e07":t=1e7;break;case"\u767e\u4e07":case"t":case"T":t=1e6;break;case"\u4e07":t=1e4;break;case"\u5343":case"k":case"K":t=1e3;break;case"\u767e":t=100}return parseFloat(Number(e.number)||0/t).toFixed(e.precision||0)+(e.isUnit?r:"")},ChatRankServices.prototype.setDYSub=function setDYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(pr.dysub)(e,Dp({},t))},ChatRankServices}(d.Service),gp=chatRankServices_applyDecoratedDescriptor(vp.prototype,"global",[fp],{enumerable:!0,initializer:null}),yp=chatRankServices_applyDecoratedDescriptor(vp.prototype,"localStorage",[mp],{enumerable:!0,initializer:null}),_p=chatRankServices_applyDecoratedDescriptor(vp.prototype,"common",[dp],{enumerable:!0,initializer:null}),Sp=chatRankServices_applyDecoratedDescriptor(vp.prototype,"userRoleService",[bp],{enumerable:!0,initializer:null}),Np=chatRankServices_applyDecoratedDescriptor(vp.prototype,"store",[hp],{enumerable:!0,initializer:null}),vp),xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function rankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function rankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function rankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function rankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Gp,Up,Hp,Wp,Vp,$p=Si.a.socketStream,Kp=n.a.Service,Jp=(Pp=(0,n.a.Store)(),jp=Kp(hu),kp=Kp(Ip),Rp=function(e){function RankServices(){var t,r;!function rankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=rankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),rankServices_initDefineProp(r,"store",Tp,r),rankServices_initDefineProp(r,"shieldToolService",Bp,r),rankServices_initDefineProp(r,"chatRankService",Mp,r),r.MaxListNum=10,rankServices_possibleConstructorReturn(r,t)}return rankServices_inherits(RankServices,e),RankServices.prototype.initRankUpdate=function initRankUpdate(e){var t=this,r=this,i=b.DataCenter.global.get("USER_INFO.uid");$p.subscribe("rankup",function(n){if((parseInt(n.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(107))&&(2!==parseInt(n.rkt,10)||!t.chatRankService.notifyIsCloseAllRank())&&n&&0!==Object.keys(n).length){if(parseInt(n.rn,10)>r.MaxListNum)return;var a=r.getNickName(n);e.barrageBase.push(xp({},n,{nickName:a}))}})},RankServices.prototype.initRankGap=function initRankGap(e){var t=this;$p.subscribe("notify_cgap",function(r){if(r&&0!==Object.keys(r).length){var i=parseInt(r.nz,10),n=parseInt(r.urn,10);if(1!==i&&3!==i)return;if(n>t.MaxListNum)return;e.barrageBase.push(r)}})},RankServices.prototype.getNickName=function getNickName(e){var t=e.nk,r=parseInt(e.ih,10),i=this.store.getState().userRoleData,n=i.isAnchor,a=i.isSuperAdmin,o=b.DataCenter.global.get("USER_INFO.uid");return r&&(n||a||parseInt(o,10)===parseInt(e.uid,10))&&(t=e.nk+"(\u5df2\u9690\u8eab)"),t},RankServices}(d.Service),Tp=rankServices_applyDecoratedDescriptor(Rp.prototype,"store",[Pp],{enumerable:!0,initializer:null}),Bp=rankServices_applyDecoratedDescriptor(Rp.prototype,"shieldToolService",[jp],{enumerable:!0,initializer:null}),Mp=rankServices_applyDecoratedDescriptor(Rp.prototype,"chatRankService",[kp],{enumerable:!0,initializer:null}),Rp),qp=r("a0161"),Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function levelUpServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function levelUpServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function levelUpServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function levelUpServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function levelUpServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Yp,Xp,Zp,ef=Si.a.socketStream,tf=n.a.Service,rf=(Gp=tf(m.a),Up=tf(hu),Hp=function(e){function LevelUpServices(){var t,r;!function levelUpServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelUpServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=levelUpServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),levelUpServices_initDefineProp(r,"medalOperatService",Wp,r),levelUpServices_initDefineProp(r,"shieldToolService",Vp,r),levelUpServices_possibleConstructorReturn(r,t)}return levelUpServices_inherits(LevelUpServices,e),LevelUpServices.prototype.initUserLevelUp=function initUserLevelUp(e){var t=this,r=b.DataCenter.global.get("USER_INFO.uid");ef.subscribe("upgrade",function(i){if((parseInt(i.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&i&&0!==Object.keys(i).length){if((i.level?i.level:0)%20!==0)return;e.barrageBase.push(Qp({},i,{isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))}})},LevelUpServices.prototype.initFansLevelUp=function initFansLevelUp(e){var t=this,r=b.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.room_id;ef.subscribe("blab",function(n){Object(s.of)(n).pipe(Object(c.map)(function(e){var i=parseInt(e.ba,10),n=null;return parseInt(e.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)?null:("blab"!==e.type||1!==i&&3!==i||(n=e),Qp({},n))}),Object(qp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.medalOperatService.getConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var r={};if(e){var i=e[0];if(i&&0!==Object.keys(i).length){var n=e[1].data,a={name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"};(r=i).fansMedal={medalBgOptions:t.medalOperatService.handleMedalOptions(a,n),name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"}}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(Qp({},t,{curRoomId:i}))})})},LevelUpServices.prototype.initAnchorLevelUp=function initAnchorLevelUp(e){ef.subscribe("upbc",function(t){var r=b.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(Qp({},t,{ownerName:n}))})},LevelUpServices.prototype.initAnchorLevelDown=function initAnchorLevelDown(e){ef.subscribe("dgbc",function(t){var r=b.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(Qp({},t,{ownerName:n}))})},LevelUpServices}(d.Service),Wp=levelUpServices_applyDecoratedDescriptor(Hp.prototype,"medalOperatService",[Gp],{enumerable:!0,initializer:null}),Vp=levelUpServices_applyDecoratedDescriptor(Hp.prototype,"shieldToolService",[Up],{enumerable:!0,initializer:null}),Hp);function videoServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function videoServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function videoServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nf=Si.a.socketStream,af=(Yp=(0,n.a.Service)(hu),Xp=function(e){function VideoServices(){var t,r;!function videoServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=videoServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function videoServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Zp,r),videoServices_possibleConstructorReturn(r,t)}return videoServices_inherits(VideoServices,e),VideoServices.prototype.init=function init(e){var t=this,r=parseInt(b.DataCenter.global.get("USER_INFO.uid"),10);nf.subscribe("redirect",function(t){var r=t;if(r&&0!==Object.keys(r).length){if("redirect"!==r.type||"wdf_video"!==r.msgtype)return;r.senderId=e.$ROOM.owner_uid,r.senderNick=e.$ROOM.owner_name,e.barrageBase.push(r)}}),nf.subscribe("srres",function(i){parseInt(i.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)||i&&0!==Object.keys(i).length&&e.barrageBase.push(i)})},VideoServices}(d.Service),Zp=function videoServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Xp.prototype,"shieldToolService",[Yp],{enumerable:!0,initializer:null}),Xp),of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function guessServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var lf=Si.a.socketStream,sf=o.a.decode,cf=o.a.isArray,uf=function(e){function GuessServices(){var t,r;!function guessServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=guessServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.defaultAvatar="//teststatic.dz11.com/app/douyu/res/com/defaultAvatar.png?20161229",r.avatarDomain="https://apic.douyucdn.cn/",guessServices_possibleConstructorReturn(r,t)}return guessServices_inherits(GuessServices,e),GuessServices.prototype.init=function init(e){lf.subscribe("qzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(cf(r)?sf(r):[r]).map(function(e){return of({type:t.type},sf(e))});e.barrageBase.push(i)}})},GuessServices}(d.Service),pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessTicketServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessTicketServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ff,mf,df,bf=Si.a.socketStream,hf=o.a.decode,vf=o.a.isArray,gf=function(e){function GuessTicketServices(){return function guessTicketServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessTicketServices),function guessTicketServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return guessTicketServices_inherits(GuessTicketServices,e),GuessTicketServices.prototype.init=function init(e){bf.subscribe("tkqzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(vf(r)?hf(r):[r]).map(function(e){return pf({type:t.type},hf(e))});e.barrageBase.push(i)}})},GuessTicketServices}(d.Service);function BroadCastDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BroadCastDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BroadCastDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yf,_f,Sf,Nf=b.basicTypes.string,Cf=Object(ee.log)((mf=function(e){function BroadCastDto(){var t,r;!function BroadCastDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadCastDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BroadCastDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BroadCastDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"title",df,r),BroadCastDto_possibleConstructorReturn(r,t)}return BroadCastDto_inherits(BroadCastDto,e),BroadCastDto}(b.EntityDto),df=function BroadCastDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(mf.prototype,"title",[Nf],{enumerable:!0,initializer:null}),ff=mf))||ff,wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function broadcastServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function broadcastServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function broadcastServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Of=n.a.Service,Ef=Si.a.socketStream,Df=o.a.decode,Pf=(yf=Of(b.DataCenter.acj),_f=function(e){function BroadcastServices(){var t,r;!function broadcastServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadcastServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=broadcastServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function broadcastServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"acj",Sf,r),broadcastServices_possibleConstructorReturn(r,t)}return broadcastServices_inherits(BroadcastServices,e),BroadcastServices.prototype.init=function init(e){var t=this;Ef.subscribe("gbroadcast",function(r){var i=r||{};Object(s.of)(i).pipe(Object(c.map)(function(e){var t=e,r=parseInt(t.ft,10),i={};return 1===r?i=JSON.parse(t.gbcc):2===r&&(i=Df(t.gbcc)),11===i.gbcss&&wf({},t,{boardCast:i})}),Object(qp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.loadBroadCastData()):Object(s.of)(null)}),Object(c.map)(function(e){var t={};if(e){var r=e[0];if(r&&0!==Object.keys(r).length){var i=e[1].data,n=r.boardCast;i&&n.param_v2&&i[n.param_v2]&&(t.title=i[n.param_v2].title||""),t.rid=n.rid,t.onn=n.onn,t.type="gbroadcast"}}return t})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},BroadcastServices.prototype.loadBroadCastData=function loadBroadCastData(){return b.jsonpClient.get(Object(b.Dictionary)(Cf),"//webconf.douyucdn.cn//resource/common/privilege_broadcast/broadcast.json","privilegeBroadcasConfig")},BroadcastServices}(d.Service),Sf=function broadcastServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(_f.prototype,"acj",[yf],{enumerable:!0,initializer:null}),_f);function firstChargeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function firstChargeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var jf=Si.a.socketStream,kf=function(e){function FirstChargeServices(){return function firstChargeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirstChargeServices),function firstChargeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return firstChargeServices_inherits(FirstChargeServices,e),FirstChargeServices.prototype.init=function init(e){jf.subscribe("frb",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},FirstChargeServices}(d.Service);function spreadServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function spreadServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Rf=Si.a.socketStream,Tf=function(e){function SpreadServices(){return function spreadServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpreadServices),function spreadServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return spreadServices_inherits(SpreadServices,e),SpreadServices.prototype.init=function init(e){Rf.subscribe("npue",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},SpreadServices}(d.Service);function lotteryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lotteryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Bf=Si.a.socketStream,Mf=function(e){function lotteryServices(){return function lotteryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,lotteryServices),function lotteryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lotteryServices_inherits(lotteryServices,e),lotteryServices.prototype.init=function init(e){Bf.subscribe("ldn",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},lotteryServices}(d.Service);function drawBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function drawBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zf,Lf,Ff,Af=Si.a.socketStream,If=function(e){function DrawBarrageServices(){return function drawBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DrawBarrageServices),function drawBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return drawBarrageServices_inherits(DrawBarrageServices,e),DrawBarrageServices.prototype.init=function init(e){var t=this;Af.subscribe("lds",function(r){t.handle(r,e)}),Af.subscribe("lds_v2",function(r){t.handle(r,e)})},DrawBarrageServices.prototype.handle=function handle(e,t){var r=this,i=null;if(e&&e.type)switch(e.type){case"lds":case"lds_v2":var n=t.$ROOM.owner_name||"";i={type:e.type,anchorName:n};break;case"lde":case"lde_v2":var a=JSON.parse(e.win_list),o=e.prize_name,l=a.length,s=b.DataCenter.global.get("USER_INFO.uid"),c=t.$ROOM.owner_uid,u=!1;if(+s===+c&&(u=!0),l){var p=l>10?a.slice(0,10):a,f="";p.forEach(function(e,t){var i=r.getUserStarNickName(e.nickname,u,+e.uid===+s);f+=i,t<p.length-1&&(f+="\u3001")}),i={type:e.type,nickName:f,len:a.length,prize:o}}else u&&(i={type:e.type,len:0})}i&&0!==Object.keys(i).length&&t.barrageBase.push(i)},DrawBarrageServices.prototype.getUserStarNickName=function getUserStarNickName(e,t,r){if(t||r)return e;var i=e,n=e.length,a="";if(n<5){for(var o=1;o<n;o++)a+="*";i=i.substring(0,1)+a}else i=i.substring(0,1)+"***"+i.substring(4,n);return i},DrawBarrageServices}(d.Service),xf=r("5a266"),Gf=r("e6696"),Uf=r("e5c1f"),Hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function enterEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Wf,Vf,$f,Kf,Jf,qf,Qf,Yf,Xf,Zf,em,tm=n.a.Store,rm=Si.a.socketStream,im=(zf=tm(),Lf=function(e){function EnterEffectServices(){var t,r;!function enterEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Ff,r),enterEffectServices_possibleConstructorReturn(r,t)}return enterEffectServices_inherits(EnterEffectServices,e),EnterEffectServices.prototype.init=function init(){var e=this;rm.subscribe("clubcall",function(t){e.store.dispatch(Fo.receiveMotorcadeEnter(t))})},EnterEffectServices.prototype.handlerEnterData=function handlerEnterData(e,t){var r=this,i=Hf({},e),n=i.el,a=i.ceid,o=i.nl;if(i.he){var l=t[this.getEnumArr(e.he)[0]]||{};if(Object.keys(l).length){var s=Hf({currentProperty:l},e);return this.store.dispatch(Fo.receivePropertyEnter(s)),!0}}if(n&&this.processArrData(e.el).some(function(t){var i=t||{},n=i.etp,a=i.ef,o=Hf({},e,{el:t});return 2===+n&&1===+a&&(r.store.dispatch(Fo.receiveNormalEnter(o)),!0)}))return!0;return a?(this.store.dispatch(Fo.receiveLevel120Enter(e)),!0):o>3&&7!==+o&&(this.store.dispatch(Fo.receiveNobleEnter(e)),!0)},EnterEffectServices.prototype.processArrData=function processArrData(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/").forEach(function(t){var r=Uf.a.decode(t).too();0!==Object.keys(r).length&&e.push(r)}),e},EnterEffectServices.prototype.getEnumArr=function getEnumArr(e){var t=[];return(e||"").split("/").forEach(function(e){e&&t.push(e)}),t},EnterEffectServices.prototype.deleteEnterData=function deleteEnterData(e){this.store.dispatch(Fo.deleteEnter(e))},EnterEffectServices}(d.Service),Ff=function enterEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Lf.prototype,"store",[zf],{enumerable:!0,initializer:null}),Lf),nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function userEnterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function userEnterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function userEnterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function userEnterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function userEnterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var am,om,lm,sm,cm=Si.a.socketStream,um=n.a.Service,pm=(Wf=um(b.DataCenter.global),Vf=um(xf.a),$f=um(Gf.a),Kf=um(im),Jf=um(zc.a),qf=function(e){function UserEnterServices(){var t,r;!function userEnterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEnterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=userEnterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),userEnterServices_initDefineProp(r,"global",Qf,r),userEnterServices_initDefineProp(r,"barrageMedalService",Yf,r),userEnterServices_initDefineProp(r,"barrageMotorService",Xf,r),userEnterServices_initDefineProp(r,"enterEffectServices",Zf,r),userEnterServices_initDefineProp(r,"userRoleService",em,r),userEnterServices_possibleConstructorReturn(r,t)}return userEnterServices_inherits(UserEnterServices,e),UserEnterServices.prototype.init=function init(e){var t=this,r=this;b.jsonpClient.get(String,"//webconf.douyucdn.cn/resource/common/property_info.json","getPropertyInfo").subscribe(function(i){var n=("string"===typeof i.data?JSON.parse(i.data):i.data).property_info||{};cm.subscribe("uenter",function(i){Object(s.of)(i).pipe(Object(c.map)(function(i){var a=i,o=t.enterEffectServices.handlerEnterData(a,n),l=t.notHighLevelStrategy(a);return o||l?null:(a=Object(mc.k)(a),a=r.barrageMedalService.setMedalData([a,e.$ROOM.effectInfo,e.$COLLIGATE.madelConfig]),t.userRoleService.setUserGroup(a.uid,{pg:a.pg||1,rg:a.rg||1}),a)}),Object(qp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.barrageMotorService.loadMotorcadeData()):Object(s.of)(null)}),Object(c.map)(function(e){var r=null,i=null;if(e){var n=e[0];if(n&&0!==Object.keys(n).length){var a=e[1].data;r=n,i=t.barrageMotorService.getMotorConfig(r,a),r.motorcadeFlag=i.flag,r.motorcadeBg=i.web}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(nm({},t,{nobleConfig:e.$ROOM.nobleConfig,isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))})})})},UserEnterServices.prototype.notHighLevelStrategy=function notHighLevelStrategy(){var e=(this.global.get("BARRAGE_CACHE_LENGTH")||{}).bufferCount;return(void 0===e?0:e)>=5&&!!parseInt(8*Math.random(),10)},UserEnterServices.prototype.flattenLogicCate=function flattenLogicCate(e,t){var r={cateVaLid:!1},i=e.zone_list||{};return Object.keys(i).forEach(function(e){i[e].forEach(function(e){+e.cate2_id===+t&&Object.assign(r,e||{},{cateVaLid:!0})})}),r},UserEnterServices}(d.Service),Qf=userEnterServices_applyDecoratedDescriptor(qf.prototype,"global",[Wf],{enumerable:!0,initializer:null}),Yf=userEnterServices_applyDecoratedDescriptor(qf.prototype,"barrageMedalService",[Vf],{enumerable:!0,initializer:null}),Xf=userEnterServices_applyDecoratedDescriptor(qf.prototype,"barrageMotorService",[$f],{enumerable:!0,initializer:null}),Zf=userEnterServices_applyDecoratedDescriptor(qf.prototype,"enterEffectServices",[Kf],{enumerable:!0,initializer:null}),em=userEnterServices_applyDecoratedDescriptor(qf.prototype,"userRoleService",[Jf],{enumerable:!0,initializer:null}),qf),fm=r("ae9ce"),mm=r("104af"),dm=r("20ec0"),bm=((am={1:"BANNER_4_GIFT",2:"BANNER_4_NOBLE"}).BANNER_4_GIFT=1,am.BANNER_4_NOBLE=2,{BANNER_4_GIFT:[54,76,88],BANNER_4_NOBLE:[0,94,106,106,106,106,106,75]}),hm=bm,vm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageBannerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageBannerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageBannerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gm,ym,_m,Sm,Nm,Cm,wm,Om,Em,Dm,Pm,jm,km,Rm,Tm,Bm=n.a.Service,Mm=Si.a.socketStream,zm=b.DataCenter.global.get("$ROOM"),Lm=b.DataCenter.global.get("USER_INFO"),Fm=(om=Bm(b.DataCenter.common),lm=function(e){function BarrageBannerService(){var t,r;!function barrageBannerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBannerService);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageBannerServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageBannerServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"common",sm,r),r.bannersList=[],r.bannersMap={},r.BANNER_LIST_MAX_LENGTH=4,r.forbiddenMap={},barrageBannerServices_possibleConstructorReturn(r,t)}return barrageBannerServices_inherits(BarrageBannerService,e),BarrageBannerService.prototype.bindStateChange=function bindStateChange(e){var t=this;this.changeView=e,Mm.subscribe("ban_user",function(e){var r=e.uid;r&&(t.forbiddenMap[r]=r,t.clearBanner(r))})},BarrageBannerService.prototype.isUserBanned=function isUserBanned(e){return!!this.forbiddenMap[e]},BarrageBannerService.prototype.getBannerData=function getBannerData(e){if("BANNER_4_NOBLE"===e.bannerType){var t=+new Date,r=this.getBannerId(e),i=t+(e.bannerStayTime||0)+300;return vm({},e,{bannerId:r,createTime:t,expireTime:i,bannerHeight:hm[e.bannerType][e.objectId]})}return"BANNER_4_GIFT"===e.bannerType?this.getGiftBanner(e):null},BarrageBannerService.prototype.getGiftBanner=function getGiftBanner(e){var t=e.hitTimes,r=e.senderId,i=e.senderName,n=e.id,a=e.name,o=e.devote,l=e.stayTime,s=void 0===l?0:l,c=e.bimg,u=e.himg,p=e.brgb,f=e.urgb,m=e.grgb,d=e.drgb,b=e.batchBannerConf,h=e.type,v=e.pc,g=e.batchData,y=e.batchNumArr,_=e.makeFriendUid,S=e.makeFriendNick,N=e.data||{},C=N.bst,w=N.gfcnt,O=N.bcnt,E={bannerType:"BANNER_4_GIFT",senderId:r,senderName:i,objectId:n,objectName:a,senderFansname:"",hitTimes:parseInt(t,10)||1,gfcnt:parseInt(w,10)||1,bcnt:parseInt(O,10)||1,contribution:o*(w||1),bannerStayTime:(C&&"0"!==C?1e3*C:s)||0,level:6,bannerBgImg:c,bannerHeaderImg:u,bannerHeaderImgBorder:p,senderNameColor:f,actionColor:d,objectColor:m,isMakeFriendGift:+_?1:0,makeFriendNick:S||""};E.isMakeFriendGift&&+_===+N.anchorId&&(E.makeFriendNick="\u4e3b\u64ad");var D={batchBannerConf:b,type:h,pc:v,gfcnt:w,batchData:g,batchNumArr:y},P=+new Date,j=this.getBannerId(E),k=P+(E.bannerStayTime||0)+300,R=this.getBatchBannerData(E,D);return Object.assign(vm({bannerId:j,createTime:P,expireTime:k,gfcnt:w,bcnt:O},R),E)},BarrageBannerService.prototype.receiveBannerData=function receiveBannerData(e){var t=this,r=e.giftData;r&&(this.$ROOM?this.handleBannerData(r):this.common.get("$DATA").subscribe(function(e){t.$ROOM=e.get("room"),t.handleBannerData(r)}))},BarrageBannerService.prototype.handleBannerData=function handleBannerData(e){var t=this.bannersList,r=this.getBannerData(e),i=r.bannerId,n=t.concat();if(!this.forbiddenMap[r.senderId]){if(n.unshift(r),n=this.sort(n),this.bannersMap[i])Object.assign(this.bannersMap[i],r);else if(n.length>4){(n=n.slice(0,4)).indexOf(r)>-1?(this.destroyBanner(3),t.unshift(r),this.bannersMap[i]=r):+r.senderId===+Lm.uid&&(this.destroyBanner(3,r),this.bannersMap[i]=r)}else t.unshift(r),this.bannersMap[i]=r;this.bannersList=this.sort(t),this.setPositions(),this.changeView(this.bannersList),this.runTimer()}},BarrageBannerService.prototype.getBatchBannerData=function getBatchBannerData(e,t){var r=t.type,i=t.pc,n=t.gfcnt,a=void 0===n?1:n,o=t.batchNumArr,l=void 0===o?[]:o,s=t.batchData,c=void 0===s?{}:s,u=t.batchBannerConf,p=void 0===u?{}:u,f=0;p&&p.threshold&&(1===r?f=p.threshold.ywsw:2===r&&(f=p.threshold.ycsw));for(var m=i*(a||1),d=this.getPriceIndex(m,f)||0,b=hm[e.bannerType][d],h="",v=0,g=0;g<l.length;g++)parseInt(a,10)>=parseInt(l[g],10)&&(h=l[g]);var y=c[h]?c[h].bimg_effect:"",_=c[h]?c[h].bimg_lv:0;1===_?v=0:2===_?v=1:3===_&&(v=2);var S={};if(p){var N=p.room||{},C=p.tag||{},w=p.default||{},O=zm.room_id,E=this.$ROOM.cate_id;N[O]?S=N[O]||{}:C[E]?S=C[E]||{}:w&&(S=w)}var D=S.src||[],P=S.nc?"#"+S.nc:"#ffffff",j=S.gnc?"#"+S.gnc:"#ffffff",k=S.oc?"#"+S.oc:"#ffffff";return y||(y=D[d],v=d),{bannerHeight:b,bannerBatchBg:y,batchPriceIndex:v,nickNameColor:P,giftNameColor:j,otherColor:k}},BarrageBannerService.prototype.getPriceIndex=function getPriceIndex(e,t){for(var r=0,i=0;i<t.length;i++)parseInt(e,10)>=parseInt(t[i],10)&&(r=i+1);return r},BarrageBannerService.prototype.getBannerId=function getBannerId(e){return e.bannerType+"-"+e.senderId+"-"+e.objectId},BarrageBannerService.prototype.sort=function sort(e){return e.sort(function(e,t){var r=void 0,i=e.gfcnt>1?e.bcnt:e.hitTimes,n=t.gfcnt>1?t.bcnt:t.hitTimes;return e.contribution!==t.contribution?r=t.contribution-e.contribution:i!==n?r=n-i:e.createTime!==t.createTime&&(r=t.createTime-e.createTime),r})},BarrageBannerService.prototype.setPositions=function setPositions(){var e=this,t=30;this.bannersList.forEach(function(r,i){e.bannersList[i].top=t,t+=r.bannerHeight+15})},BarrageBannerService.prototype.runTimer=function runTimer(){var e=this;this.isTimerRunning=!0;!function timerRun(){e.bannersList.forEach(function(t,r){+new Date>=t.expireTime&&(e.destroyBanner(r),e.setPositions(),e.changeView(e.bannersList))}),e.bannersList.length>0?setTimeout(function(){timerRun()},500):e.isTimerRunning=!1}()},BarrageBannerService.prototype.destroyBanner=function destroyBanner(e,t){var r=this.bannersList,i=this.getBannerId(r[e]);this.bannersMap[i]=null,delete this.bannersMap[i],t?this.bannersList.splice(e,1,t):this.bannersList.splice(e,1),this.changeView(this.bannersList)},BarrageBannerService.prototype.clearBanner=function clearBanner(e){var t=this;e?(this.bannersList=this.bannersList.filter(function(r){var i=r.senderId,n=t.getBannerId(r),a=+i===+e;return a&&(t.bannersMap[n]=null,delete t.bannersMap[n]),!a}),this.setPositions(),this.changeView(this.bannersList)):(this.bannersList=[],this.bannersMap={},this.changeView(this.bannersList))},BarrageBannerService}(d.Service),sm=function barrageBannerServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(lm.prototype,"common",[om],{enumerable:!0,initializer:null}),lm);function giftBarrageServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftBarrageServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Am,Im,xm,Gm=Si.a.socketStream,Um=n.a.Service,Hm=(gm=Um(dm.a),ym=Um(Gf.a),_m=Um(m.a),Sm=Um(hu),Nm=Um(Fm),Cm=Um(b.DataCenter.common),wm=Um(b.DataCenter.global),Om=function(e){function GiftBarrageServices(){!function giftBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftBarrageServices);var t=function giftBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftBarrageServices_initDefineProp(t,"giftSendService",Em,t),giftBarrageServices_initDefineProp(t,"barrageMotorService",Dm,t),giftBarrageServices_initDefineProp(t,"medalOperatService",Pm,t),giftBarrageServices_initDefineProp(t,"shieldToolService",jm,t),giftBarrageServices_initDefineProp(t,"barrageBannerServices",km,t),giftBarrageServices_initDefineProp(t,"common",Rm,t),giftBarrageServices_initDefineProp(t,"global",Tm,t),t.giftList=[],t}return giftBarrageServices_inherits(GiftBarrageServices,e),GiftBarrageServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},GiftBarrageServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(b.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},GiftBarrageServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(fm.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},GiftBarrageServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},GiftBarrageServices.prototype.init=function init(e){var t=this,r=this,i=b.DataCenter.global.get("USER_INFO.uid"),n=new mm.Subject;n.subscribe(function(e){return t.handleGiftBat.apply(t,e)}),this.common.get("$DATA").subscribe(function(a){var o=+a.get("room.owner_uid"),l=i>0&&i===o?"bgd":"dgb";Gm.subscribe(l,function(a){var l={};Object.assign(l,a,{anchorId:o}),parseInt(l.uid,10)!==parseInt(i,10)&&t.shieldToolService.getShield(106)||t.barrageBannerServices.isUserBanned(l.uid)||(t.isNeedBarrageAbandon(l)?0===t.giftList.length?(t.pressInGiftList([l,e]),t.giftAsync(n)):t.pressInGiftList([l,e]):r.handleGiftBat(l,e))})}),Gm.subscribe("tsgs",function(r){if(parseInt(r.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(105)){var n=r;parseInt(n.silver,10)?n.type="tsgspeck":n.type="tsgsprop",n&&0!==Object.keys(n).length&&e.barrageBase.push(n)}})},GiftBarrageServices.prototype.handleGiftBat=function handleGiftBat(e,t){var r=this,i=this,n=Object(mc.k)(e);Object(s.of)(n).pipe(Object(qp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),r.barrageMotorService.loadMotorcadeData(),r.medalOperatService.getConfig(),r.giftSendService.getAllGiftConfig(),r.giftSendService.getAllPropsConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var n=null,a=null;if(e){var o=e[0];if(o&&0!==Object.keys(o).length){var l=e[1].data,s=e[2].data,c=e[3].data||[],u=e[4].data||[],p={name:o.bnn,lev:parseInt(o.bl,10),medalId:parseInt(o.brid,10),isVipFan:o.vipfan,type:"special"},f=c.filter(function(e){return parseInt(e.id,10)===parseInt(o.gfid,10)})[0];if(!f&&!(f=u[o.gfid]))return null;if(i.giftBatterMsgShow(o,f))return null;n=o,a=r.barrageMotorService.getMotorConfig(n,l),n.motorcadeFlag=a.flag,n.motorcadeBg=a.web,n.fansMedal={medalBgOptions:r.medalOperatService.handleMedalOptions(p,s),name:o.bnn,lev:parseInt(o.bl,10),medalId:parseInt(o.brid,10),isVipFan:o.vipfan,type:"special"},n.curRoomId=t.$ROOM.room_id,n.nobleConfig=t.$ROOM.nobleConfig,n.isShowUserLevel=t.$COLLIGATE.userLevelSwitch>0?1:0,n.giftConfig=f}}return n})).subscribe(function(e){e&&0!==Object.keys(e).length&&t.barrageBase.push(e)})},GiftBarrageServices.prototype.giftBatterMsgShow=function giftBatterMsgShow(e,t){if(!t)return!1;var r=e.gfcnt||1,i=parseInt(e.bcnt,10)||0,n=parseInt(e.hits,10)||0,a=!1;if(1===+t.type&&t.pc*r<6e3?a=!0:t.pc/100*r<6&&(a=!0),a){if(!n||n<=1)return!1;if(r>1){if(i>0&&i%10===0||1===i)return!1}else if(n>1&&n%10===0)return!1;return!0}return!1},GiftBarrageServices}(d.Service),Em=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"giftSendService",[gm],{enumerable:!0,initializer:null}),Dm=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"barrageMotorService",[ym],{enumerable:!0,initializer:null}),Pm=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"medalOperatService",[_m],{enumerable:!0,initializer:null}),jm=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"shieldToolService",[Sm],{enumerable:!0,initializer:null}),km=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"barrageBannerServices",[Nm],{enumerable:!0,initializer:null}),Rm=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"common",[Cm],{enumerable:!0,initializer:null}),Tm=giftBarrageServices_applyDecoratedDescriptor(Om.prototype,"global",[wm],{enumerable:!0,initializer:null}),Om);function yzServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function yzServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function yzServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Wm=Si.a.socketStream,Vm=o.a.decode,$m=(Am=(0,n.a.Service)(hu),Im=function(e){function YzServices(){var t,r;!function yzServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,YzServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=yzServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function yzServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",xm,r),yzServices_possibleConstructorReturn(r,t)}return yzServices_inherits(YzServices,e),YzServices.prototype.init=function init(e){var t=this,r=b.DataCenter.global.get("USER_INFO.uid");Wm.subscribe("apkb",function(i){var n=i;if((parseInt(n.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&4===parseInt(n.cmd,10)){var a=n.ac,o=n.bc,l=Vm(n.ai),s=Vm(n.bi),c=Vm(n.ua),u=Vm(n.ub),p={},f={};if(parseInt(a,10)===parseInt(o,10))return;parseInt(a,10)>parseInt(o,10)?(p=l||{},f=c||{}):(p=s||{},f=u||{}),p.id=e.$ROOM.owner_uid,n.winerInfo=p,n.maxDevoteUser=f,e.barrageBase.push(n)}})},YzServices}(d.Service),xm=function yzServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Im.prototype,"shieldToolService",[Am],{enumerable:!0,initializer:null}),Im),Km=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleNotifyServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleNotifyServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jm=Si.a.socketStream,qm=function(e){function NobleNotifyServices(){return function nobleNotifyServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNotifyServices),function nobleNotifyServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleNotifyServices_inherits(NobleNotifyServices,e),NobleNotifyServices.prototype.init=function init(e){Jm.subscribe("rnewbc",function(t){var r=e.$ROOM.room_id||"",i=e.$ROOM.nobleConfig||{},n="";t.nl&&(n=i[t.nl].noble_name),t&&0!==Object.keys(t).length&&parseInt(r,10)===parseInt(t.drid,10)&&e.barrageBase.push(Km({},t,{nobleName:n,nobleConfig:i}))})},NobleNotifyServices}(d.Service);function goldPlayServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function goldPlayServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Qm,Ym,Xm,Zm=Si.a.socketStream,ed=function(e){function GoldPlayServices(){return function goldPlayServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GoldPlayServices),function goldPlayServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return goldPlayServices_inherits(GoldPlayServices,e),GoldPlayServices.prototype.init=function init(e){Zm.subscribe("pwvthr",function(t){e.barrageBase.push(t)})},GoldPlayServices}(d.Service),td=r("69250");function motorcadeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function motorcadeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function motorcadeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rd,id,nd=Si.a.socketStream,ad=(Qm=(0,n.a.Service)(td.a),Ym=function(e){function MotorcadeServices(){var t,r;!function motorcadeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MotorcadeServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=motorcadeServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function motorcadeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"baseConfigService",Xm,r),motorcadeServices_possibleConstructorReturn(r,t)}return motorcadeServices_inherits(MotorcadeServices,e),MotorcadeServices.prototype.init=function init(){var e=this;nd.subscribe("socket_ready",function(){e.baseConfigService.privateLetterCreate().then(function(){var e=window.ImJsSdk;if(e){if(e.driverInPlace)try{e.driverInPlace()}catch(e){}if(e.getParams)try{e.getParams(1,pr.dysub)}catch(e){}}})})},MotorcadeServices}(d.Service),Xm=function motorcadeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ym.prototype,"baseConfigService",[Qm],{enumerable:!0,initializer:null}),Ym);function summerMedalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function summerMedalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var od,ld,sd=[1500000272,1500000271,1500000270],cd=(id=rd=function(e){function SummerMedalServices(){return function summerMedalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SummerMedalServices),function summerMedalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return summerMedalServices_inherits(SummerMedalServices,e),SummerMedalServices}(d.Service),rd.getSummerMedal=function(e){if(e&&e.length){var t=!1,r="";return e.length&&(e.forEach(function(e){parseInt(e.eid,10)===sd[0]&&(r="high",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===sd[1]&&(r="middle",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===sd[2]&&(r="low",t=!0)})),r}return!1},id);function matchSystemTeamMedalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function matchSystemTeamMedalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ud,pd,fd,md,dd,bd,hd,vd,gd,yd,_d,Sd,Nd,Cd,wd,Od,Ed,Dd,Pd,jd,kd,Rd,Td,Bd,Md,zd,Ld,Fd,Ad,Id,xd,Gd,Ud,Hd,Wd,Vd,$d,Kd,Jd,qd,Qd,Yd,Xd,Zd=(ld=od=function(e){function MatchSystemTeamMedalServices(){return function matchSystemTeamMedalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemTeamMedalServices),function matchSystemTeamMedalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return matchSystemTeamMedalServices_inherits(MatchSystemTeamMedalServices,e),MatchSystemTeamMedalServices}(d.Service),od.getMatchSystemTeamMedal=function(e){return 1===parseInt(e.mgt,10)&&{team_id:e.mid,team_name:e.mtn,medal_level:e.ml,glory_level:e.gl}},ld),eb=(r("056f5"),function Identity(e){var t=e.showSuperIdentity,r=e.platformGroup,i=e.roomGroup,n=e.identityName||"";if(""===n)if(5!==r&&2!==r||1!==t){if(4!==i)return"";n="roomAdmin"}else n="superAdmin";return'<span class="Barrage-icon Barrage-icon--'+n+'"></span>'}),tb=(r("490b6"),function Noble(e){var t=e.nobleLevel,r=void 0===t?0:t,i=e.nobleConfig,n=r?i[r]:null;return n?'\n        <span class="Barrage-icon Barrage-noble">\n            <img class="Barrage-nobleImg" src="//res.douyucdn.cn//resource/'+n.symbol.web_symbol_pic1+'" title="'+n.symbol.name+'"/>\n        </span>\n    ':""}),rb=(r("4a6d1"),function Medal(e){var t=e.chatMedal,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="Medal" '+(e.link?"href="+e.link:"")+" data-id="+e.eid+" "+(e.link?'target="_blank"':"")+' >\n                    <img class="Medal-image '+(e.achievementId?"is-achievement":"")+'" src="'+e.img+'" title="'+(e.title||"")+'" data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),ib=(r("b5cb0"),function Reward(e){var t=e.roomPayLevel,r=e.roomPayCount,i=e.platformPayLevel,n=e.roomPayTitle;return t>0&&r?'\n            <span class="Reward"}\n                title="'+n+'"\n            >\n                <span class="Reward-image Reward-image--level'+t+'"></span>\n                <em class="Reward-level Reward-level--level'+t+'">x'+r+"</em>\n            </span>\n        ":i>0?'\n            <span class="Reward">\n                <span class="Reward-image Reward-image--other" title="\u916c\u52e4\u7528\u6237"></span>\n            </span>\n        ':""}),nb=function AnchorLevel(e){var t=e.anchorLevel;return t?'\n        <span\n            class="AnchorLevel AnchorLevel-'+t+'" style="margin-right:4px"\n            title="\u4e3b\u64ad\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null},ab=(r("441a6"),function Level(e){var t=e.userLevel,r=e.isNext,i=void 0===r?"":r,n=e.isShowUserLevel;return t&&(void 0===n||n)?'\n        <span\n            class="UserLevel UserLevel--'+(i?"next-":"")+t+'"\n            title="\u7528\u6237\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null}),ob=function Fans(e){var t=e.fansMedal||{},r=t.lev,i=void 0===r?0:r,n=t.name,a=void 0===n?"":n,o=t.medalBgOptions,l=void 0===o?{}:o,s=t.medalId,c=l.isBest,u=l.url,p=e.checkCode,f=void 0===p?"":p,m=e.curRoomId,d=void 0===m?"":m,b=e.fansIsDys,h=void 0!==b&&b;return i?u?d!==s?'\n                <a class="FansMedal '+(c?"is-best":"is-made")+" Barrage-icon "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" \n                href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'\n                style="display:inline-block;background-image: url('+u+')">\n                    <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n                </a>\n            ":'\n            <div class="FansMedal '+(c?"is-best":"is-made")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" style="background-image: url('+u+')" data-rid="'+s+'">\n                <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n            </div>\n        ":d!==s?'\n            <a class="FansMedal level-'+i+" "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'>\n                <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n            </a>\n        ":'\n        <div class="FansMedal level-'+i+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" data-rid="'+s+'">\n            <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n        </div>\n    ":""},lb=(r("b6a65"),function Name(e){var t=e.isSelf,r=e.senderNick,i=e.senderId,n=void 0===i?"":i,a=e.hasColon,o=e.senderNickPre,l=void 0===o?"":o,s=e.roleInfo,c=["Barrage-nickName","Barrage-nickName--"+(e.senderNickColor||"blue"),t?"is-self":"",e.hasCard?"js-nick":""].filter(Boolean).join(" "),u=(s?s.name:r)+(a?"\uff1a":""),p=e.senderNickTitle||r;return r?"\n            "+function renderPre(e){return e?'<span class="Barrage-nickName Barrage-nickName--blue">'+e+"</span>":""}(l)+'\n            <span class="'+c+'" title="'+p+'" data-uid="'+n+'">'+u+"</span>\n        ":""}),sb=(r("759e0"),r("f280b"),function Emot(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=void 0===i?"":i;return n&&r?'\n            <img class="Emot-image" rel="dy'+r+'" src="'+n+'" />\n    ':""}),cb=(r("89631"),function Content(e){var t=e.barrageColor,r=e.chatId,i=e.chatCampColor,n=t>=0?" Barrage-content--color"+t:"",a=e.barrageContent,o=Object(mc.l)(a);return o&&o.length>0&&o.forEach(function(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=sb({emotCode:r,repUrl:void 0===i?"":i});a=a.replace(new RegExp("\\[emot:dy"+r+"\\]","g"),n)}),a?'\n        <span class="Barrage-content'+n+'" data-chatId="'+r+'" '+(i?'style="color:'+i+'"':"")+">\n            "+a+"\n        </span>\n    ":""}),ub=function Link(e){var t=e.superLink,r=void 0===t?{}:t;return'\n        <a class="HyperLink js-link-dysclick" data-msg-type="'+r.type+'" href="'+r.link+'" target="_blank">\n            <span class="HyperLink-brace">\u3010</span>\n            '+cb(e)+'\n            <span class="HyperLink-brace">\u3011</span>\n        </a>\n    '},pb=(r("075fe"),function Baby(e){var t=e.chatBaby,r=(void 0===t?[]:t)[0],i="";return r&&(i+='\n            <a class="Baby" '+(r.link?'href="'+r.link+'"':"")+" data-id="+r.eid+" "+(r.link?'target="_blank"':"")+'>\n                <img class="Baby-image '+(r.achievementId?"is-achievement":"")+'" src="'+r.img+'" title="'+(r.title||"")+'" data-achievementId="'+r.achievementId+'" />\n            </a>\n        '),i}),fb=(r("4fd46"),function System(e){var t=e.resMsg,r=void 0===t?{}:t,i=r.type,n=void 0===i?0:i,a=r.str,o=void 0===a?"":a,l="\u7cfb\u7edf\u63d0\u793a\uff1a";return 0===n?l="\u7cfb\u7edf\u63d0\u793a\uff1a":1===n&&(l="\u6d88\u606f\u63d0\u9192\uff1a"),o?'\n        <i class="Barrage-icon Barrage-icon--sys"></i>\n        <div class="Barrage-notice">\n            <span class="Barrage-text Barrage-notice--red">'+l+'</span>\n            <span class="Barrage-text">'+o+"</span>\n        </div>\n    ":""}),mb=(r("38171"),function Motor(e){var t=e.motorcadeFlag,r=void 0===t?"":t,i=e.motorcadeBg,n=void 0===i?"":i;return r?'\n            <span class="Motor" title="'+r+'" data-motorcade="'+r+'" \n            '+(n?'style="background-image:url('+n+')"':"")+'"\n            >\n                <span class="Motor-flag">'+r+"</span>\n            </span>\n        ":""}),db=(r("52ba2"),function SummerMedal(e){var t=e.summerMedal,r="";return t&&"high"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_high" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u9ad8\u9636\u5fbd\u7ae0"></a>\n        ':t&&"middle"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_middle" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4e2d\u9636\u5fbd\u7ae0"></a>\n        ':t&&"low"===t&&(r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_low" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4f4e\u9636\u5fbd\u7ae0"></a>\n        '),r}),bb=(r("e2a4f"),function MatchSystemTeamMedal(e){var t="";if(e&&e.matchSystemTeamMedal){var r=e.matchSystemTeamMedal,i=r.team_id,n=r.team_name,a=r.medal_level,o=r.glory_level,l="";if(1===o.toString().length&&(l='\n                <div class="MatchSystemTeamMedal-medeal_level'+a+'">\n                    <div class="MatchSystemTeamMedal-team_'+i+'">\n                        <div class="MatchSystemTeamMedal-level_pre MatchSystemTeamMedal-level_pre_level'+o+'"></div>\n                    </div>\n                </div>\n            '),2===o.toString().length){var s=o.toString(),c="";"11"===s?c="left: 22px":"1"===s[1]?c="left: 23px":"1"===s[0]&&(c="left: 24px"),l='\n                <div class="MatchSystemTeamMedal-medeal_level'+a+'">\n                    <div class="MatchSystemTeamMedal-team_'+i+'">\n                        <div class="MatchSystemTeamMedal-level_pre MatchSystemTeamMedal-level_pre_level'+s[0]+'"></div>\n                        <div style="'+c+'" class="MatchSystemTeamMedal-level_last MatchSystemTeamMedal-level_last_level'+s[1]+'"></div>\n                    </div>\n                </div>\n            '}t='\n            <a href="/topic/GloryCompetition?conf_id=1" target="_blank" \n            class="MatchSystemTeamMedal" title="'+n+'">\n            '+l+"\n            </a>\n        "}return t}),hb=(r("e60c6"),function ChatAchievement(e){var t=e.chatAchievement,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="ChatAchievement">\n                    <img class="ChatAchievement-image is-achievement '+(2===+e.imgType?"is-small2Img":"")+'" src="'+e.img+'"  data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),vb=(r("a55bd"),function RoleAvatar(e){var t=e.roleInfo;return t?'\n            <span class="RoleAvatar-wrapper" title="'+t.name+'">\n                <img src="'+t.img+'" />\n            </span>\n        ':null}),gb=(r("414bd"),{identity:eb,noble:tb,medal:rb,reward:ib,summerMedal:db,matchSystemTeamMedal:bb,anchorLevel:nb,level:ab,name:lb,fans:ob,link:ub,content:cb,emot:sb,baby:pb,system:fb,motor:mb,chatAchievement:hb,roleAvatar:vb,firePower:function FirePower(e){return e.firePower?'<span class="FirePowerIcon"></span>':""}}),yb=function Elements(e,t){var r=[];return(e instanceof Array?e:[e]).forEach(function(e){var i=gb[e];i&&r.push(i(t))}),r.join("")},_b=(r("2af9b"),{protocol:["chatmsg","chatres"],model:function model(e){var t=this;if(!Object(mc.a)(e.txt))return null;var r=e.roleid?(new Vn.a).getSelectedRoleInfo(e.roleid):null,i=this.nicknameHandle(e),n=i.nicknamePre,a=i.nickname;return{senderNickPre:function senderNickPre(){return n},senderNick:function senderNick(){return a},senderNickColor:function senderNickColor(e){return Object(mc.b)(e.el).color},senderNickTitle:function senderNickTitle(e){return Object(mc.b)(e.el).title},userLevel:function userLevel(e){return Object(mc.d)(e.level,0)},roomGroup:function roomGroup(e){return Object(mc.d)(e.rg,1)},anchorLevel:function anchorLevel(e){return Object(mc.d)(e.ol,0)},roomPayLevel:function roomPayLevel(e){return Object(mc.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object(mc.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object(mc.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object(mc.f)(e.dlv)},chatMedal:"chatMedal",chatAchievement:"chatAchievement",chatBaby:"chatBaby",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",barrageContent:function barrageContent(e){return Object(mc.i)(e.txt)},chatId:"cid",barrageColor:function barrageColor(e){return Object(mc.d)(e.col,0)-1},nobleLevel:function nobleLevel(e){return Object(mc.d)(e.nl,0)},nobleBarrage:function nobleBarrage(e){return Object(mc.d)(e.nc,0)},fansMedal:"fansMedal",summerMedal:function summerMedal(e){return cd.getSummerMedal(e.el)},matchSystemTeamMedal:function matchSystemTeamMedal(e){return Zd.getMatchSystemTeamMedal(e)},isFansFloatingBarrage:function isFansFloatingBarrage(e){return Object(mc.d)(e.hl,0)},checkCode:"hc",superLink:function superLink(e){return Object(mc.g)(e.lk||"",e.linkMsgConfig)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object(mc.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object(mc.d)(e.pg,0)},showSuperIdentity:function showSuperIdentity(e){return Object(mc.c)(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",fansIsDys:function fansIsDys(){return!0},chatCampColor:"chatCampColor",isShowUserLevel:"isShowUserLevel",nobleColor:"nobleColor",pid:"pid",roleInfo:function roleInfo(){return r},selector:function selector(e){var t="";return 1===Object(mc.d)(e.nc,0)?t="js-floating-barrage js-noblefloating-barrage":1===Object(mc.d)(e.hl,0)&&(t="js-floating-barrage js-fansfloating-barrage"),t},loveDayMedal:function loveDayMedal(e){return t.getBarrageConfig({list:e.el,config:e.actLoveDayConfig})},firePower:function firePower(e){return!!(1&e.dat)}}},render:function render(e){var t=e.superLink&&e.superLink.open,r=0!==e.anchorLevel,i=e.roleInfo,n="",a="",o=!1;return e.matchSystemTeamMedal&&e.matchSystemTeamMedal.team_id&&e.matchSystemTeamMedal.team_name&&(o=!0),1===e.nobleBarrage?(n="js-noblefloating-barragecont Barrage-notice--noble",a=e.nobleColor?"background-color: "+e.nobleColor:""):n=1===e.isFansFloatingBarrage?"js-fansfloating-barragecont Barrage--paddedBarrage":"Barrage-notice--normalBarrage",'\n            <div class="'+n+'"'+(a?' style="'+a+'"':"")+">\n                "+yb(["identity","noble","reward","medal"],Object.assign({},e,{hasColon:!0}))+"\n                "+(e.loveDayMedal?'<span class="ActLoveDay-medal"><img src='+e.loveDayMedal+" /></span>":"")+"\n                "+yb([o?"matchSystemTeamMedal":"fans","summerMedal",r?"anchorLevel":"level","motor","chatAchievement",i?"roleAvatar":"","name",t?"link":"content","emot","baby","firePower"],Object.assign({},e,{hasColon:!0}))+"\n            </div>\n        "},nicknameHandle:function nicknameHandle(e){return e.isAnchor&&16===+e.ct&&45447946===+e.pid?{nicknamePre:"[\u7edd\u5730\u6c42\u751f\u5b98\u65b9APP]",nickname:e.nn.replace("\u7ad9\u5916_","")}:{nicknamePre:"",nickname:e.nn}},getBarrageConfig:function getBarrageConfig(e){var t=e||{},r=t.list,i=void 0===r?{}:r,n=(t.type,t.config),a=(void 0===n?{}:n).medal||{},o="";return i.forEach(function(e){+e.eid===+a.medal_id&&(o=a.w_pic)}),o}}),Sb=(r("a8e2a"),{protocol:["chatres","newblackres","gbmres","setadminres"],model:function model(){return{resMsg:"resMsg"}},render:function render(e){return e.resMsg?yb(["system"],Object.assign({},e)):null}}),Nb=(r("3c1f8"),{protocol:["impress"],model:function model(e){var t=(Object(mc.i)(e.txt)||"").split("|");return 0===t.length?null:{senderNick:"nn",tags:function tags(){return t},isAnchor:"isAnchor"}},render:function render(e){var t="";return e.tags.forEach(function(e){t+='<span style="color:#f70;margin-left:2px">['+e+"]</span>"}),'\n            <div class="Barrage-message">\n                '+yb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    '+(e.isAnchor?"\u5bf9\u4f60\u7684\u5370\u8c61\u662f":"\u5bf9\u4e3b\u64ad\u7684\u5370\u8c61\u662f")+"\n                    "+t+"\n                </span>\n            </div>\n        "}}),Cb=(r("b7115"),{protocol:["ssd"],model:function model(){return{superId:"sdid",jumpType:"jmptp",roomId:"trid",linkUrl:"url",barrageContent:"content"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-super-barrage Barrage-text" \n                    data-superId="'+e.superId+'"\n                    data-jumpType="'+e.jumpType+'"\n                    data-roomId="'+e.roomId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),wb=(r("c6d85"),{protocol:["athena"],model:function model(e){var t=this;return e?{bid:"bid",boothId:function boothId(e){return e.isReverse?10:1},rulesetId:"ruleset_id",conId:"con_id",roomId:function roomId(e){return 2===Object(mc.d)(e.jump_type,0)?e.jump_to:""},videoId:function videoId(e){return 1!==Object(mc.d)(e.jump_type,0)&&2!==Object(mc.d)(e.jump_type,0)?e.jump_to:""},linkUrl:function linkUrl(e){return t.handle(e)},barrageContent:"title",isReverse:"isReverse",jumpType:"jump_type"}:null},handle:function handle(e){return 1===Object(mc.d)(e.jump_type,0)?e.jump_to:2===Object(mc.d)(e.jump_type,0)?"/"+e.jump_to:"//v.douyu.com/show/"+e.jump_to},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-athena-barrage Barrage-text"\n                    data-bid="'+e.bid+'"\n                    data-boothId="'+e.boothId+'"\n                    data-rulesetId="'+e.rulesetId+'"\n                    data-conId="'+e.conId+'"\n                    data-roomId="'+e.roomId+'"\n                    data-videoId="'+e.videoId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                    data-reverse="'+e.isReverse+'"\n                    data-jumpType="'+e.jumpType+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),Ob={protocol:["clubreward"],model:function model(){var e=this;return{userNick:"unick",senderNick:"cnick",num:"num",awardName:function awardName(t){return e.getRewardByType(Object(mc.d)(t.retype,0))}}},render:function render(e){return'\n            <div class="Barrage-message">\n                '+yb(["name"],{senderNick:e.userNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+yb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.num+"\u4e2a"+e.awardName+"</span>\n                </span>\n            </div>\n        "},getRewardByType:function getRewardByType(e){var t="";switch(e){case 0:t="\u672a\u77e5";break;case 1:t="\u9c7c\u4e38";break;case 2:t="\u9c7c\u7fc5"}return t}},Eb=(r("6491c"),{protocol:["pwvthr"],model:function model(){return{name:"uname",content:"dm"}},render:function render(e){return'\n            <div class="Barrage-goldPlay">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class=" Barrage-nickName Barrage-nickName--blue ">\n                        '+e.name+'\n                    </span>\n                    <span class="Barrage-text">\n                        '+e.content+"\n                    </span>\n                </div>\n            </div>\n        "}}),Db=(r("db978"),{protocol:["rankup"],model:function model(){return{senderNick:"nickName",rankTypeName:function rankTypeName(e){return Object(mc.e)(e.rkt)},rankNum:function rankNum(e){return Object(mc.d)(e.rn,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],e)+'\n                <span class="Barrage-text">\u7684'+e.rankTypeName+'\u6392\u540d\u4e0a\u5347\u5230\u4e86</span>\n                <span class="Barrage-notice--red Barrage-text">\u7b2c'+e.rankNum+'\u540d</span>\n                <span class="Barrage-text">\uff01</span>\n            </div>\n        '},getNickColor:function getNickColor(e){return parseInt(e.ih,10)?"purple":"blue"},getRankTypeName:function getRankTypeName(e){var t=e.rkt;return 1===t||"1"===t?"\u8d21\u732e\u5468\u699c":2===t||"2"===t?"\u8d21\u732e\u603b\u699c":"\u8d21\u732e\u5468\u699c"}}),Pb={protocol:["notify_cgap"],model:function model(){return{gap:function gap(e){return Object(mc.d)(e.cg,1)},rankTypeName:function rankTypeName(e){return Object(mc.e)(e.rt)},rankNum:function rankNum(e){return Object(mc.d)(e.urn,2)-1}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    <span class="Barrage-notice--red">\u6d88\u606f\u63d0\u9192\uff1a</span>\u7ee7\u7eed\u8d60\u9001\n                    <span class="Barrage-notice--red">'+e.gap+"</span>\n                    \u70b9\u8d21\u732e\u503c\uff0c\u60a8\u5c31\u53ef\u4ee5\u5347\u5230"+e.rankTypeName+'<span class="Barrage-notice--red">\u7b2c'+e.rankNum+"\u540d</span>\n                </span>\n            </div>\n        "}},jb=(r("04d83"),{protocol:["upgrade"],model:function model(){return{senderNick:"nn",userLevel:function userLevel(e){return Object(mc.d)(e.level,0)},clientType:function clientType(e){return Object(mc.d)(e.ct,0)},hasCard:function hasCard(){return!0},senderId:"uid",senderAvatar:"ic",showSuperIdentity:function showSuperIdentity(e){return Object(mc.c)(e.sahf)},isShowUserLevel:"isShowUserLevel",groupId:"gid"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],e)+'\n                <span class="Barrage-text">\n                    \u5347\u7ea7\u5230\n                    '+yb(["level"],e)+"\n                </span>\n            </div>\n        "}}),kb={protocol:["blab"],model:function model(){return{senderNick:"nn",fansMedal:"fansMedal",curRoomId:"curRoomId"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],e)+'\n                <span class="Barrage-text">\n                    \u7c89\u4e1d\u7b49\u7ea7\u5347\u7ea7\u5230\n                </span>\n                '+yb(["fans"],e)+'\n                <span class="Barrage-text">\n                    \uff0c\u4e3b\u64ad\u66f4\u7231\u4f60\u54df\n                </span>\n            </div>\n        '}},Rb={protocol:["upbc"],model:function model(){return{senderNick:"ownerName",anchorLevel:function anchorLevel(e){return Object(mc.d)(e.lev,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],e)+'\n                <span class="Barrage-text">\u4e3b\u64ad\u7b49\u7ea7\u8fbe\u5230</span>\n                '+yb(["anchorLevel"],e)+'\n                <span class="Barrage-text">\uff0c\u7ee7\u7eed\u6311\u6218\u65b0\u7684\u4fdd\u7ea7\u4efb\u52a1\u5427</span>\n            </div>\n        '}},Tb={protocol:["dgbc"],model:function model(){var e=this;return{senderNick:"ownerName",userLevel:function userLevel(e){return Object(mc.d)(e.llev,0)},exp:function exp(t){return e.formatContribute(parseInt(t.ddct,10)/100,2)||0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u5f88\u9057\u61be\uff0c</span>\n                '+yb(["name"],e)+'\n                <span class="Barrage-text Barrage-notice--red">'+e.userLevel+'\u7ea7\u4fdd\u7ea7\u5931\u8d25</span>\n                <span class="Barrage-text">\uff0c\u6263\u9664</span>\n                <span class="Barrage-text Barrage-notice--red">'+e.exp+'</span>\n                <span class="Barrage-text">\u7ecf\u9a8c\u503c</span>\n            </div>\n        '},formatContribute:function formatContribute(e,t){var r=e;return e>=1e4&&(r=this.formatDecimals(e/1e4,t)+"\u4e07"),r},formatDecimals:function formatDecimals(e,t){var r=new RegExp("(\\.\\d{"+t+"})\\d*$"),i=(""+e).replace(r,"$1");return i=this.formatDotZero(i)},formatDotZero:function formatDotZero(e){return String(e).replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")}},Bb={protocol:["redirect"],model:function model(){return{senderNick:"senderNick",anchorLevel:function anchorLevel(e){return Object(mc.d)(e.rl,0)},identityName:function identityName(){return"anchor"},videoId:"vid",clientType:function clientType(e){return Object(mc.d)(e.ct,0)},senderId:"senderId",hasCard:function hasCard(){return!0},senderAvatar:"ic"}},render:function render(e){return'\n            <div class="Barrage-videoMsg">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    '+yb(["anchorLevel","name"],Object.assign({},e,{hasColon:!1}))+'\n                    <span class="Barrage-text">\n                        <a href=//v.douyu.com/show/'+e.videoId+' target="_blank">\n                            \u5f55\u5236\u4e86\u4e00\u6bb5\u7cbe\u5f69\u65f6\u523b\n                        </a>\n                        \u5feb\u6765\u56f4\u89c2\u5427\uff01\n                    </span>\n                </div>\n            </div>\n        '}},Mb=(r("0c8e7"),{protocol:["qzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){return t.ec>=1e4?e.decimal(t.ec)+"\u4e07":t.ec},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+yb(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u9c7c\u4e38</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),zb=(r("8d648"),{protocol:["tkqzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){var r=e.parseTicket(t.ec);return r>=1e4?e.decimal(r)+"\u4e07":r},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+yb(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u63a2\u9669\u5238</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},parseTicket:function parseTicket(e){var t=0;return isNaN(+e)||(t=parseInt(+e/100*10,10)/10),t},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),Lb=(r("398c4"),{protocol:["gbroadcast"],model:function model(){return{title:"title",roomId:"rid",senderNick:"onn"}},render:function render(e){return e.senderNick&&e.roomId?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <a class="Barrage-notice Barrage-notice--red" href=/'+e.roomId+' target="_blank" style="display:inline-block;">\n                    <span class="Barrage-text">'+(e.title||"")+"\uff1a"+(e.senderNick||"")+" \u5f00\u64ad\u4e86\uff01\u5feb\u6765\u56f4\u89c2\u5427\uff01</span>\n                </a>\n            ":null}}),Fb=(r("53e07"),{protocol:["frb"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5c06<span class="Barrage-notice--red">\u7b2c\u4e00\u6b21</span>\u5145\u503c\u732e\u7ed9\u4e86\u672c\u623f\u95f4\u4e3b\u64ad\uff0c\u5e76\u83b7\u5f97\u4e86<span class="Barrage-notice--red">\u9996\u5145\u5956\u52b1</span>\n                </span>\n            </div>\n        '}}),Ab=(r("7735f"),{protocol:["npue"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+yb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u901a\u8fc7\u76f4\u64ad\u63a8\u5e7f\u6765\u4e86\n                </span>\n            </div>\n        '}}),Ib=(r("87467"),{protocol:["ldn"],model:function model(e){var t=this;return e?{condition:function condition(e){return t.getCondition(e)},secStr:function secStr(e){return t.getSecStr(e)}}:null},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    \u4e3b\u64ad\u5c06\u4f1a\u5728'+e.secStr+"\u5f00\u59cb\u4ece"+e.condition+"\u7684\u7528\u6237\u4e2d\u62bd\u53d6\u5e78\u8fd0\u89c2\u4f17\uff0c\u5feb\u6765\u53c2\u4e0e\u5427~\n                </span>\n            </div>\n        "},getCondition:function getCondition(e){var t=e.sl||0,r=e.gl/100||0;return t>0?r>0?"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a\u6216"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a":r>0?"\u8d60\u9001\u8fc7"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":""},getSecStr:function getSecStr(e){return e.sec<60?e.sec+"\u79d2\u540e":parseInt(e.sec/60,10)+"\u5206\u949f\u540e"}}),xb=(r("b8374"),{protocol:["lde","lds","lde_v2","lds_v2"],model:function model(e){if(!e)return null;return{type:"type",anchorName:"anchorName",nickName:"nickName",len:"len",prize:"prize"}},render:function render(e){var t=e.type,r=void 0===t?"":t,i=e.len,n=void 0===i?0:i;return"lds"===r||"lds_v2"===r?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u4e3a\u4e86\u56de\u9988\u5e7f\u5927\u6c34\u53cb\uff0c</span>\n                    <span class="Barrage-nickName Barrage-nickName--blue">'+e.anchorName+'</span>\n                    <span class="Barrage-text">\u53d1\u8d77\u62bd\u5956\u6d3b\u52a8\uff0c\u5feb\u6765\u53c2\u52a0\u5566\uff01</span>\n                </div>\n            ':"lde"===r||"lde_v2"===r?n>0?'\n                    <i class="Barrage-icon Barrage-icon--sys"></i>\n                    <div class="Barrage-notice">\n                        <span class="Barrage-text">\u606d\u559c</span>\n                        <span class="Barrage-nickName Barrage-nickName--blue">'+e.nickName+'</span>\n                        <span class="Barrage-text">    \n                            '+(n>10?"\u7b49"+n+"\u4eba":"")+'\n                            \u83b7\u5f97<span class="Barrage-notice--red">'+e.prize+"</span>\uff01\n                        </span>\n                    </div>\n                ":'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u5f53\u524d\u6ca1\u6709\u4e00\u4e2a\u4eba\u6ee1\u8db3\u62bd\u5956\u6761\u4ef6</span>\n                </div>\n            ':""}}),Gb=(r("6b4e4"),{protocol:["uenter"],model:function model(e){var t=this.getBackGround(e),r=parseInt(e.nl,10),i="blue";return t?(i=r&&(r<=3||7===r)?"blue":this.checkGirlPri(e.el,1500000173)?"red":"blue",{isSelf:function isSelf(){return!1},senderNick:"nn",senderNickColor:function senderNickColor(){return i},userLevel:function userLevel(e){return Object(mc.d)(e.level,0)},anchorLevel:function anchorLevel(e){return Object(mc.d)(e.ol,0)},roomPayLevel:function roomPayLevel(e){return Object(mc.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object(mc.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object(mc.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object(mc.f)(e.dlv)},chatMedal:"chatMedal",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",nobleLevel:function nobleLevel(e){return Object(mc.d)(e.nl,0)},nobleBarrage:function nobleBarrage(e){return Object(mc.d)(e.nc,0)},background:function background(){return t},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object(mc.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object(mc.d)(e.pg,1)},roomGroup:function roomGroup(e){return Object(mc.d)(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return Object(mc.c)(e.sahf)},isShowUserLevel:"isShowUserLevel",nobleConfig:"nobleConfig"}):null},render:function render(e){var t=0!==e.anchorLevel,r=e.nobleLevel>0?1:0;return'\n            <div class="'+e.background+'">\n                '+(r>0?"":'<span class="Barrage-hiIcon"></span>')+"\n                "+yb(["noble","reward","medal",t?"anchorLevel":"level",!r>0?"motor":"","name"],e)+'\n                <span class="Barrage-text">\u6b22\u8fce\u6765\u5230\u672c\u76f4\u64ad\u95f4</span>\n            </div>\n        '},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1},getBackGround:function getBackGround(e){var t="Barrage-userEnter Barrage-userEnter--default",r=parseInt(e.nl,10);if(e.ceid)return"";if(r&&r>3&&7!==r)return"";if(r&&(r<=3||7===r)){switch(r){case 7:t="Barrage-userEnter is-noble Barrage-userEnter--paladin";break;case 1:t="Barrage-userEnter is-noble Barrage-userEnter--knigft";break;case 2:t="Barrage-userEnter is-noble Barrage-userEnter--viscount";break;case 3:t="Barrage-userEnter is-noble Barrage-userEnter--earl"}return t}return t}}),Ub=r("2b78b"),Hb=(r("1bed5"),{protocol:["dgb","bgd"],model:function model(e){var t=this,r=e.giftConfig||{};return{isSelf:function isSelf(){return!1},senderNick:"nn",userLevel:function userLevel(e){return Object(mc.d)(e.level,0)},senderNickColor:function senderNickColor(e){return t.checkGirlPri(e.el,1500000173)?"red":"blue"},nobleLevel:function nobleLevel(e){return Object(mc.d)(e.nl,0)},roomPayLevel:function roomPayLevel(e){return Object(mc.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object(mc.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object(mc.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object(mc.f)(e.dlv)},fansMedal:"fansMedal",checkCode:"hc",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",giftCImg:function giftCImg(){return r.cimg},giftName:function giftName(){return r.name},hits:function hits(e){return Object(mc.d)(e.hits,1)},batchGiftPerNum:function batchGiftPerNum(e){return Object(mc.d)(e.gfcnt,1)},batchGiftHits:function batchGiftHits(e){return Object(mc.d)(e.bcnt,1)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object(mc.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object(mc.d)(e.pg,1)},roomGroup:function roomGroup(e){return Object(mc.d)(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return Object(mc.c)(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",isShowUserLevel:"isShowUserLevel",fansIsDys:function fansIsDys(){return!0},targetName:function targetName(e){return e.yzxq_dst_nn},targetIsAnchor:function targetIsAnchor(e){return e.yzxq_dst_uid&&+e.anchorId!==+e.yzxq_dst_uid?0:1}}},render:function render(e){var t="";return e.batchGiftPerNum>1?(t+='<span style="margin-right:6px">x'+e.batchGiftPerNum+"</span>",e.batchGiftHits>1&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>")):e.hits>1&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>"),'\n            <div class="Barrage-message">\n                '+yb(["noble","award","fans","level","motor","name"],e)+'\n                <span class="Barrage-text">\n                    \u8d60\u9001\u7ed9'+(0===e.targetIsAnchor?e.targetName:"\u4e3b\u64ad")+"\n                    <img src="+(e.giftCImg+Ub.imgSuffix)+' width="22" height="22" />\n                    '+t+"\n                </span>\n            </div>\n        "},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1}}),Wb={protocol:["tsgspeck"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",fishBallCount:"silver",dct:function dct(e){return e.dct||""},isLucker:function isLucker(e){return parseInt(e.lk,10)?1:0},giftType:function giftType(e){return parseInt(e.lt,10)||0}}},render:function render(e){var t=e.giftType;return e.isLucker?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+yb(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+yb(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+'\u9c7c\u4e38</span>\n                        \uff0c\u6210\u4e3a\u672c\u573a\n                        <span class="Barrage-message--red">\u624b\u6c14\u738b\uff01</span>\n                    </span>\n                </div>\n            ':t>0?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+yb(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+yb(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u89e6\u53d1\u66b4\u51fb\n                        '+(t>1?"x"+t:"")+'\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+"\u9c7c\u4e38</span>\n                    </span>\n                </div>\n            ":'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+yb(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+yb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.fishBallCount+"\u4e2a\u9c7c\u4e38</span>\n                </span>\n            </div>\n        "}},Vb={protocol:["tsgsprop"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",giftCount:"pcnt",giftName:"pnm",dct:function dct(e){return e.dct||""}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+yb(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+yb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.giftCount+"\u4e2a"+e.giftName+"</span>\n                </span>\n            </div>\n        "}},$b=(r("10e09"),{protocol:["apkb"],model:function model(e){if(!e)return null;return{senderId:function senderId(e){return e.maxDevoteUser.id||""},senderNick:function senderNick(e){return e.maxDevoteUser.nn||""},senderAvatar:function senderAvatar(e){return e.maxDevoteUser.icon||""},anchorId:function anchorId(e){return e.winerInfo.id||""},anchorNick:function anchorNick(e){return e.winerInfo.nn||""},anchorLevel:function anchorLevel(e){return e.winerInfo.lv||""},anchorAvatar:function anchorAvatar(e){return e.winerInfo.icon||""},anchorNobleLevel:function anchorNobleLevel(e){return e.winerInfo.nl||""},conValue:function conValue(e){return e.maxDevoteUser.cb||0},hasCard:function hasCard(){return!0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+yb(["name"],e)+'\n                <span class="Barrage-text">\u4e3a\u4e3b\u64ad </span>\n                '+yb(["name"],{senderId:e.anchorId,senderNick:e.anchorNick})+'\n                <span class="Barrage-text Barrage-text--red">\u8d21\u732e'+e.conValue/100+'\uff0c</span>\n                <span class="Barrage-text">\u52a9\u529b\u4e3b\u64ad\u83b7\u53d6\u80dc\u5229\uff01\uff01\uff01</span>\n            </div>\n        '}}),Kb=(r("4b937"),{protocol:["srres"],model:function model(){return{senderNick:"nickname",exp:function exp(e){return Object(mc.d)(e.exp,0)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+yb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5206\u4eab\u4e86\u8be5\u76f4\u64ad\u95f4'+(e.exp?'\uff0c\u83b7\u5f97<span class="Barrage-text--red">'+(e.exp||"--")+"\u7ecf\u9a8c\u503c</span>":"")+"\n                </span>\n            </div>\n        "}}),Jb=(r("82c73"),{protocol:["rnewbc"],model:function model(){return{senderNick:function senderNick(e){return e.gvnk?e.gvnk:e.unk},anchorName:"donk",reciverName:"unk",isSend:function isSend(e){return!!e.gvnk},nobleName:"nobleName",nobleConfig:"nobleConfig",nobleLevel:function nobleLevel(e){return Object(mc.d)(e.nl,0)}}},render:function render(e){var t=document.createElement("div"),r='\n            <i class="Barrage-icon--sys" style="top:12px;"></i>\n            <div class="Barrage-notice BarrageNobleNotify-notice BarrageNobleNotify-notice--nobleNotify'+e.nobleLevel+'">\n                '+yb(["noble","name"],{senderNick:e.senderNick,nobleLevel:e.nobleLevel,nobleConfig:e.nobleConfig})+"\n                "+(e.anchorName?'<span class="Barrage-text">\u5728</span>\n                    '+yb(["name"],{senderNick:e.anchorName})+'\n                    <span class="Barrage-text">\u76f4\u64ad\u95f4</span>':"")+"\n                "+(e.isSend?'<span class="Barrage-text">\u7ed9</span>\n                    '+yb(["name"],{senderNick:e.reciverName}):"")+'\n                <span class="Barrage-text">\u7eed\u8d39\u4e86</span>\n                <span class="BarrageNobleNotify-nobleName">'+e.nobleName+"</span>\n            </div>\n        ";return t.className="BarrageNobleNotify",t.innerHTML=r,document.getElementById("js-barrage-container").appendChild(t),setTimeout(function(){document.getElementById("js-barrage-container").removeChild(t)},15e3),null}});function barrageConfig_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageConfig_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qb,Qb,Yb,Xb,Zb,eh,th,rh,ih,nh=n.a.Service,ah=(ud=nh(fc.a),pd=nh(Kc),fd=nh(Cu),md=nh(Ru),dd=nh(Ju),bd=nh(Jp),hd=nh(rf),vd=nh(af),gd=nh(uf),yd=nh(gf),_d=nh(Pf),Sd=nh(kf),Nd=nh(Tf),Cd=nh(Mf),wd=nh(If),Od=nh(pm),Ed=nh(Hm),Dd=nh($m),Pd=nh(qm),jd=nh(ad),kd=nh(ed),Rd=function(){function BarrageConfig(){!function barrageConfig_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageConfig),barrageConfig_initDefineProp(this,"normalService",Td,this),barrageConfig_initDefineProp(this,"sysService",Bd,this),barrageConfig_initDefineProp(this,"superService",Md,this),barrageConfig_initDefineProp(this,"athenaService",zd,this),barrageConfig_initDefineProp(this,"fishBallService",Ld,this),barrageConfig_initDefineProp(this,"rankService",Fd,this),barrageConfig_initDefineProp(this,"levelUpService",Ad,this),barrageConfig_initDefineProp(this,"videoService",Id,this),barrageConfig_initDefineProp(this,"guessService",xd,this),barrageConfig_initDefineProp(this,"guessTicketServices",Gd,this),barrageConfig_initDefineProp(this,"broadcastService",Ud,this),barrageConfig_initDefineProp(this,"firstChargeService",Hd,this),barrageConfig_initDefineProp(this,"spreadService",Wd,this),barrageConfig_initDefineProp(this,"lotteryService",Vd,this),barrageConfig_initDefineProp(this,"drawBarrageService",$d,this),barrageConfig_initDefineProp(this,"userEnterService",Kd,this),barrageConfig_initDefineProp(this,"giftBarrageService",Jd,this),barrageConfig_initDefineProp(this,"yzServices",qd,this),barrageConfig_initDefineProp(this,"nobleNotifyServices",Qd,this),barrageConfig_initDefineProp(this,"motorcadeService",Yd,this),barrageConfig_initDefineProp(this,"goldPlayService",Xd,this),this.barrageConfig={barrage:{"normal-barrage":_b,"sys-barrage":Sb,"impress-barrage":Nb,"super-barrage":Cb,"athena-barrage":wb,"rankUp-barrage":Db,"rankGap-barrage":Pb,"userLevelUp-barrage":jb,"fansLevelUp-barrage":kb,"anchorLevelUp-barrage":Rb,"anchorLevelDown-barrage":Tb,"video-barrage":Bb,"guess-barrage":Mb,"guess-ticket-barrage":zb,"broadcast-barrage":Lb,"firstCharge-barrage":Fb,"spread-barrage":Ab,"lottery-barrage":Ib,"draw-barrage":xb,"userEnter-barrage":Gb,"gift-barrage":Hb,"peck-barrage":Wb,"prop-barrage":Vb,"motorFishBall-barrage":Ob,"yz-barrage":$b,"weibo-barrage":Kb,"nobleNotify-barrage":Jb,"goldPlay-barrage":Eb},services:[{serviceName:this.normalService,methodName:"init"},{serviceName:this.sysService,methodName:"init"},{serviceName:this.superService,methodName:"init"},{serviceName:this.athenaService,methodName:"init"},{serviceName:this.fishBallService,methodName:"init"},{serviceName:this.rankService,methodName:["initRankUpdate","initRankGap"]},{serviceName:this.levelUpService,methodName:["initUserLevelUp","initFansLevelUp","initAnchorLevelUp","initAnchorLevelDown"]},{serviceName:this.videoService,methodName:"init"},{serviceName:this.guessService,methodName:"init"},{serviceName:this.guessTicketServices,methodName:"init"},{serviceName:this.broadcastService,methodName:"init"},{serviceName:this.firstChargeService,methodName:"init"},{serviceName:this.spreadService,methodName:"init"},{serviceName:this.lotteryService,methodName:"init"},{serviceName:this.drawBarrageService,methodName:"init"},{serviceName:this.userEnterService,methodName:"init"},{serviceName:this.giftBarrageService,methodName:"init"},{serviceName:this.yzServices,methodName:"init"},{serviceName:this.nobleNotifyServices,methodName:"init"},{serviceName:this.motorcadeService,methodName:"init"},{serviceName:this.goldPlayService,methodName:"init"}]}}return BarrageConfig.prototype.export=function _export(){return this.barrageConfig},BarrageConfig}(),Td=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"normalService",[ud],{enumerable:!0,initializer:null}),Bd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"sysService",[pd],{enumerable:!0,initializer:null}),Md=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"superService",[fd],{enumerable:!0,initializer:null}),zd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"athenaService",[md],{enumerable:!0,initializer:null}),Ld=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"fishBallService",[dd],{enumerable:!0,initializer:null}),Fd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"rankService",[bd],{enumerable:!0,initializer:null}),Ad=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"levelUpService",[hd],{enumerable:!0,initializer:null}),Id=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"videoService",[vd],{enumerable:!0,initializer:null}),xd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"guessService",[gd],{enumerable:!0,initializer:null}),Gd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"guessTicketServices",[yd],{enumerable:!0,initializer:null}),Ud=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"broadcastService",[_d],{enumerable:!0,initializer:null}),Hd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"firstChargeService",[Sd],{enumerable:!0,initializer:null}),Wd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"spreadService",[Nd],{enumerable:!0,initializer:null}),Vd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"lotteryService",[Cd],{enumerable:!0,initializer:null}),$d=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"drawBarrageService",[wd],{enumerable:!0,initializer:null}),Kd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"userEnterService",[Od],{enumerable:!0,initializer:null}),Jd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"giftBarrageService",[Ed],{enumerable:!0,initializer:null}),qd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"yzServices",[Dd],{enumerable:!0,initializer:null}),Qd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"nobleNotifyServices",[Pd],{enumerable:!0,initializer:null}),Yd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"motorcadeService",[jd],{enumerable:!0,initializer:null}),Xd=barrageConfig_applyDecoratedDescriptor(Rd.prototype,"goldPlayService",[kd],{enumerable:!0,initializer:null}),Rd),oh=function init(){return(new ah).export()},lh=r("68e87");function barrageInit_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageInit_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sh,ch,uh,ph=Si.a.socketInit,fh=Si.a.socketStream,mh=n.a.Service,dh=(qb=mh(Ps.a),Qb=mh(b.DataCenter.acj),Yb=mh(b.DataCenter.common),Xb=mh(b.DataCenter.global),eh=barrageInit_applyDecoratedDescriptor((Zb=function BarrageInit(e){!function barrageInit_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageInit),barrageInit_initDefineProp(this,"barrageService",eh,this),barrageInit_initDefineProp(this,"acj",th,this),barrageInit_initDefineProp(this,"common",rh,this),barrageInit_initDefineProp(this,"global",ih,this);var t=this.barrageService,r=this.acj,i=this.global,n=this.common,a=e.list;rc({element:a,itemClassName:"Barrage-listItem",currentUserId:i.get("USER_INFO.uid"),barrageLimit:{defaultLimit:t.getState("defaultLimit"),bufferLimit:t.getState("bufferLimit")},callbacks:{render:function render(e){var r=e.hasSelfBarrage,n=e.data;i.set("BARRAGE_CACHE_LENGTH",n.length),r&&t.toggleLockScreen(!1),t.renderedLength(n.length),js.a.set({type:1,data:n})},destroy:function destroy(e){t.toggleLockScreen(!1),js.a.splice({data:e})}}},function BarrageCreatedCallback(){var a=this,o=oh(),l=o.barrage,s=o.services;Object.keys(l).forEach(function(e){a.register(e,l[e])}),n.get("$DATA").subscribe(function(e){var n=e.room||{},o=e.colligate||{};s.forEach(function(e){var t=e.serviceName,i=e.methodName;i instanceof Array?i.forEach(function(e){t[e]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}):"string"===typeof i&&t[i]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}),fh.subscribe("loginres",function(e){var r=e.roomgroup,a=e.pg,o=lh.e;Ts.a.check()&&(o=lh.b,+i.get("USER_INFO.uid")===+n.owner_uid&&(o=lh.a),4===+r&&(o=lh.c),5===+a&&(o=lh.d)),t.updateLimit(o)})}),pc(e),ph()})}).prototype,"barrageService",[qb],{enumerable:!0,initializer:null}),th=barrageInit_applyDecoratedDescriptor(Zb.prototype,"acj",[Qb],{enumerable:!0,initializer:null}),rh=barrageInit_applyDecoratedDescriptor(Zb.prototype,"common",[Yb],{enumerable:!0,initializer:null}),ih=barrageInit_applyDecoratedDescriptor(Zb.prototype,"global",[Xb],{enumerable:!0,initializer:null}),Zb),bh=void 0,hh=function init(e){return bh||(bh=new dh(e)),bh},vh=r("29218"),gh=r.n(vh),yh=r("447d8"),_h=(r("bb7ed"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageCmd/BarrageCmd.js");function BarrageCmd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Sh=(sh=(0,n.a.Service)(Dr.a),ch=function(e){function BarrageCmd(){var t,r;!function BarrageCmd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageCmd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageCmdService",uh,r),BarrageCmd_possibleConstructorReturn(r,t)}return BarrageCmd_inherits(BarrageCmd,e),BarrageCmd.prototype.componentDidMount=function componentDidMount(){this.barrageCmdService.initSocket()},BarrageCmd.prototype.render=function render(){var e=this,t=this.props.barrageCmd;return Ns.a.createElement("div",{className:"BarrageCmd",style:{maxHeight:t.isShow?"300px":"0",color:t.commonColor},__source:{fileName:_h,lineNumber:28},__self:this},Ns.a.createElement("span",{className:"BarrageCmd-btn--close",onClick:function onClick(){e.barrageCmdService.closeCDAndPanel()},__source:{fileName:_h,lineNumber:32},__self:this},"\xd7"),Ns.a.createElement("div",{className:"BarrageCmd-result",dangerouslySetInnerHTML:{__html:t.result},__source:{fileName:_h,lineNumber:35},__self:this}))},BarrageCmd}(Ns.a.Component),uh=function BarrageCmd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ch.prototype,"barrageCmdService",[sh],{enumerable:!0,initializer:null}),ch);Sh.propTypes={barrageCmd:gh.a.object.isRequired};var Nh,Ch,wh,Oh,Eh=Object(yh.connect)(function mapStateToProps(e){return{barrageCmd:e.barrageCmd}})(Sh),Dh=r("3b6ec"),Ph=r.n(Dh),jh=(r("94812"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageTips/BarrageTips.js");function BarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var kh=null,Rh=(Nh=(0,n.a.Service)(vc),Object(ee.log)((wh=function(e){function BarrageTips(){var t,r;!function BarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTips);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageTips_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageTipsService",Oh,r),BarrageTips_possibleConstructorReturn(r,t)}return BarrageTips_inherits(BarrageTips,e),BarrageTips.prototype.hideSysTips=function hideSysTips(){var e=this;kh&&clearTimeout(kh),kh=setTimeout(function(){e.barrageTipsService.hideSysTips()},3e3)},BarrageTips.prototype.render=function render(){var e=this.props,t=e.tipsInfo,r=void 0===t?"":t,i=e.isShow,n=void 0!==i&&i;return r?(this.hideSysTips(),Ph.a.createPortal(Ns.a.createElement("div",{className:"BarrageTips"+(n?" BarrageTips--active":""),__source:{fileName:jh,lineNumber:41},__self:this},Ns.a.createElement("span",{className:"BarrageTips-txt",__source:{fileName:jh,lineNumber:42},__self:this},Ns.a.createElement("span",{className:"BarrageTips-icon",__source:{fileName:jh,lineNumber:43},__self:this}),Ns.a.createElement("span",{__source:{fileName:jh,lineNumber:44},__self:this},r))),document.getElementById("js-player-asideMain"))):null},BarrageTips}(Ns.a.Component),Oh=function BarrageTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(wh.prototype,"barrageTipsService",[Nh],{enumerable:!0,initializer:null}),Ch=wh))||Ch);Rh.propTypes={tipsInfo:gh.a.string.isRequired,isShow:gh.a.bool.isRequired};var Th,Bh,Mh,zh=Object(yh.connect)(function mapStateToProps(e){return{tipsInfo:e.barrageTips.tipsInfo,isShow:e.barrageTips.isShow}})(Rh),Lh=(r("6f7e8"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGee/BarrageGee.js");function BarrageGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fh=(Th=(0,n.a.Service)(Mc),Bh=function(e){function BarrageGee(){!function BarrageGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGee);var t=function BarrageGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageGeeService",Mh,t),t.state={hideGee:!1},t.geeFn=null,t}return BarrageGee_inherits(BarrageGee,e),BarrageGee.prototype.clickClose=function clickClose(){this.barrageGeeService.close()},BarrageGee.prototype.componentDidUpdate=function componentDidUpdate(){this.props.isShow&&this.barrageGeeService.init(this.props.dstUid)},BarrageGee.prototype.render=function render(){return this.props.isShow?Ph.a.createPortal(Ns.a.createElement("div",{className:"BarrageGee",__source:{fileName:Lh,lineNumber:40},__self:this},Ns.a.createElement("div",{className:"BarrageGee-close",onClick:this.clickClose.bind(this),__source:{fileName:Lh,lineNumber:41},__self:this},"\xd7"),Ns.a.createElement("span",{className:"BarrageGee-icon",__source:{fileName:Lh,lineNumber:42},__self:this}),Ns.a.createElement("div",{className:"BarrageGee-header",__source:{fileName:Lh,lineNumber:43},__self:this},"\u8bf7\u901a\u8fc7\u5b89\u5168\u6821\u9a8c"),Ns.a.createElement("div",{className:"BarrageGee-area",__source:{fileName:Lh,lineNumber:44},__self:this}),Ns.a.createElement("div",{className:"BarrageGee-captcha",id:"BarrageGee-captcha",__source:{fileName:Lh,lineNumber:45},__self:this},Ns.a.createElement("div",{className:"captcha-gt",__source:{fileName:Lh,lineNumber:46},__self:this}))),document.body):null},BarrageGee}(Ns.a.Component),Mh=function BarrageGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Bh.prototype,"barrageGeeService",[Th],{enumerable:!0,initializer:null}),Bh);Fh.propTypes={dstUid:gh.a.string.isRequired,isShow:gh.a.bool.isRequired};var Ah=Object(yh.connect)(function mapStateToProps(e){return{dstUid:e.barrageGee.dstUid,isShow:e.barrageGee.isShow}})(Fh),Ih=(r("65e4c"),"startStep$"),xh="rocketSmallUp$",Gh="superRocketSmallUp$",Uh="planeSmallUp$",Hh="superRockerUp$",Wh="rockerUp$",Vh="planeUp$",$h="batchUp$",Kh="nobleOpen$",Jh="banner$",qh="dropDown$",Qh="treasure$",Yh="endStep$";function giftReconcilerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftReconcilerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Xh=function(e){function GiftReconcilerServices(){!function giftReconcilerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftReconcilerServices);var t=function giftReconcilerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[xh]=new mm.Subject,t[Gh]=new mm.Subject,t[Uh]=new mm.Subject,t[Ih]=new mm.Subject,t[$h]=new mm.Subject,t[Vh]=new mm.Subject,t[Wh]=new mm.Subject,t[Hh]=new mm.Subject,t[Kh]=new mm.Subject,t[Jh]=new mm.Subject,t[qh]=new mm.Subject,t[Qh]=new mm.Subject,t[Yh]=new mm.Subject,t}return giftReconcilerServices_inherits(GiftReconcilerServices,e),GiftReconcilerServices.prototype.setStepList=function setStepList(e){this.totalSteps=this.totalSteps||[],this.stepList=[].concat(e),this.stepList.pop(),this.stepList.shift(),this.totalSteps=this.totalSteps.concat(this.stepList)},GiftReconcilerServices.prototype.runNext=function runNext(e){var t=this.totalSteps.shift();"startStep$"!==t&&"endStep$"!==t&&this[t].next(e)},GiftReconcilerServices}(d.Service);function giftViewServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftViewServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Zh,ev,tv,rv,iv,nv=function(e){function GiftViewServices(){!function giftViewServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftViewServices);var t=function giftViewServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[xh]=new mm.Subject,t[Gh]=new mm.Subject,t[Uh]=new mm.Subject,t[Ih]=new mm.Subject,t[$h]=new mm.Subject,t[Vh]=new mm.Subject,t[Wh]=new mm.Subject,t[Hh]=new mm.Subject,t[Kh]=new mm.Subject,t[Jh]=new mm.Subject,t[qh]=new mm.Subject,t[Qh]=new mm.Subject,t[Yh]=new mm.Subject,t}return giftViewServices_inherits(GiftViewServices,e),GiftViewServices}(d.Service),av=r("8a82b"),ov=r("440e6"),lv=r("00d1b"),sv=r("e5eb7");function giftCenterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftCenterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftCenterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftCenterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cv=n.a.Service,uv=(Zh=cv(nv),ev=cv(Fm),tv=function(e){function GiftCenterService(){!function giftCenterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftCenterService);var t=function giftCenterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftCenterServices_initDefineProp(t,"giftViewController",rv,t),giftCenterServices_initDefineProp(t,"barrageBannerServices",iv,t),t.initStartStep(),t.initRocketSmallUp(),t.initSuperRocketSmallUp(),t.initPlaneSmallUp(),t.initPlaneSmallUp(),t.initSuperRockerUp(),t.initRockerUp(),t.initPlaneUp(),t.initBatchUp(),t.initNobleOpen(),t.initBanner(),t.initDropDown(),t.initTreasureBox(),t.initEndStep(),t}return giftCenterServices_inherits(GiftCenterService,e),GiftCenterService.prototype.callbackFromAnimation=function callbackFromAnimation(e,t,r){e[r].pipe(Object(sv.take)(1)).subscribe(function(e){t(e)})},GiftCenterService.prototype.initStartStep=function initStartStep(){this[Ih]=function(e){return Object(s.of)(e)}},GiftCenterService.prototype.initRocketSmallUp=function initRocketSmallUp(){var e=this;this[xh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,xh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initSuperRocketSmallUp=function initSuperRocketSmallUp(){var e=this;this[Gh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,Gh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initPlaneSmallUp=function initPlaneSmallUp(){var e=this;this[Uh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,Uh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initRockerUp=function initRockerUp(){var e=this;this[Wh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Wh),n[Wh].next(t)}))}},GiftCenterService.prototype.initSuperRockerUp=function initSuperRockerUp(){var e=this;this[Hh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Hh),n[Hh].next(t)}))}},GiftCenterService.prototype.initPlaneUp=function initPlaneUp(){var e=this;this[Vh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Vh),n[Vh].next(t)}))}},GiftCenterService.prototype.initBatchUp=function initBatchUp(){var e=this;this[$h]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,$h),n[$h].next(t)}))}},GiftCenterService.prototype.initNobleOpen=function initNobleOpen(){var e=this;this[Kh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Kh),n[Kh].next(t)}))}},GiftCenterService.prototype.initBanner=function initBanner(){var e=this;this[Jh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Jh),e.barrageBannerServices.receiveBannerData({giftData:i,reconcilerService:n,viewService:a}),n.runNext(t)}))}},GiftCenterService.prototype.initDropDown=function initDropDown(){var e=this;this[qh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,qh),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initTreasureBox=function initTreasureBox(){var e=this;this[Qh]=function(t){return Object(av.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Qh),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initEndStep=function initEndStep(){this[Yh]=function(){return Object(s.of)("\u5b8c\u6210")}},GiftCenterService.prototype.mappingStep=function mappingStep(e){var t=this,r=[];e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):r.push(e)});var i=r.map(function(e){var r=t[e];return Object(lv.mergeMap)(r)});return i.push(Object(Ot.catchError)(function(e){return e})),i},GiftCenterService.prototype.runSchedule=function runSchedule(e){var t=this;this.runningSchedule||(this.runningSchedule=!0,ov.queue.schedule(function(r){var i=this;if(0!==r.length){var n=r.shift();t.reconcilerService.setStepList(e),this.runningAnimation=!0,n.subscribe(function(){0!==r.length?i.schedule(r):(t.runningAnimation=!1,t.runningSchedule=!1)})}},0,this.animationQueue$))},GiftCenterService.prototype.ayncAnimationStep=function ayncAnimationStep(e){var t=this;return e.map(function(e){if(Array.isArray(e))return Object(lv.mergeMap)(function(r){var i=[];return e.forEach(function(e){var n=t[e](r);i.push(n)}),l.forkJoin.apply(void 0,i)});var r=t[e];return Object(lv.mergeMap)(r)})},GiftCenterService}(d.Service),rv=giftCenterServices_applyDecoratedDescriptor(tv.prototype,"giftViewController",[Zh],{enumerable:!0,initializer:null}),iv=giftCenterServices_applyDecoratedDescriptor(tv.prototype,"barrageBannerServices",[ev],{enumerable:!0,initializer:null}),tv);function superRockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superRockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pv=function(e){function SuperRockerGiftService(){!function superRockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperRockerGiftService);var t=function superRockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,Gh,Hh,Jh,qh,Qh,Yh],t.animationQueue$=[],t.reconcilerService=new Xh,t.viewService=new nv,t}return superRockerGiftServices_inherits(SuperRockerGiftService,e),SuperRockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},SuperRockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},SuperRockerGiftService}(uv);function rockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fv=function(e){function RockerGiftService(){!function rockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RockerGiftService);var t=function rockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,Wh,Jh,qh,Qh,Yh],t.animationQueue$=[],t.reconcilerService=new Xh,t.viewService=new nv,t}return rockerGiftServices_inherits(RockerGiftService,e),RockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},RockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},RockerGiftService}(uv);function planeGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function planeGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var mv=function(e){function PlaneGiftService(){!function planeGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaneGiftService);var t=function planeGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,Vh,Jh,qh,Qh,Yh],t.animationQueue$=[],t.viewService=new nv,t}return planeGiftServices_inherits(PlaneGiftService,e),PlaneGiftService.prototype.execute=function execute(e){var t,r=new Xh,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},PlaneGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},PlaneGiftService}(uv);function batchGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function batchGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dv=function(e){function BatchGiftService(){!function batchGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchGiftService);var t=function batchGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,$h,Jh,qh,Qh,Yh],t.animationQueue$=[],t.reconcilerService=new Xh,t.viewService=new nv,t}return batchGiftServices_inherits(BatchGiftService,e),BatchGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},BatchGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},BatchGiftService}(uv);function normalGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function normalGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bv,hv,vv,gv,yv,_v,Sv,Nv,Cv,wv,Ov,Ev,Dv,Pv,jv,kv,Rv,Tv,Bv,Mv,zv,Lv,Fv,Av,Iv=function(e){function NormalGiftService(){!function normalGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NormalGiftService);var t=function normalGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,Jh,Yh],t.animationQueue$=[],t.viewService=new nv,t}return normalGiftServices_inherits(NormalGiftService,e),NormalGiftService.prototype.execute=function execute(e){var t,r=new Xh,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},NormalGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},NormalGiftService}(uv);function GiftSendMsgDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function GiftSendMsgDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftSendMsgDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftSendMsgDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function GiftSendMsgDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xv,Gv,Uv,Hv,Wv,Vv,$v,Kv,Jv,qv,Qv,Yv,Xv,Zv,eg,tg,rg,ig,ng,ag,og,lg=b.basicTypes.string,sg=b.basicTypes.number,cg=b.basicTypes.optional,ug=(bv=(0,b.basicTypes.mapping)({senderId:"uid",senderName:"nn",senderAvatar:"ic",giftId:"gfid",hitTimes:"hits",anchorWeight:"dw",senderIcon:"ic",senderLv:"level",giftBoxId:"rpid",pecktype:"rpt",makeFriendUid:"yzxq_dst_uid",makeFriendNick:"yzxq_dst_nn"}),hv=cg(""),vv=cg(""),gv=cg("1"),yv=cg(""),_v=cg(""),Sv=cg(""),Nv=cg(""),Cv=cg(""),wv=cg(""),Object(ee.log)(Ov=bv((Ev=function(e){function GiftMsgDto(){var t,r;!function GiftSendMsgDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftMsgDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftSendMsgDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),GiftSendMsgDto_initDefineProp(r,"senderId",Dv,r),GiftSendMsgDto_initDefineProp(r,"senderName",Pv,r),GiftSendMsgDto_initDefineProp(r,"senderAvatar",jv,r),GiftSendMsgDto_initDefineProp(r,"giftId",kv,r),GiftSendMsgDto_initDefineProp(r,"hitTimes",Rv,r),GiftSendMsgDto_initDefineProp(r,"anchorWeight",Tv,r),GiftSendMsgDto_initDefineProp(r,"senderIcon",Bv,r),GiftSendMsgDto_initDefineProp(r,"senderLv",Mv,r),GiftSendMsgDto_initDefineProp(r,"giftBoxId",zv,r),GiftSendMsgDto_initDefineProp(r,"pecktype",Lv,r),GiftSendMsgDto_initDefineProp(r,"makeFriendUid",Fv,r),GiftSendMsgDto_initDefineProp(r,"makeFriendNick",Av,r),GiftSendMsgDto_possibleConstructorReturn(r,t)}return GiftSendMsgDto_inherits(GiftMsgDto,e),GiftMsgDto}(b.EntityDto),Dv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"senderId",[lg],{enumerable:!0,initializer:null}),Pv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"senderName",[hv,lg],{enumerable:!0,initializer:null}),jv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"senderAvatar",[vv,lg],{enumerable:!0,initializer:null}),kv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"giftId",[sg],{enumerable:!0,initializer:null}),Rv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"hitTimes",[gv,lg],{enumerable:!0,initializer:null}),Tv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"anchorWeight",[lg],{enumerable:!0,initializer:null}),Bv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"senderIcon",[yv,lg],{enumerable:!0,initializer:null}),Mv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"senderLv",[_v,lg],{enumerable:!0,initializer:null}),zv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"giftBoxId",[Sv,lg],{enumerable:!0,initializer:null}),Lv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"pecktype",[Nv,lg],{enumerable:!0,initializer:null}),Fv=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"makeFriendUid",[Cv,lg],{enumerable:!0,initializer:null}),Av=GiftSendMsgDto_applyDecoratedDescriptor(Ev.prototype,"makeFriendNick",[wv,lg],{enumerable:!0,initializer:null}),Ov=Ev))||Ov)||Ov),pg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function giftEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fg,mg,dg,bg=n.a.Store,hg=n.a.Service,vg=Si.a.socketStream,gg=o.a.decode,yg=(xv=bg(),Gv=hg(b.DataCenter.global),Uv=hg(b.DataCenter.common),Hv=hg(pv),Wv=hg(fv),Vv=hg(mv),$v=hg(dv),Kv=hg(Iv),Jv=hg(hu),qv=hg(dm.a),Qv=function(e){function giftEffectServices(){!function giftEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,giftEffectServices);var t=function giftEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftEffectServices_initDefineProp(t,"store",Yv,t),giftEffectServices_initDefineProp(t,"global",Xv,t),giftEffectServices_initDefineProp(t,"common",Zv,t),giftEffectServices_initDefineProp(t,"superRockerGiftService",eg,t),giftEffectServices_initDefineProp(t,"rockerGiftService",tg,t),giftEffectServices_initDefineProp(t,"planeGiftServices",rg,t),giftEffectServices_initDefineProp(t,"batchGiftServices",ig,t),giftEffectServices_initDefineProp(t,"normalGiftServices",ng,t),giftEffectServices_initDefineProp(t,"shieldToolServices",ag,t),giftEffectServices_initDefineProp(t,"giftSendServices",og,t),t.config={allGiftConfMap:null,allPropConfMap:null,batchConf:null},t.giftList=[],t}return giftEffectServices_inherits(giftEffectServices,e),giftEffectServices.prototype.bindingSuperRocketSmallStateChange=function bindingSuperRocketSmallStateChange(e){this.superRockerGiftService.viewService[Gh].subscribe(function(t){e(t)})},giftEffectServices.prototype.bindingSuperRocketStateChange=function bindingSuperRocketStateChange(e){this.superRockerGiftService.viewService[Hh].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextSuperRocketAnimation=function runNextSuperRocketAnimation(e){this.superRockerGiftService.runNext(e)},giftEffectServices.prototype.bindingRockerStateChange=function bindingRockerStateChange(e){this.rockerGiftService.viewService[Wh].subscribe(function(t){return e(t)})},giftEffectServices.prototype.runNextRockerAnimation=function runNextRockerAnimation(e){this.rockerGiftService.runNext(e)},giftEffectServices.prototype.bindingPlaneStateChange=function bindingPlaneStateChange(e){this.planeGiftServices.viewService[Vh].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextPlaneAnimation=function runNextPlaneAnimation(e){this.planeGiftServices.runNext(e)},giftEffectServices.prototype.bindingBatchStateChange=function bindingBatchStateChange(e){this.batchGiftServices.viewService[$h].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextBatchAnimation=function runNextBatchAnimation(e){this.batchGiftServices.runNext(e)},giftEffectServices.prototype.giftEffectInit=function giftEffectInit(){this.giftMsgListen()},giftEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},giftEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},giftEffectServices.prototype.listenHistoryGiftMsg=function listenHistoryGiftMsg(){var e=this;vg.subscribe("aghl",function(t){var r=t.glist;(void 0===r?[]:r).forEach(function(t){var r=gg(t),i={isEnterRoom:!0,bannerType:"BANNER_4_GIFT",objectId:r.gid,senderId:r.sid,senderName:r.snk,hitTimes:parseInt(r.hs,10)||0,batchCount:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst};e.checkShieldIsStopEffect(r)||e.fetchGiftData(i)})})},giftEffectServices.prototype.listenGiftMsg=function listenGiftMsg(){var e=this,t=+this.global.get("USER_INFO.uid");this.common.get("$DATA").subscribe(function(r){var i=+r.get("room.owner_uid"),n=t>0&&t===i?"bgd":"dgb";vg.subscribe(n,function(t){var r={isEnterRoom:!1,bannerType:"BANNER_4_GIFT",objectId:t.gfid,senderId:t.uid,senderName:t.nn,hitTimes:parseInt(t.hits,10)||0,batchCount:parseInt(t.bcnt,10)||0};e.checkShieldIsStopEffect(t)||e.fetchGiftData(r)})})},giftEffectServices.prototype.fetchGiftData=function fetchGiftData(e){var t=this,r=this.config||{},i=r.allGiftConfMap,n=r.allPropConfMap,a=r.batchConf;(i||n)&&a?this.handleGift({giftBaseInfo:e,allGiftConfMap:i,allPropConfMap:n,batchConf:a}):Object(l.forkJoin)(this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getAllPropsConfig(),this.giftSendServices.getBatchGiftConfig()).subscribe(function(i){var n=i[0],a=void 0===n?{}:n,o=i[1],l=void 0===o?{}:o,s=i[2],c=void 0===s?{}:s,u=a.data||[];r.allGiftConfMap={},u.forEach(function(e){r.allGiftConfMap[e.id]=e}),r.allPropConfMap=l.data||{},r.batchConf=c,t.handleGift({giftBaseInfo:e,allGiftConfMap:r.allGiftConfMap,allPropConfMap:r.allPropConfMap,batchConf:r.batchConf})})},giftEffectServices.prototype.log=function log(){console&&console.log(arguments)},giftEffectServices.prototype.handleGift=function handleGift(e){var t=e.giftBaseInfo,r=e.allGiftConfMap,i=e.allPropConfMap,n=e.batchConf,a=pg({},t),o=r[t.objectId],l=n;o?(a.giftType="gift",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u8d60\u9001...")):(o=i[t.objectId])&&(a.giftType="prop",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u9053\u5177\u8d60\u9001...")),o?(this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e"),this.processGift({giftBaseInfo:a,giftConfInfo:o,giftBatchInfo:l})):this.handleSingleGift({giftBaseInfo:a,giftBatchInfo:l})},giftEffectServices.prototype.handleSingleGift=function handleSingleGift(e){var t=this,r=e.giftBaseInfo,i=e.giftBatchInfo;console.warn("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e\u9700\u5355\u72ec\u5f02\u6b65\u5904\u7406\u6b64\u793c\u7269/\u9053\u5177"),this.giftSendServices.getSingleGiftConfig(r.objectId).subscribe(function(e){t.processGift({giftBaseInfo:r,giftConfInfo:e,giftBatchInfo:i})})},giftEffectServices.prototype.processGift=function processGift(e){var t=e.giftBaseInfo,r=e.giftConfInfo,i=e.giftBatchInfo;this.log("[\u793c\u7269\u7cfb\u7edf]: \u6b64\u793c\u7269\u4e3a",1===r.type?"\u9c7c\u4e38\u793c\u7269":"\u9c7c\u7fc5\u793c\u7269"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5355\u793c\u7269/\u9053\u5177\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5f00\u59cb\u8fdb\u5165\u52a8\u753b\u8fc7\u7a0b"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u57fa\u7840\u4fe1\u606f",t),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u914d\u7f6e\u4fe1\u606f",r),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u6279\u91cf\u4fe1\u606f",i)},giftEffectServices.prototype.listenHandler=function listenHandler(e){var t=this,r=e;if(this.checkShieldIsStopEffect(r))return!1;r.gfid=parseInt(r.gfid,10);var i=ug.fromJSON(r);return Object(l.forkJoin)(Object(s.of)(i),this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getBatchGiftConfig(),this.giftSendServices.getAllPropsConfig()).subscribe(function(r){var i=r[0],n=r[1]?r[1].data:[],a=r[2]||{},o=r[3]?r[3].data:{},l=a.batch_conf||{},s=a.bimg||{},c={},u=n.map(function(e){var t=Object.assign({},e),r=l[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t});Object.keys(o).forEach(function(e){var t=o[e]||{},r=Object.assign({},t),i=l[e];if(i){var n=i.list;r.isBatch=1,r.cultureContent=i.culture_content,r.descA=i.desc_content_1,r.descB=i.desc_content_2,r.batchNumArr=[],r.batchData={},n.forEach(function(e){r.batchNumArr.push(e.num),r.batchData[e.num]=e})}c[e]=r});var p={};u&&u.length>0&&u.forEach(function(e){p[e.id]=e});var f=(u=pg({},c,p))[i.giftId];if(f){var m=Object.assign({},pg({bannerType:"BANNER_4_GIFT"},f,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:f,sttData:i,data:e,batchBannerConf:s}));switch(parseInt(f.ef,10)){case 0:m.data.gfcnt>1?t.batchGiftServices.execute(m):t.normalGiftServices.execute(m);break;case 101:case 1:case 2:t.batchGiftServices.execute(m);break;default:t.normalGiftServices.execute(m)}}}),!1},giftEffectServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},giftEffectServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(b.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},giftEffectServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(fm.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},giftEffectServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},giftEffectServices.prototype.giftMsgListen=function giftMsgListen(){var e=this,t=+this.global.get("USER_INFO.uid"),r=new mm.Subject;r.subscribe(function(t){return e.listenHandler(t)}),this.common.get("$DATA").subscribe(function(i){var n=+i.get("room.owner_uid"),a=t>0&&t===n?"bgd":"dgb";vg.subscribe(a,function(t){Object.assign(t,{anchorId:n}),e.isNeedBarrageAbandon(t)?0===e.giftList.length?(e.pressInGiftList(t),e.giftAsync(r)):e.pressInGiftList(t):e.listenHandler(t)}),vg.subscribe("aghl",function(t){var r=t.glist,i=void 0===r?[]:r;return Object(l.forkJoin)(Object(s.of)(i),e.giftSendServices.getAllGiftConfig(),e.giftSendServices.getBatchGiftConfig(),e.giftSendServices.getAllPropsConfig()).subscribe(function(t){var r=t[0],i=t[1]?t[1].data:[],a=t[2]||{},o=t[3]?t[3].data:{},l=a.batch_conf||{},s=a.bimg||{},c=i.map(function(e){var t=Object.assign({},e),r=l[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t}),u={};c&&c.length>0&&c.forEach(function(e){u[e.id]=e}),c=pg({},o,u),r.forEach(function(t){var r=gg(t),i={bannerType:"BANNER_4_GIFT",componentKey:"giftEffect-"+(new Date).getTime(),giftId:r.gid,senderId:r.sid,senderName:r.snk,bannerStyle:r.gs,hitTimes:r.hs||1,bcnt:r.hs||1,gfcnt:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst,bst:r.bst,makeFriendUid:+r.su||"",makeFriendNick:r.sn||"",anchorId:n};if(!e.checkShieldIsStopEffect(i)){var a=c[i.giftId];if(a){var o=Object.assign({},pg({},a,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:a,sttData:i,data:i,batchBannerConf:s}));e.normalGiftServices.execute(o)}}})}),!1})})},giftEffectServices.prototype.giftSendCallback=function giftSendCallback(){var e=this;this.giftSendServices.giftSendCallbackFlow.subscribe(function(t){if(t){var r=t.messages,i=(void 0===r?[]:r).filter(function(e){return"dgb"===(e?gg(e):{}).type});i[0]&&e.listenHandler(gg(i[0]))}})},giftEffectServices}(d.Service),Yv=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"store",[xv],{enumerable:!0,initializer:null}),Xv=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"global",[Gv],{enumerable:!0,initializer:null}),Zv=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"common",[Uv],{enumerable:!0,initializer:null}),eg=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"superRockerGiftService",[Hv],{enumerable:!0,initializer:null}),tg=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"rockerGiftService",[Wv],{enumerable:!0,initializer:null}),rg=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"planeGiftServices",[Vv],{enumerable:!0,initializer:null}),ig=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"batchGiftServices",[$v],{enumerable:!0,initializer:null}),ng=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"normalGiftServices",[Kv],{enumerable:!0,initializer:null}),ag=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"shieldToolServices",[Jv],{enumerable:!0,initializer:null}),og=giftEffectServices_applyDecoratedDescriptor(Qv.prototype,"giftSendServices",[qv],{enumerable:!0,initializer:null}),Qv),_g=r("29c1c"),Sg=r.n(_g);function svgaEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function svgaEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}b.DataCenter.global;var Ng=new(fg=(0,n.a.Service)(Ps.a),mg=function(e){function SvgaEffectServices(){!function svgaEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SvgaEffectServices);var t=function svgaEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function svgaEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageService",dg,t),t.effectQueue={array:[],isComplete:!0,flag:!0,parentDom:document.querySelector(".GiftEffect-svga"),documentHidden:!1},t.listen(),t}return svgaEffectServices_inherits(SvgaEffectServices,e),SvgaEffectServices.prototype.init=function init(){var e=this.effectQueue,t=this.checkSupportSvga();window.loader.loadFile("//sta-op.douyucdn.cn/front-publish/sdk-file-master/js/svga_5a7bd4a.js",function(){var t=svgaLib.default;e.svga=new t,e.parentDom=document.querySelector(".GiftEffect-svga"),e.svga.initDom(e.parentDom)}),e.flag=t},SvgaEffectServices.prototype.listen=function listen(){var e=this.effectQueue;Sg.a.subscribe(function(t){e.documentHidden=t.hidden})},SvgaEffectServices.prototype.startQueue=function startQueue(e){var t=this.effectQueue;if(0===t.array.length)return t.isComplete=!0,void(e&&e());if(t.isComplete){var r=t.array[0];t.isComplete=!1,this.playSvga(r,e)}},SvgaEffectServices.prototype.playSvga=function playSvga(e,t){var r=this,i=this.effectQueue;i.svga.addSVGA(e,1,function(){if(i.svga.disposeSvga(),i.array.shift(),0!==i.array.length){var e=i.array[0];r.playSvga(e)}else i.isComplete=!0,i.svga.disposeSvga();t&&t()},function(){})},SvgaEffectServices.prototype.pushQueue=function pushQueue(e,t){var r=this.effectQueue;r.parentDom||this.init(),r.flag?r.documentHidden?r.documentHidden&&t&&t():(r.array.push(e),this.startQueue(t)):(this.barrageService.receiveSysTipsMsg({resMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u89c2\u770b\u793c\u7269\u52a8\u6548"}),t&&t())},SvgaEffectServices.prototype.checkSupportSvga=function checkSupportSvga(){var e=!1;try{e=0===(new ArrayBuffer).byteLength}catch(e){console.log("\u6d4f\u89c8\u5668\u7248\u672c\u4e0d\u652f\u6301SVGA")}return e},SvgaEffectServices}(d.Service),dg=function svgaEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(mg.prototype,"barrageService",[fg],{enumerable:!0,initializer:null}),mg);Ng.init();var Cg,wg,Og,Eg=Ng;function Batch_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Batch_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Batch_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Dg,Pg,jg,kg=(Cg=(0,n.a.Service)(yg),wg=function(e){function Batch(){var t,r;!function Batch_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Batch);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=Batch_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function Batch_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",Og,r),Batch_possibleConstructorReturn(r,t)}return Batch_inherits(Batch,e),Batch.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.giftEffect,r=e.clearGiftData,i=t.giftData,n=this.getSvgaUrl(i);if(n)Eg.pushQueue(n,function(){r()});else{var a=i.effectIcon;a?(a=a.replace(/https?:/,""),Eg.pushQueue(a,function(){r()})):r()}this.clearAnimate(t)},Batch.prototype.clearAnimate=function clearAnimate(e){this.giftEffectServices.runNextBatchAnimation(e)},Batch.prototype.getSvgaUrl=function getSvgaUrl(e){for(var t=e.batchNumArr,r=void 0===t?[]:t,i=e.batchData,n=void 0===i?{}:i,a=e.data,o=(void 0===a?{}:a).gfcnt||1,l="",s=0;s<r.length;s++)parseInt(o,10)>=parseInt(r[s],10)&&(l=r[s]);var c=n[l]?n[l].barrage_effect:"";return c=c.replace(/https?:/,"")},Batch.prototype.render=function render(){return this.props.giftEffect.giftData?Ns.a.createElement("div",{className:"GiftEffect-empty",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/Batch.js",lineNumber:70},__self:this}):null},Batch}(Ns.a.Component),Og=function Batch_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(wg.prototype,"giftEffectServices",[Cg],{enumerable:!0,initializer:null}),wg),Rg="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/BatchContainer.js";function BatchContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BatchContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Tg,Bg,Mg,zg,Lg,Fg,Ag,Ig,xg,Gg,Ug,Hg,Wg=(Dg=(0,n.a.Service)(yg),Pg=function(e){function BatchContainer(t){!function BatchContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchContainer);var r=function BatchContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BatchContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",jg,r),r.state={giftData:[]},r}return BatchContainer_inherits(BatchContainer,e),BatchContainer.prototype.componentDidMount=function componentDidMount(){this.giftEffectServices.bindingBatchStateChange(this.changeData.bind(this))},BatchContainer.prototype.changeData=function changeData(e){var t=this.state.giftData||[];t.push(e),this.setState({giftData:t})},BatchContainer.prototype.clearGiftData=function clearGiftData(){var e=this.state.giftData||[];e.shift(),this.setState({giftData:e})},BatchContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=Ns.a.createElement(kg,{key:r.giftData.giftEHash,giftEffect:r,clearGiftData:this.clearGiftData.bind(this),__source:{fileName:Rg,lineNumber:46},__self:this})}return t},BatchContainer.prototype.render=function render(){var e=this.state.giftData,t=this.getEffectDom(e);return Ns.a.createElement("div",{className:"GiftEffect-batch"+(e.length>0?" is-active":""),__source:{fileName:Rg,lineNumber:61},__self:this},Ns.a.createElement("div",{className:"GiftEffect-svga",__source:{fileName:Rg,lineNumber:62},__self:this}),t)},BatchContainer}(Ns.a.Component),jg=function BatchContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Pg.prototype,"giftEffectServices",[Dg],{enumerable:!0,initializer:null}),Pg);function NobleOpenEffectDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleOpenEffectDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffectDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleOpenEffectDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Vg,$g,Kg,Jg,qg,Qg,Yg,Xg,Zg,ey,ty,ry,iy,ny,ay=b.basicTypes.string,oy=b.basicTypes.mapping,ly=b.basicTypes.number,sy=oy({roomId:"rid",gid:"gid",bt:"bt",userId:"uid",hrp:"hrp",userNick:"unk",openRoomId:"drid",nobleLevel:"nl",ts:"ts",userAvatar:"uic"})((Bg=function(e){function NobleOpenEffectDto(){var t,r;!function NobleOpenEffectDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffectDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleOpenEffectDto_initDefineProp(r,"roomId",Mg,r),NobleOpenEffectDto_initDefineProp(r,"gid",zg,r),NobleOpenEffectDto_initDefineProp(r,"bt",Lg,r),NobleOpenEffectDto_initDefineProp(r,"userId",Fg,r),NobleOpenEffectDto_initDefineProp(r,"hrp",Ag,r),NobleOpenEffectDto_initDefineProp(r,"userNick",Ig,r),NobleOpenEffectDto_initDefineProp(r,"openRoomId",xg,r),NobleOpenEffectDto_initDefineProp(r,"nobleLevel",Gg,r),NobleOpenEffectDto_initDefineProp(r,"ts",Ug,r),NobleOpenEffectDto_initDefineProp(r,"userAvatar",Hg,r),NobleOpenEffectDto_possibleConstructorReturn(r,t)}return NobleOpenEffectDto_inherits(NobleOpenEffectDto,e),NobleOpenEffectDto}(b.EntityDto),Mg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"roomId",[ay],{enumerable:!0,initializer:null}),zg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"gid",[ay],{enumerable:!0,initializer:null}),Lg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"bt",[ay],{enumerable:!0,initializer:null}),Fg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"userId",[ay],{enumerable:!0,initializer:null}),Ag=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"hrp",[ay],{enumerable:!0,initializer:null}),Ig=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"userNick",[ay],{enumerable:!0,initializer:null}),xg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"openRoomId",[ay],{enumerable:!0,initializer:null}),Gg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"nobleLevel",[ly],{enumerable:!0,initializer:null}),Ug=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"ts",[ay],{enumerable:!0,initializer:null}),Hg=NobleOpenEffectDto_applyDecoratedDescriptor(Bg.prototype,"userAvatar",[ay],{enumerable:!0,initializer:null}),Tg=Bg))||Tg;function NobleEffectConfigDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleEffectConfigDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleEffectConfigDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleEffectConfigDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleEffectConfigDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cy=b.basicTypes.string,uy=b.basicTypes.number,py=b.basicTypes.optional,fy=(Vg=(0,b.basicTypes.mapping)({nobleEffectSwitch:"is_special",bannerStayTime:"stay_milli_sec",bannerBgImg:"pc_bg",bannerHeaderImg:"pc_pic",nobleOpenSwf:"spl_pc_flash",nobleOpenBg:"spl_pc_bg",bannerSenderNameColor:"text_color1",bannerObjectNameColor:"text_color2",contribution:"display_rank"}),$g=py(""),Kg=py(""),Object(ee.log)(Jg=Vg((qg=function(e){function NobleEffectConfigDto(){var t,r;!function NobleEffectConfigDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleEffectConfigDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleEffectConfigDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleEffectConfigDto_initDefineProp(r,"nobleEffectSwitch",Qg,r),NobleEffectConfigDto_initDefineProp(r,"bannerStayTime",Yg,r),NobleEffectConfigDto_initDefineProp(r,"bannerBgImg",Xg,r),NobleEffectConfigDto_initDefineProp(r,"bannerHeaderImg",Zg,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenSwf",ey,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenBg",ty,r),NobleEffectConfigDto_initDefineProp(r,"bannerSenderNameColor",ry,r),NobleEffectConfigDto_initDefineProp(r,"bannerObjectNameColor",iy,r),NobleEffectConfigDto_initDefineProp(r,"contribution",ny,r),NobleEffectConfigDto_possibleConstructorReturn(r,t)}return NobleEffectConfigDto_inherits(NobleEffectConfigDto,e),NobleEffectConfigDto}(b.EntityDto),Qg=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"nobleEffectSwitch",[uy],{enumerable:!0,initializer:null}),Yg=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"bannerStayTime",[uy],{enumerable:!0,initializer:null}),Xg=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"bannerBgImg",[cy],{enumerable:!0,initializer:null}),Zg=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"bannerHeaderImg",[cy],{enumerable:!0,initializer:null}),ey=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"nobleOpenSwf",[$g,cy],{enumerable:!0,initializer:null}),ty=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"nobleOpenBg",[Kg,cy],{enumerable:!0,initializer:null}),ry=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"bannerSenderNameColor",[cy],{enumerable:!0,initializer:null}),iy=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"bannerObjectNameColor",[cy],{enumerable:!0,initializer:null}),ny=NobleEffectConfigDto_applyDecoratedDescriptor(qg.prototype,"contribution",[uy],{enumerable:!0,initializer:null}),Jg=qg))||Jg)||Jg);function nobleOpenServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var my,dy,by,hy,vy,gy,yy,_y,Sy,Ny,Cy,wy=function(e){function NobleOpenServices(){!function nobleOpenServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenServices);var t=function nobleOpenServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Ih,Kh,Jh,Yh],t.animationQueue$=[],t.reconcilerService=new Xh,t.viewService=new nv,t}return nobleOpenServices_inherits(NobleOpenServices,e),NobleOpenServices.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},NobleOpenServices.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},NobleOpenServices}(uv);function nobleOpenEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleOpenEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleOpenEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleOpenEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Oy,Ey,Dy,Py=n.a.Service,jy=n.a.Store,ky=Si.a.socketStream,Ry=(my=jy(),dy=Py(wy),by=Py(hu),hy=Py(b.DataCenter.global),vy=Py(b.DataCenter.common),gy=function(e){function NobleOpenEffectServices(){var t,r;!function nobleOpenEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleOpenEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleOpenEffectServices_initDefineProp(r,"store",yy,r),nobleOpenEffectServices_initDefineProp(r,"nobleOpenServices",_y,r),nobleOpenEffectServices_initDefineProp(r,"shieldToolServices",Sy,r),nobleOpenEffectServices_initDefineProp(r,"global",Ny,r),nobleOpenEffectServices_initDefineProp(r,"common",Cy,r),r.config={effectStayTimes:{1:4e3,2:4e3,3:5e3,4:6e3,5:8e3,6:1e4,7:4e3}},nobleOpenEffectServices_possibleConstructorReturn(r,t)}return nobleOpenEffectServices_inherits(NobleOpenEffectServices,e),NobleOpenEffectServices.prototype.bindingNobleOpenEffectStateChange=function bindingNobleOpenEffectStateChange(e){this.nobleOpenServices.viewService[Kh].subscribe(function(t){e(t)})},NobleOpenEffectServices.prototype.runNextNobleOpenEffectAnimation=function runNextNobleOpenEffectAnimation(e){this.nobleOpenServices.runNext(e)},NobleOpenEffectServices.prototype.nobleEffectInit=function nobleEffectInit(){this.roomId=+this.global.get("$ROOM.room_id"),this.nobleEffectListen()},NobleOpenEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},NobleOpenEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},NobleOpenEffectServices.prototype.nobleEffectListen=function nobleEffectListen(){var e=this;ky.subscribe("anbc",function(t){var r=t;if(+r.drid!==e.roomId)return!1;if(e.checkShieldIsStopEffect(r))return!1;r.nl=parseInt(r.nl,10);var i=sy.fromJSON(r);return e.common.get("$DATA").subscribe(function(t){var r=t.get("room.nobleConfig");Object(l.forkJoin)(Object(s.of)(i),b.jsonpClient.get(Object(b.Dictionary)(fy),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(t){var i=t[0],n=i.nobleLevel,a=(t[1].data||{})[n];if(a){var o={isEnterRoom:!1,bannerType:"BANNER_4_NOBLE",objectId:n,senderId:i.userId||"",senderName:i.userNick,bannerStayTime:a.bannerStayTime,objectName:r[n].noble_name,bannerBgImg:a.bannerBgImg,bannerHeaderImg:a.bannerHeaderImg,bannerSenderNameColor:a.bannerSenderNameColor,bannerObjectNameColor:a.bannerObjectNameColor,contribution:a.contribution||0,senderAvatar:"//apic.douyucdn.cn/upload/"+i.userAvatar+"_middle.jpg",effectStayTime:e.config.effectStayTimes[n],effectBg:a.nobleOpenBg,effectSwf:a.nobleOpenSwf,nobleEffectSwitch:a.nobleEffectSwitch,effectHash:"openNobleEffect-"+(new Date).getTime(),effectState:1};e.nobleOpenServices.execute(o)}})}),!1}),ky.subscribe("memberinfores",function(t){e.common.get("$DATA").subscribe(function(r){var i=r.get("room.nobleConfig");(t.nblist||[]).forEach(function(t){var r=t.nl;r&&Object(l.forkJoin)(Object(s.of)(i),b.jsonpClient.get(Object(b.Dictionary)(fy),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(n){var a=n[1][r],o=i[r];a&&o&&e.nobleOpenServices.execute({isEnterRoom:!0,bannerType:"BANNER_4_NOBLE",objectId:r,senderId:t.uid||"",senderName:t.unk,bannerStayTime:1e3*t.ltc||0,objectName:o.noble_name,bannerBgImg:a.pc_bg,bannerHeaderImg:a.pc_pic,bannerSenderNameColor:a.text_color1,bannerObjectNameColor:a.text_color2,contribution:a.display_rank||0,nobleEffectSwitch:0,effectHash:"openNobleEffect-"+(new Date).getTime()})})})})})},NobleOpenEffectServices.prototype.returnGlobalData=function returnGlobalData(){return this.global},NobleOpenEffectServices}(d.Service),yy=nobleOpenEffectServices_applyDecoratedDescriptor(gy.prototype,"store",[my],{enumerable:!0,initializer:null}),_y=nobleOpenEffectServices_applyDecoratedDescriptor(gy.prototype,"nobleOpenServices",[dy],{enumerable:!0,initializer:null}),Sy=nobleOpenEffectServices_applyDecoratedDescriptor(gy.prototype,"shieldToolServices",[by],{enumerable:!0,initializer:null}),Ny=nobleOpenEffectServices_applyDecoratedDescriptor(gy.prototype,"global",[hy],{enumerable:!0,initializer:null}),Cy=nobleOpenEffectServices_applyDecoratedDescriptor(gy.prototype,"common",[vy],{enumerable:!0,initializer:null}),gy),Ty="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffect.js";function NobleOpenEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var By,My,zy,Ly=(Oy=(0,n.a.Service)(Ry),Ey=function(e){function NobleOpenEffect(){var t,r;!function NobleOpenEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleOpenEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",Dy,r),r.giftEffectTimer=null,NobleOpenEffect_possibleConstructorReturn(r,t)}return NobleOpenEffect_inherits(NobleOpenEffect,e),NobleOpenEffect.prototype.componentDidMount=function componentDidMount(){},NobleOpenEffect.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.giftEffectTimer)},NobleOpenEffect.prototype.componentClear=function componentClear(e,t,r){var i=this;clearTimeout(this.giftEffectTimer),this.giftEffectTimer=setTimeout(function(){t(),i.nobleOpenEffectServices.runNextNobleOpenEffectAnimation(e)},r)},NobleOpenEffect.prototype.render=function render(){var e=this.props,t=e.giftEffect,r=e.clearEffectData,i=t.giftData;return i?1!==+i.nobleEffectSwitch||i.isEnterRoom?(this.componentClear(t,r,0),null):(i.effectState&&this.componentClear(t,r,i.effectStayTime),Ns.a.createElement("div",{className:"NobleOpenEffect",__source:{fileName:Ty,lineNumber:46},__self:this},Ns.a.createElement("div",{className:"NobleOpenEffect-flashWrap",__source:{fileName:Ty,lineNumber:47},__self:this},Ns.a.createElement("embed",{wmode:"transparent",width:"100%",height:"100%",src:i.effectSwf,__source:{fileName:Ty,lineNumber:48},__self:this})),Ns.a.createElement("div",{className:"NobleOpenEffect-content",__source:{fileName:Ty,lineNumber:54},__self:this},Ns.a.createElement("div",{className:"NobleOpenEffect-avatar",__source:{fileName:Ty,lineNumber:55},__self:this},Ns.a.createElement("img",{src:i.senderAvatar,className:"NobleOpenEffect-avatarImg",__source:{fileName:Ty,lineNumber:56},__self:this})),Ns.a.createElement("img",{src:i.effectBg,className:"NobleOpenEffect-avatarBg",__source:{fileName:Ty,lineNumber:58},__self:this}),Ns.a.createElement("div",{className:"NobleOpenEffect-names",__source:{fileName:Ty,lineNumber:59},__self:this},Ns.a.createElement("span",{className:"NobleOpenEffect-userName",title:i.senderName,__source:{fileName:Ty,lineNumber:60},__self:this},i.senderName),Ns.a.createElement("span",{className:"NobleOpenEffect-nobleName",__source:{fileName:Ty,lineNumber:63},__self:this},"\u5f00\u901a",i.objectName))))):null},NobleOpenEffect}(Ns.a.Component),Dy=function NobleOpenEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ey.prototype,"nobleOpenEffectServices",[Oy],{enumerable:!0,initializer:null}),Ey);r("20c84");function NobleOpenEffectContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fy,Ay,Iy,xy=(By=(0,n.a.Service)(Ry),My=function(e){function NobleOpenEffectContainer(t){!function NobleOpenEffectContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectContainer);var r=function NobleOpenEffectContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function NobleOpenEffectContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",zy,r),r.state={effectData:[]},r}return NobleOpenEffectContainer_inherits(NobleOpenEffectContainer,e),NobleOpenEffectContainer.prototype.componentDidMount=function componentDidMount(){this.nobleOpenEffectServices.nobleEffectInit(),this.nobleOpenEffectServices.bindingNobleOpenEffectStateChange(this.changeData.bind(this))},NobleOpenEffectContainer.prototype.changeData=function changeData(e){var t=this.state.effectData||[];t.push(e),this.setState({effectData:t})},NobleOpenEffectContainer.prototype.clearEffectData=function clearEffectData(){var e=this.state.effectData||[];e.shift(),this.setState({effectData:e})},NobleOpenEffectContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=Ns.a.createElement(Ly,{key:r.giftData.effectHash,clearEffectData:this.clearEffectData.bind(this),giftEffect:r,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffectContainer.js",lineNumber:47},__self:this})}return t},NobleOpenEffectContainer.prototype.render=function render(){var e=this.state.effectData;return this.getEffectDom(e)},NobleOpenEffectContainer}(Ns.a.Component),zy=function NobleOpenEffectContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(My.prototype,"nobleOpenEffectServices",[By],{enumerable:!0,initializer:null}),My),Gy="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/GiftEffect.js";function GiftEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Uy,Hy,Wy,Vy,$y,Ky,Jy,qy=(Fy=(0,n.a.Service)(yg),Ay=function(e){function GiftEffectContainer(){var t,r;!function GiftEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftEffectContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function GiftEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatGiftService",Iy,r),GiftEffect_possibleConstructorReturn(r,t)}return GiftEffect_inherits(GiftEffectContainer,e),GiftEffectContainer.prototype.componentDidMount=function componentDidMount(){this.chatGiftService.giftEffectInit()},GiftEffectContainer.prototype.render=function render(){return Ns.a.createElement("div",{className:"GiftEffect-box",__source:{fileName:Gy,lineNumber:19},__self:this},Ns.a.createElement(Wg,{__source:{fileName:Gy,lineNumber:20},__self:this}),Ns.a.createElement(xy,{__source:{fileName:Gy,lineNumber:21},__self:this}))},GiftEffectContainer}(Ns.a.Component),Iy=function GiftEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ay.prototype,"chatGiftService",[Fy],{enumerable:!0,initializer:null}),Ay),Qy=r("e92f2"),Yy=r.n(Qy),Xy=r("770d6"),Zy=r("9f176"),e_=r.n(Zy),t_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatAd/index.js";function RoomChatAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var r_,i_,n_,a_,o_,l_,s_,c_,u_,p_,f_,m_=n.a.Service,d_=(Uy=m_(e_.a),Hy=m_(b.DataCenter.common),Jy=Ky=function(e){function RoomChatAd(){var t,r;!function RoomChatAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChatAd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatAd_initDefineProp(r,"signRateServices",Vy,r),RoomChatAd_initDefineProp(r,"common",$y,r),r.handleClsClick=function(){clearTimeout(r.timer),r.setState({visible:!0})},RoomChatAd_possibleConstructorReturn(r,t)}return RoomChatAd_inherits(RoomChatAd,e),RoomChatAd.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.state.adData.showtime,r=1e3*(parseInt(t,10)||0);this.setState({flag:!1,signRate:!1}),r&&(this.timer=setTimeout(function(){e.setState({visible:!0})},r)),this.signRateServices.jsonpSignRateRule()},RoomChatAd.prototype.render=function render(){var e=this.state,t=e.link,r=e.src,i=e.visible,n=e.exConfig,a=void 0===n?{}:n,o=e.signRate,l=this.props.data.style,s=void 0===l?{}:l;return!i&&o?Ns.a.createElement("div",{className:"SignBaseComponent-sign-box RoomChat Barrage-chat-ad",style:s,__source:{fileName:t_,lineNumber:60},__self:this},Ns.a.createElement(Xy.SignTemplate,{src:r,link:t,EC:a,handleShowSign:this.handleShowSign,handleClickSign:this.handleClickSign,__source:{fileName:t_,lineNumber:61},__self:this}),Ns.a.createElement("a",{className:"SignChatAd-chat-ad-cls",onClick:this.handleClsClick,title:"\u5173\u95ed",__source:{fileName:t_,lineNumber:68},__self:this},"\u5173\u95ed")):null},RoomChatAd}(Yy.a),Ky.timer=null,Vy=RoomChatAd_applyDecoratedDescriptor((Wy=Jy).prototype,"signRateServices",[Uy],{enumerable:!0,initializer:null}),$y=RoomChatAd_applyDecoratedDescriptor(Wy.prototype,"common",[Hy],{enumerable:!0,initializer:null}),Wy),b_=r("456fd"),h_=r.n(b_),v_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},g_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatBottom/index.js";function RoomChatBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y_,__,S_,N_,C_,w_,O_,E_,D_,P_=n.a.Service,j_=(r_=P_(e_.a),i_=P_(h_.a),n_=P_(b.DataCenter.common),a_=P_(b.DataCenter.localStorage),f_=p_=function(e){function RoomChat(){var t,r;!function RoomChatBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatBottom_initDefineProp(r,"signRateServices",l_,r),RoomChatBottom_initDefineProp(r,"signServices",s_,r),RoomChatBottom_initDefineProp(r,"common",c_,r),RoomChatBottom_initDefineProp(r,"store",u_,r),r.handleClsClick=function(){r.setState({ec:v_({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.hideSysAd()},RoomChatBottom_possibleConstructorReturn(r,t)}return RoomChatBottom_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData()},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.store;this.setState({visible:!0}),t.get("roomChatBottomAD")||(setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid),setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),e.hideSysAd()},15e3)},18e4),t.set("roomChatBottomAD",1,259200))},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast RoomChatBottom "+r,"data-dysign":e.posid,__source:{fileName:g_,lineNumber:83},__self:this},Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:g_,lineNumber:84},__self:this},Ns.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.adtitle,__source:{fileName:g_,lineNumber:87},__self:this})),Ns.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:g_,lineNumber:89},__self:this},"\u5e7f\u544a"),Ns.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:g_,lineNumber:90},__self:this}))},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(Yy.a),p_.timer=null,l_=RoomChatBottom_applyDecoratedDescriptor((o_=f_).prototype,"signRateServices",[r_],{enumerable:!0,initializer:null}),s_=RoomChatBottom_applyDecoratedDescriptor(o_.prototype,"signServices",[i_],{enumerable:!0,initializer:null}),c_=RoomChatBottom_applyDecoratedDescriptor(o_.prototype,"common",[n_],{enumerable:!0,initializer:null}),u_=RoomChatBottom_applyDecoratedDescriptor(o_.prototype,"store",[a_],{enumerable:!0,initializer:null}),o_),k_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysBroadcast.js";function SysBroadcast_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysBroadcast_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysBroadcast_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysBroadcast_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R_,T_,B_,M_,z_,L_,F_,A_,I_,x_,G_,U_=Si.a.socketStream,H_=n.a.Service,W_="broadcastconfig",V_="broadcasts",$_="broadcastlimit",K_={delayTime:null,displayTime:null,hideTime:null},J_=1,q_=(y_=H_(b.DataCenter.common),__=H_(b.DataCenter.global),S_=H_(b.DataCenter.acj),N_=H_(b.DataCenter.localStorage),C_=function(e){function RoomChat(t){!function SysBroadcast_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);var r=function SysBroadcast_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return SysBroadcast_initDefineProp(r,"common",w_,r),SysBroadcast_initDefineProp(r,"global",O_,r),SysBroadcast_initDefineProp(r,"acj",E_,r),SysBroadcast_initDefineProp(r,"store",D_,r),r.handleClsClick=function(e){e&&Object(pr.dysub)("click_msg_sysradio_close"),K_.hideTime&&clearTimeout(K_.hideTime),r.setState({fadeCls:"SysSign-BroadcastNoad-FadeOut"}),setTimeout(function(){r.setState({renderType:!1})},1e3),r.canShowBroadcast()},r.state={adQueue:[],configLoaded:0,detailLoaded:0,currentData:{},config:"",fadeCls:"",renderType:!1},r.bindEvents(),r}return SysBroadcast_inherits(RoomChat,e),RoomChat.prototype.bindEvents=function bindEvents(){var e=this,t=this.global.get("$SYS").webconfUrl||"/";U_.subscribe("rsm",function(r){e.state.config?e.cacheState(e.state.config,r):Object(l.forkJoin)(Object(s.of)(r),b.jsonpClient.get(String,t+"resource/common/broadcast/broadcastJsonp.json","setSysBroadcastConf",{noCache:!0})).subscribe(function(t){var i=t[1]&&t[1].data&&"string"===typeof t[1].data?JSON.parse(t[1].data):{};e.cacheState(i,r)})})},RoomChat.prototype.cacheState=function cacheState(e,t){var r=this;this.store.set(W_,e),this.setState({config:e,currentData:t},function(){r.broadcastLoaded()})},RoomChat.prototype.broadcastLoaded=function broadcastLoaded(){var e=this,t=this;setTimeout(function(){if(t.props.state.signLoaded){var r=e.state.adQueue;r.push(1),t.setState({adQueue:r})}else t.setBroadcast()},0)},RoomChat.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;if(0===e.state.signLoaded&&this.state.adQueue.length>0){var r=this.state.adQueue||[];r.pop(),this.setState({adQueue:r},function(){t.setBroadcast()})}},RoomChat.prototype.setCacheLimit=function setCacheLimit(){var e=void 0,t=this.state.config,r=$_,i=(new Date).getTime();if(0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10)||this.store.remove(r),(e=this.store.get(r)||{}).showedTimes||(e.showedTimes=0,e.firstTime=(new Date).getTime()),0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10))if(e.firstTime+6e4*t.frequency.time>i){if(e.showedTimes>=t.frequency.count)return!1}else e={showedTimes:0,firstTime:(new Date).getTime()};return e},RoomChat.prototype.setBroadcast=function setBroadcast(){var e,t=this,r=this.global.get("$ROOM").room_id,i=V_,n=[],a=$_,o=this.state.config,l=this.state.currentData,s=l.id,c=parseInt(l.t,10),u=void 0;if(!s||l.clitp%2!==1||2!==c&&3!==c&&4!==c&&5!==c)return!1;s&&(s=parseInt(l.id,10));var p=this.setCacheLimit();return!!p&&((n=this.store.get(i))||(n={}),J_&&(J_=0,n[r]=null,delete n[r]),!((e=n&&n[r])&&o.sort[l.t]<o.sort[e.t])&&(l.link=1===parseInt(l.jmptp,10)?"/"+l.weburl:l.weburl,l.wis?(l.wis=o.broadcast_img_prefix+l.wis,u=1):u=3,clearTimeout(K_.displayTime),"number"===typeof p.showedTimes&&(p.showedTimes+=1),n[r]=l,this.store.set(a,p),this.store.set(i,n,31536e3),0!==o.delay?K_.delayTime=setTimeout(function(){t.setState({currentData:l,renderType:u},function(){Object(pr.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),clearTimeout(K_.delayTime)},1e3*parseInt(o.delay,10)):this.setState({currentData:l,renderType:u},function(){Object(pr.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),!1))},RoomChat.prototype.inTimeHide=function inTimeHide(e){var t=this;K_.hideTime&&clearTimeout(K_.hideTime),K_.hideTime=setTimeout(function(){t.handleClsClick()},1e3*e)},RoomChat.prototype.handleClickSign=function handleClickSign(){Object(pr.dysub)("click_msg_sysradio")},RoomChat.prototype.renderImgAd=function renderImgAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return Ns.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:k_,lineNumber:285},__self:this},e.link?Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:k_,lineNumber:288},__self:this},Ns.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:k_,lineNumber:293},__self:this})):Ns.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:k_,lineNumber:295},__self:this}),Ns.a.createElement("a",{className:"SysSign-BroadcastNoad-CloseIcon",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:k_,lineNumber:298},__self:this}))},RoomChat.prototype.renderNotifyFn=function renderNotifyFn(e){var t=this.state.fadeCls,r=void 0===t?"":t;return Ns.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:k_,lineNumber:306},__self:this},Ns.a.createElement("div",{className:"SysSign-BroadcastNoad-Header",__source:{fileName:k_,lineNumber:307},__self:this},Ns.a.createElement("a",{className:"SysSign-BroadcastNoad-Close",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:k_,lineNumber:308},__self:this},"\u5173\u95ed")),Ns.a.createElement("div",{className:"SysSign-BroadcastNoad-Body",__source:{fileName:k_,lineNumber:311},__self:this},e.link?Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-BroadcastNoad-Cont",target:"_blank",title:e.c,__source:{fileName:k_,lineNumber:314},__self:this},e.c):Ns.a.createElement("div",{className:"SysSign-BroadcastNoad-Cont",__source:{fileName:k_,lineNumber:322},__self:this},e.c)))},RoomChat.prototype.canShowBroadcast=function canShowBroadcast(){var e=this,t=this;this.props.dispatchState({signLoaded:0},function(){if(e.state.adQueue.length>0){var r=e.state.adQueue;r.pop(),e.setState({adQueue:r},function(){t.setBroadcast()})}})},RoomChat.prototype.renderBroadcast=function renderBroadcast(){var e=this.state,t=e.renderType,r=e.currentData;return 1===t?this.renderImgAd(r):this.renderNotifyFn(r)},RoomChat.prototype.render=function render(){var e=this.state,t=e.renderType,r=e.adQueue;return!t||0!==(void 0===r?[]:r).length||this.props.state.signLoaded?null:this.renderBroadcast()},RoomChat}(Ns.a.PureComponent),w_=SysBroadcast_applyDecoratedDescriptor(C_.prototype,"common",[y_],{enumerable:!0,initializer:null}),O_=SysBroadcast_applyDecoratedDescriptor(C_.prototype,"global",[__],{enumerable:!0,initializer:null}),E_=SysBroadcast_applyDecoratedDescriptor(C_.prototype,"acj",[S_],{enumerable:!0,initializer:null}),D_=SysBroadcast_applyDecoratedDescriptor(C_.prototype,"store",[N_],{enumerable:!0,initializer:null}),C_),Q_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Y_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysAd.js";function SysAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function SysAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X_=n.a.Service,Z_=(R_=X_(e_.a),T_=X_(h_.a),B_=X_(b.DataCenter.common),M_=X_(b.DataCenter.localStorage),G_=x_=function(e){function RoomChat(){var t,r;!function SysAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=SysAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),SysAd_initDefineProp(r,"signRateServices",L_,r),SysAd_initDefineProp(r,"signServices",F_,r),SysAd_initDefineProp(r,"common",A_,r),SysAd_initDefineProp(r,"store",I_,r),r.handleClsClick=function(){r.setState({ec:Q_({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.props.dispatchState({signLoaded:0}),r.hideSysAd()},SysAd_possibleConstructorReturn(r,t)}return SysAd_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData(),this.setState({visible:!1})},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.state.adData.ec,r=void 0===t?{}:t,i=r.showtime;i&&(this.props.dispatchState({signLoaded:1}),this.setState({visible:!this.isSignGapExpired(r.cd)},function(){setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid)},0),setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeOut"},function(){e.props.dispatchState({signLoaded:0})}),e.hideSysAd()},1e3*i)}))},RoomChat.prototype.isSignGapExpired=function isSignGapExpired(e){var t=Number(e),r=this.store,i="sign_last_show",n=r.get(i);return null===n?(r.set(i,+new Date),!0):!(!isNaN(t)&&void 0!==e)||+new Date-n>1e3*t&&(r.set(i,+new Date),!0)},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.srcid?Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:Y_,lineNumber:117},__self:this},e.link?Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:Y_,lineNumber:119},__self:this},Ns.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:Y_,lineNumber:122},__self:this})):Ns.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:Y_,lineNumber:124},__self:this}),Ns.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:Y_,lineNumber:126},__self:this},"\u5e7f\u544a"),Ns.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:Y_,lineNumber:127},__self:this})):this.renderTextAd(e)},RoomChat.prototype.renderTextAd=function renderTextAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.posid?Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:Y_,lineNumber:142},__self:this},Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast-Header",__source:{fileName:Y_,lineNumber:143},__self:this},Ns.a.createElement("a",{className:"SysSign-Ad-Broadcast-Close",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:Y_,lineNumber:144},__self:this},"\u5173\u95ed")),e.link?Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:Y_,lineNumber:148},__self:this},Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Cont",target:"_blank",__source:{fileName:Y_,lineNumber:149},__self:this},e.ec.text),Ns.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Godetail",target:"_blank",title:"\u67e5\u770b\u8be6\u60c5",__source:{fileName:Y_,lineNumber:155},__self:this},"\u67e5\u770b\u8be6\u60c5")):Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:Y_,lineNumber:164},__self:this},Ns.a.createElement("div",{className:"SysSign-Ad-Broadcast-Cont",style:{marginBottom:"8px"},__source:{fileName:Y_,lineNumber:165},__self:this},e.ec.text))):null},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(Yy.a),x_.timer=null,L_=SysAd_applyDecoratedDescriptor((z_=G_).prototype,"signRateServices",[R_],{enumerable:!0,initializer:null}),F_=SysAd_applyDecoratedDescriptor(z_.prototype,"signServices",[T_],{enumerable:!0,initializer:null}),A_=SysAd_applyDecoratedDescriptor(z_.prototype,"common",[B_],{enumerable:!0,initializer:null}),I_=SysAd_applyDecoratedDescriptor(z_.prototype,"store",[M_],{enumerable:!0,initializer:null}),z_),eS=(r("883b0"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/index.js");function SignBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SignBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tS,rS,iS,nS,aS,oS=n.a.Region,lS=function(e){function SignBarrageComponent(t){!function SignBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SignBarrageComponent);var r=function SignBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state={signLoaded:0},r}return SignBarrage_inherits(SignBarrageComponent,e),SignBarrageComponent.prototype.dispatchState=function dispatchState(e,t){this.setState(e,t)},SignBarrageComponent.prototype.render=function render(){var e=this;return Ns.a.createElement("div",{className:"SignBarrage",__source:{fileName:eS,lineNumber:32},__self:this},Ns.a.createElement(oS,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"10014",viewRender:function viewRender(){return Ns.a.createElement(Z_,{dispatchState:e.dispatchState.bind(e),state:e.state,data:{className:"Barrage-sys-ad",id:"10014"},__source:{fileName:eS,lineNumber:39},__self:e})}},__source:{fileName:eS,lineNumber:33},__self:this}),Ns.a.createElement(oS,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"30011",viewRender:function viewRender(){return Ns.a.createElement(j_,{data:{className:"Barrage-sys-ad",id:"30011"},__source:{fileName:eS,lineNumber:55},__self:e})}},__source:{fileName:eS,lineNumber:49},__self:this}),Ns.a.createElement(q_,{dispatchState:this.dispatchState.bind(this),state:this.state,__source:{fileName:eS,lineNumber:63},__self:this}),Ns.a.createElement(oS,{name:"sign",belongTo:"PlayerAsideApp",data:{id:"10020",viewRender:function viewRender(){return Ns.a.createElement(d_,{data:{type:"rate",id:"10020"},__source:{fileName:eS,lineNumber:72},__self:e})}},__source:{fileName:eS,lineNumber:67},__self:this}))},SignBarrageComponent}(Ns.a.Component),sS=(r("23913"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/MatchSystemBanner/MatchSystemBanner.js");function MatchSystemBanner_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MatchSystemBanner_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemBanner_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MatchSystemBanner_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cS,uS,pS,fS,mS=n.a.Service,dS=(tS=mS(ks.a),rS=mS(b.DataCenter.localStorage),iS=function(e){function MatchSystemBanner(t){!function MatchSystemBanner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemBanner);var r=function MatchSystemBanner_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return MatchSystemBanner_initDefineProp(r,"matchSystemServices",nS,r),MatchSystemBanner_initDefineProp(r,"localStorage",aS,r),r.close=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r.setState({isShow:!1})},r.handleShowSelectTeam=function(){Ts.a.check()?(r.matchSystemServices.showSelectTeamPanel(),r.setState({isShow:!1})):Ts.a.show()},r.state={isShow:!1},r}return MatchSystemBanner_inherits(MatchSystemBanner,e),MatchSystemBanner.prototype.componentDidMount=function componentDidMount(){var e=Ts.a.check(),t=this.localStorage.get("matchSystem-first-join-panel");!e&&t&&this.setState({isShow:!0})},MatchSystemBanner.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.gainTeams,r=this.localStorage.get("matchSystem-first-join-panel");!t.length&&r?this.setState({isShow:!0}):this.setState({isShow:!1})},MatchSystemBanner.prototype.render=function render(){return this.state.isShow?Ns.a.createElement("div",{onClick:this.handleShowSelectTeam,className:"MatchSystemGuide",__source:{fileName:sS,lineNumber:74},__self:this},Ns.a.createElement("div",{className:"MatchSystemGuide-banner",__source:{fileName:sS,lineNumber:75},__self:this},Ns.a.createElement("div",{className:"MatchSystemGuide-close",onClick:this.close,__source:{fileName:sS,lineNumber:76},__self:this}))):null},MatchSystemBanner}(Ss.Component),nS=MatchSystemBanner_applyDecoratedDescriptor(iS.prototype,"matchSystemServices",[tS],{enumerable:!0,initializer:null}),aS=MatchSystemBanner_applyDecoratedDescriptor(iS.prototype,"localStorage",[rS],{enumerable:!0,initializer:null}),iS),bS=Object(yh.connect)(function mapStateToProps(e){return{gainTeams:e.matchSystemData.gainTeams,userDetail:e.matchSystemData.userDetail}})(dS),hS=r("ed724"),vS=(r("edb7b"),"/shark/live/src/pages/roomPage/playerAsideModule/components/LitterSister/LitterSister.js");function LitterSister_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSister_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gS=(cS=(0,n.a.Service)(Ur.a),Object(ee.log)((pS=function(e){function LitterSister(){!function LitterSister_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSister);var t=function LitterSister_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function LitterSister_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"litterSisterService",fS,t),t.handleClick=function(){var e=t.props.identSex;switch(Object(pr.dysub)("click_lsis_get"),e){case 0:Object(pr.dysub)("click_lsis_realverify"),window.location.href="/member/cp/changeIdent";break;case 1:case 3:t.closeSisDialog(),Object(pr.dysub)("click_lsis_known");break;case 2:t.receivePriv()}},t.closeSisDialog=t.closeSisDialog.bind(t),t}return LitterSister_inherits(LitterSister,e),LitterSister.prototype.showSisDialog=function showSisDialog(){this.litterSisterService.showSisDialog()},LitterSister.prototype.closeSisDialog=function closeSisDialog(){this.litterSisterService.closeSisDialog()},LitterSister.prototype.receivePriv=function receivePriv(){this.litterSisterService.receivePriv()},LitterSister.prototype.appendNormalTpl=function appendNormalTpl(e){return Ns.a.createElement("div",{className:"LitterSister-tequanNormal",__source:{fileName:vS,lineNumber:69},__self:this},Ns.a.createElement("div",{className:"LitterSister-tequanNormal-line",__source:{fileName:vS,lineNumber:70},__self:this}),Ns.a.createElement("div",{className:"LitterSister-tequanNormal-text",__source:{fileName:vS,lineNumber:71},__self:this},e.dlgText),Ns.a.createElement("div",{className:"LitterSister-tequanNormal-button",onClick:this.handleClick,__source:{fileName:vS,lineNumber:72},__self:this},e.btnText))},LitterSister.prototype.appendSuccTpl=function appendSuccTpl(e){return Ns.a.createElement("div",{className:"LitterSister-tequanSuccess",__source:{fileName:vS,lineNumber:79},__self:this},Ns.a.createElement("p",{className:"LitterSister-tequanSuccess-slogan",__source:{fileName:vS,lineNumber:80},__self:this},e.slogan),Ns.a.createElement("p",{className:"LitterSister-tequanSuccess-desc",__source:{fileName:vS,lineNumber:81},__self:this},e.desc))},LitterSister.prototype.render=function render(){var e=this.props;return Ns.a.createElement(hS.a,{visible:e.isShowDialog,width:813,footer:null,className:"LitterSister",__source:{fileName:vS,lineNumber:92},__self:this},Ns.a.createElement("div",{className:"LitterSister-wrap",__source:{fileName:vS,lineNumber:98},__self:this},Ns.a.createElement("div",{className:"LitterSister-dlgbody",__source:{fileName:vS,lineNumber:99},__self:this},Ns.a.createElement("ul",{className:"LitterSister-tequanlist",__source:{fileName:vS,lineNumber:100},__self:this},Ns.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:vS,lineNumber:101},__self:this},Ns.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--icona",__source:{fileName:vS,lineNumber:102},__self:this}),Ns.a.createElement("span",{__source:{fileName:vS,lineNumber:102},__self:this},"\u95ea\u4eae\u5934\u8854\u60ca\u8273\u6635\u79f0")),Ns.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:vS,lineNumber:104},__self:this},Ns.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--iconc",__source:{fileName:vS,lineNumber:105},__self:this}),Ns.a.createElement("span",{__source:{fileName:vS,lineNumber:105},__self:this},"\u840c\u7cfb\u53ef\u7231\u4e2a\u4eba\u540d\u7247"))),Ns.a.createElement("div",{className:"LitterSister-tequanappend",__source:{fileName:vS,lineNumber:108},__self:this},1===e.femalePrivilege?this.appendSuccTpl(e):this.appendNormalTpl(e))),Ns.a.createElement("div",{className:"LitterSister-tequanclose",onClick:this.closeSisDialog,__source:{fileName:vS,lineNumber:112},__self:this})))},LitterSister}(Ns.a.Component),fS=function LitterSister_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(pS.prototype,"litterSisterService",[cS],{enumerable:!0,initializer:null}),uS=pS))||uS);gS.propTypes={isShowDialog:gh.a.bool.isRequired,femalePrivilege:gh.a.number.isRequired,identSex:gh.a.number.isRequired};var yS=Object(yh.connect)(function mapStateToProps(e){return{isShowDialog:e.litterSisterData.isShowDialog,femalePrivilege:e.litterSisterData.femalePrivilege||0,identSex:e.litterSisterData.identSex||0,dlgText:e.litterSisterData.dlgText,btnText:e.litterSisterData.btnText,slogan:e.litterSisterData.slogan,desc:e.litterSisterData.desc}})(gS),_S="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureResult.js";function TreasureResult_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureResult_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var SS=function(e){function TreasureResult(){!function TreasureResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureResult);var t=function TreasureResult_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isRender:!0},t}return TreasureResult_inherits(TreasureResult,e),TreasureResult.prototype.reset=function reset(){var e=this;Object(Jc.timer)(1200).subscribe(function(){e.setState({isRender:!1})})},TreasureResult.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.tipsMsg.data!==this.props.tipsMsg.data&&this.setState({isRender:!0})},TreasureResult.prototype.render=function render(){var e=this,t=this.props.tipsMsg.data;if(!Object.keys(t).length||!this.state.isRender)return null;if(this.reset(),t.isban)return Ns.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:_S,lineNumber:40},__self:this},Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:41},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:42},__self:this},"\u8fdd\u7981\u884c\u4e3a\u5b9d\u7bb1\u5df2\u9500\u6bc1")));if(0!==parseInt(t.code,10)||0===parseInt(t.silver,10)&&0===parseInt(t.prop_count,10))return Ns.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:_S,lineNumber:49},__self:this},Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:50},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:51},__self:this},"\u8fd0\u6c14\u4e0d\u4f73\uff0c\u5b9d\u7bb1\u5df2\u88ab\u6d17\u52ab\u4e00\u7a7aT_T")));if(2===parseInt(t.award_type,10))return Ns.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:_S,lineNumber:57},__self:this},Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:58},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:59},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),Ns.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:_S,lineNumber:60},__self:this},t.src_nick)),Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:62},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:63},__self:this},"\u6d3e\u9001\u7684"),Ns.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:_S,lineNumber:64},__self:this},t.prop_count,"\u4e2a",t.prop_name),Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:65},__self:this},"~")));if(parseInt(t.lk,10))return Ns.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:_S,lineNumber:71},__self:this},Ns.a.createElement("span",{className:"TreasureResult-bestIcon",__source:{fileName:_S,lineNumber:72},__self:this}));if(parseInt(t.lt,10)>0){var r=t.lt.toString().split("");return Ns.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:_S,lineNumber:79},__self:this},Ns.a.createElement("span",{className:"TreasureResult-bounsIcon",__source:{fileName:_S,lineNumber:80},__self:this}),Ns.a.createElement("span",{className:"TreasureResult-multiply",__source:{fileName:_S,lineNumber:81},__self:this}),r.map(function(t,r){return Ns.a.createElement("span",{className:"TreasureResult-num"+t,key:r,__source:{fileName:_S,lineNumber:84},__self:e})}))}return Ns.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:_S,lineNumber:92},__self:this},Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:93},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:94},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),Ns.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:_S,lineNumber:95},__self:this},t.src_nick)),Ns.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:_S,lineNumber:97},__self:this},Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:98},__self:this},"\u6d3e\u9001\u7684"),Ns.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:_S,lineNumber:99},__self:this},t.silver,"\u4e2a\u9c7c\u4e38"),Ns.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:_S,lineNumber:100},__self:this},"~")))},TreasureResult}(Ns.a.Component);SS.propTypes={tipsMsg:gh.a.any};var NS=Object(yh.connect)(function mapStateToProps(e){return{tipsMsg:e.tipsMsg}})(SS),CS=(r("d4ac7"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),wS="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerMarquee.js";function BannerMarquee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerMarquee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var OS=function(e){function BannerMarquee(t){!function BannerMarquee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerMarquee);var r=function BannerMarquee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.nickNameHolder=Ns.a.createRef(),r.state={leftPos:0},r}return BannerMarquee_inherits(BannerMarquee,e),BannerMarquee.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.nickNameHolder.current,r=t.offsetWidth-t.scrollWidth;r<0&&(this.timer=setTimeout(function(){e.startMarquee(r)},400))},BannerMarquee.prototype.startMarquee=function startMarquee(e){var t=this;this.setState({leftPos:e,transition:"left .8s"}),this.timer=setTimeout(function(){t.setState({leftPos:0,transition:"none"}),clearTimeout(t.timer),t.timer=setTimeout(function(){t.startMarquee(e)},500)},1600)},BannerMarquee.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},BannerMarquee.prototype.render=function render(){var e=this.props.content,t=this.state,r=t.leftPos,i=t.transition;return Ns.a.createElement("div",CS({ref:this.nickNameHolder,className:"BannerMarquee"},this.props,{__source:{fileName:wS,lineNumber:57},__self:this}),Ns.a.createElement("div",{className:"BannerMarquee-cont",style:{left:r,WebkitTransition:i,MozTransition:i,msTransition:i,transition:i},__source:{fileName:wS,lineNumber:60},__self:this},e))},BannerMarquee}(Ns.a.Component),ES=(r("21eef"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerNumbers.js");function BannerNumbers_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerNumbers_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DS=function(e){function BannerNumbers(t){!function BannerNumbers_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerNumbers);var r=function BannerNumbers_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.state={scale:1,nums:t.nums},r}return BannerNumbers_inherits(BannerNumbers,e),BannerNumbers.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;return this.state.nums!==e.nums&&(this.props.ifScale?this.setScale(0,function(){t.setState({nums:e.nums})}):this.setState({nums:e.nums})),!0},BannerNumbers.prototype.setScale=function setScale(e,t){var r=this;clearTimeout(this.timer),this.timer=setTimeout(function(){r.setState({scale:1.5}),t&&t(),clearTimeout(r.timer),r.timer=setTimeout(function(){r.setState({scale:1})},200)},e)},BannerNumbers.prototype.componentDidMount=function componentDidMount(){this.props.ifScale&&this.setScale(40)},BannerNumbers.prototype.componentWillUnmount=function componentWillUnmount(){this.props.ifScale&&clearTimeout(this.timer)},BannerNumbers.prototype.render=function render(){var e=this,t=this.state,r=t.scale,i=t.nums.toString().split(""),n=this.props.modifierClassName;return Ns.a.createElement("div",{className:"BannerNumbers "+n,__source:{fileName:ES,lineNumber:75},__self:this},Ns.a.createElement("span",{className:"BannerNumbers-mutiple",__source:{fileName:ES,lineNumber:76},__self:this}),Ns.a.createElement("div",{className:"BannerNumbers-nums",style:{transform:"scale("+r+")"},__source:{fileName:ES,lineNumber:77},__self:this},i.map(function(t,r){return Ns.a.createElement("span",{key:r,className:"BannerNumbers-num BannerNumbers-num--"+t,__source:{fileName:ES,lineNumber:79},__self:e})})))},BannerNumbers}(Ns.a.Component),PS=(r("f1289"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4gift.js");function Banner4gift_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4gift_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var jS=function(e){function Banner4gift(){!function Banner4gift_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4gift);var t=function Banner4gift_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.intoTimer=null,t.state={},t}return Banner4gift_inherits(Banner4gift,e),Banner4gift.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4gift.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4gift.prototype.render=function render(){var e=this.props,t=e.bannerHeaderImg,r=e.bannerHeaderImgBorder,i=e.senderName,n=e.objectName,a=e.top,o=e.bannerBatchBg,l=e.batchPriceIndex,s=e.nickNameColor,c=e.giftNameColor,u=e.otherColor,p=e.hitTimes,f=void 0===p?1:p,m=e.bcnt,d=e.gfcnt,b=e.isMakeFriendGift,h=e.makeFriendNick,v=this.state.leftPos,g=d>1&&m>0?m:f;return Ns.a.createElement("div",{className:"Banner4gift Banner4gift--size"+l,style:{left:v+"px",top:a+"px"},__source:{fileName:PS,lineNumber:55},__self:this},Ns.a.createElement("img",{className:"Banner4gift-bg",src:o+Ub.imgSuffix,__source:{fileName:PS,lineNumber:62},__self:this}),Ns.a.createElement("div",{className:"Banner4gift-info",__source:{fileName:PS,lineNumber:63},__self:this},Ns.a.createElement("div",{className:"Banner4gift-senderName",style:{color:s},title:i,__source:{fileName:PS,lineNumber:64},__self:this},Ns.a.createElement(OS,{content:i,__source:{fileName:PS,lineNumber:65},__self:this})),Ns.a.createElement("p",{className:"Banner4gift-actionDescription",style:{color:u},__source:{fileName:PS,lineNumber:67},__self:this},Ns.a.createElement("span",{className:"Banner4gift-action",__source:{fileName:PS,lineNumber:68},__self:this},b?"\u9001\u7ed9":"\u9001\u51fa"),Ns.a.createElement("span",{className:"Banner4gift-objectName",title:b?h:n,style:{color:c},__source:{fileName:PS,lineNumber:69},__self:this},b?h:n))),Ns.a.createElement("div",{className:"Banner4gift-header",style:{borderColor:r},__source:{fileName:PS,lineNumber:74},__self:this},Ns.a.createElement("img",{className:"Banner4gift-headerImg",src:t+Ub.imgSuffix,__source:{fileName:PS,lineNumber:75},__self:this})),Ns.a.createElement("div",{className:"Banner4gift-numbersCont",__source:{fileName:PS,lineNumber:77},__self:this},d>1?Ns.a.createElement(DS,{key:"batchNums",modifierClassName:"BannerNumbers--batchNums",nums:d,__source:{fileName:PS,lineNumber:79},__self:this}):null,Ns.a.createElement(DS,{key:"hitNums",modifierClassName:"BannerNumbers--hitNums",nums:g,ifScale:"true",__source:{fileName:PS,lineNumber:81},__self:this})))},Banner4gift}(Ns.a.Component),kS=(r("0d342"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4noble.js");function Banner4noble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4noble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var RS,TS,BS,MS=function(e){function Banner4noble(t){!function Banner4noble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4noble);var r=function Banner4noble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.intoTimer=null,r.state={},r}return Banner4noble_inherits(Banner4noble,e),Banner4noble.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4noble.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4noble.prototype.render=function render(){var e=this.props,t=e.bannerBgImg,r=e.bannerHeaderImg,i=e.senderName,n=e.objectName,a=e.objectId,o=e.top,l=this.state.leftPos;return Ns.a.createElement("div",{className:"Banner4noble Banner4noble--size"+a,style:{left:l+"px",top:o+"px"},__source:{fileName:kS,lineNumber:35},__self:this},Ns.a.createElement("img",{className:"Banner4noble-bg",src:t,__source:{fileName:kS,lineNumber:42},__self:this}),Ns.a.createElement("div",{className:"Banner4noble-info",__source:{fileName:kS,lineNumber:43},__self:this},Ns.a.createElement("div",{className:"Banner4noble-senderName",title:i,__source:{fileName:kS,lineNumber:44},__self:this},Ns.a.createElement(OS,{content:i,__source:{fileName:kS,lineNumber:45},__self:this})),Ns.a.createElement("p",{className:"Banner4noble-actionDescription",__source:{fileName:kS,lineNumber:50},__self:this},Ns.a.createElement("span",{className:"Banner4noble-action",__source:{fileName:kS,lineNumber:51},__self:this},"\u5f00\u901a"),Ns.a.createElement("span",{className:"Banner4noble-objectName",title:n,__source:{fileName:kS,lineNumber:52},__self:this},n))),Ns.a.createElement("div",{className:"Banner4noble-header",__source:{fileName:kS,lineNumber:57},__self:this},Ns.a.createElement("img",{className:"Banner4noble-headerImg",src:r,__source:{fileName:kS,lineNumber:58},__self:this})))},Banner4noble}(Ns.a.Component),zS=(r("824fc"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),LS="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BarrageBanner.js";function BarrageBanner_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBanner_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var FS,AS,IS,xS,GS,US,HS,WS,VS,$S,KS,JS,qS,QS,YS,XS,ZS,eN,tN,rN,iN,nN,aN,oN,lN=(RS=(0,n.a.Service)(Fm),TS=function(e){function BarrageBanner(){!function BarrageBanner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBanner);var t=function BarrageBanner_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageBanner_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageBannerService",BS,t),t.state={bannerData:[]},t}return BarrageBanner_inherits(BarrageBanner,e),BarrageBanner.prototype.componentDidMount=function componentDidMount(){this.barrageBannerService.bindStateChange(this.changeData.bind(this))},BarrageBanner.prototype.changeData=function changeData(e){this.setState({bannerData:e})},BarrageBanner.prototype.render=function render(){var e=this,t=this.state.bannerData;return Ns.a.createElement("div",{className:"BarrageBanner",__source:{fileName:LS,lineNumber:39},__self:this},t&&t.map(function(t){var r=t.bannerType,i=t.bannerId,n=null;switch(r){case"BANNER_4_GIFT":n=Ns.a.createElement(jS,zS({key:i},t,{__source:{fileName:LS,lineNumber:48},__self:e}));break;case"BANNER_4_NOBLE":n=Ns.a.createElement(MS,zS({key:i},t,{__source:{fileName:LS,lineNumber:51},__self:e}))}return n}))},BarrageBanner}(Ns.a.Component),BS=function BarrageBanner_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(TS.prototype,"barrageBannerService",[RS],{enumerable:!0,initializer:null}),TS),sN=(r("762d9"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),cN="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/Barrage.js";function Barrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Barrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Barrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Barrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Barrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var uN,pN,fN,mN,dN=n.a.Service,bN=Si.a.socketStream,hN=Si.a.socketProxy,vN=(FS=dN(b.DataCenter.acj),AS=dN(b.DataCenter.localStorage),IS=dN(b.DataCenter.common),xS=dN(Ps.a),GS=dN(ws.a),US=dN(Os.a),HS=dN(Es.a),WS=dN(Ds.a),VS=dN(m.a),$S=dN(ks.a),KS=dN(b.DataCenter.global),Object(ee.log)((qS=function(e){function Barrage(){var t,r,i=this;!function Barrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Barrage);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=Barrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),Barrage_initDefineProp(r,"acj",QS,r),Barrage_initDefineProp(r,"localStorage",YS,r),Barrage_initDefineProp(r,"common",XS,r),Barrage_initDefineProp(r,"barrageService",ZS,r),Barrage_initDefineProp(r,"chatUserCardService",eN,r),Barrage_initDefineProp(r,"userCardServices",tN,r),Barrage_initDefineProp(r,"achievementService",rN,r),Barrage_initDefineProp(r,"nobleBuyModalServices",iN,r),Barrage_initDefineProp(r,"medalOperatService",nN,r),Barrage_initDefineProp(r,"matchSystemService",aN,r),Barrage_initDefineProp(r,"global",oN,r),r.scroll=function(){r.barrageService.watchScroll(r.barrageScrollbar)},r.renderTrackHorizontal=function(){return Ns.a.createElement("div",{style:{display:"none"},__source:{fileName:cN,lineNumber:302},__self:i})},Barrage_possibleConstructorReturn(r,t)}return Barrage_inherits(Barrage,e),Barrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.bindEvents(),hh({main:this.barrageMain,list:this.barrageList,scrollbar:this.barrageScrollbar}),this.common.get("$DATA").subscribe(function(t){e.setState({roomId:t.get("room.room_id"),cateId:t.get("room.cate_id")})})},Barrage.prototype.bindEvents=function bindEvents(){var e=this;document.getElementById("js-barrage-list").addEventListener("click",function(t){var r=t||window.event,i=r.target||r.srcElement,n=Object(mc.j)(i,"js-link-dysclick");t.stopPropagation(),e.closeUserCard(),Object(mc.h)(i,"js-buy-noble")&&e.buyNobleClick(),Object(mc.h)(i,"js-super-barrage")&&e.superMsgClick(i),Object(mc.h)(i,"js-athena-barrage")&&e.athenaMsgClick(i),Object(mc.h)(i,"js-danmu-reconnect")&&e.reconnectClick(i),Object(mc.h)(i,"js-nick")&&e.nickNameClick(i),Object(mc.h)(i,"js-fans-dysclick")&&e.fansMedalClick(i,r),(Object(mc.h)(i,"js-link-dysclick")||n)&&e.linkBarrageClick(),Object(mc.h)(i,"is-achievement")&&e.achievementMedalClick(i,r)}),document.getElementById("js-barrage-list").addEventListener("mouseover",function(t){var r=t||window.event,i=r.target||r.srcElement;t.stopPropagation(),Object(mc.h)(i,"js-fans-hover")&&e.fansMedalHover(i)})},Barrage.prototype.buyNobleClick=function buyNobleClick(){this.nobleBuyModalServices.openNobleBuyModal(),Object(pr.dysub)("click_msg_buydefense")},Barrage.prototype.closeUserCard=function closeUserCard(){this.userCardServices.toggleUserCard({isVisible:!1})},Barrage.prototype.linkBarrageClick=function linkBarrageClick(){Object(pr.dysub)("click_msg_lmsg")},Barrage.prototype.superMsgClick=function superMsgClick(e){var t=e,r=this.state.roomId,i=this.global.get("USER_INFO.uid"),n=t.getAttribute("data-superId"),a=t.getAttribute("data-jumpType"),o=t.getAttribute("data-roomId"),l=t.getAttribute("data-linkUrl"),s=this.global.get("douyuDid"),c=t.innerHTML.replace(/^\s+/,"").replace(/\s+$/,""),u=void 0;parseInt(r,10)!==parseInt(o,10)&&(0===parseInt(a,10)?window.open(l):(u={sdid:n,trid:o,content:c,rid:r,uid:i,type:"sdcr",did:s},hN.isSocketReady?hN.sendMessage(u):bN.subscribe("socket_ready",function(){hN.sendMessage(u)}),window.open("/special/jump/"+o)))},Barrage.prototype.athenaMsgClick=function athenaMsgClick(e){var t=e,r=t.getAttribute("data-jumpType"),i=t.getAttribute("data-reverse"),n=t.getAttribute("data-bid"),a=t.getAttribute("data-boothId"),o=t.getAttribute("data-conId"),l=t.getAttribute("data-linkUrl"),s=this.state.roomId,c=t.dataset;if(4!==r){var u=+i?"click_athena_msg_reverse":"click_athena_msg_supermsg",p=Object.assign({ctid:this.state.cateId},c);Object(pr.dysub)(u,p),b.httpClient.get(String,"/lapi/athena/room/catch",{t:(new Date).getTime(),bizid:n,bthid:a,conId:o,roomId:s}),window.open(l)}},Barrage.prototype.reconnectClick=function reconnectClick(){hN.connectServer(),Object(pr.dysub)("click_msg_rc")},Barrage.prototype.nickNameClick=function nickNameClick(e){var t=e,r=e.getAttribute("data-uid"),i=Object(mc.j)(t,"Barrage-listItem"),n="";i&&(n=i.id);var a=js.a.get({type:1,guid:n,uid:r});this.chatUserCardService.showUserCard(sN({isVisible:!0},a))},Barrage.prototype.fansMedalHover=function fansMedalHover(e){var t=this,r=e,i=e.getAttribute("data-rid")||0,n=e.getAttribute("data-hc")||"";if(i&&n){var a=this.localStorage.get("fans_"+i);if(a)r.setAttribute("title",a);else{var o={medalRid:i,checkCode:n};this.medalOperatService.reqAnchorInfo(o).subscribe(function(e){if(e){var n=void 0;0===parseInt(e.result,10)&&(n=e.is_live?"(\u6b63\u5728\u76f4\u64ad)":"(\u4e0d\u5728\u76f4\u64ad)",r.setAttribute("title",e.nn+n||""),t.localStorage.set("fans_"+i,e.nn+n,10))}})}}},Barrage.prototype.fansMedalClick=function fansMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-rid")||0;Object(pr.dysub)("click_msg_msgafansbadge",{bdg_id:r})},Barrage.prototype.achievementMedalClick=function achievementMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-achievementid")||0;r>0&&this.achievementService.showAchievementMedal(r)},Barrage.prototype.render=function render(){var e=this,t=this.matchSystemService.checkMatchSystem();return Ns.a.createElement("div",{__source:{fileName:cN,lineNumber:308},__self:this},Ns.a.createElement(lN,{__source:{fileName:cN,lineNumber:309},__self:this}),Ns.a.createElement(qy,{__source:{fileName:cN,lineNumber:310},__self:this}),Ns.a.createElement("div",{id:"js-barrage-container",__source:{fileName:cN,lineNumber:311},__self:this},Ns.a.createElement("div",{className:"Barrage-main",ref:function ref(t){e.barrageMain=t},__source:{fileName:cN,lineNumber:312},__self:this},Ns.a.createElement(Cs.Scrollbars,{ref:function ref(t){e.barrageScrollbar=t},style:{width:"100%",height:"100%"},renderTrackHorizontal:this.renderTrackHorizontal,onScroll:this.scroll,__source:{fileName:cN,lineNumber:315},__self:this},Ns.a.createElement("ul",{className:"Barrage-list",id:"js-barrage-list",ref:function ref(t){e.barrageList=t},__source:{fileName:cN,lineNumber:322},__self:this})))),Ns.a.createElement(lS,{__source:{fileName:cN,lineNumber:328},__self:this}),Ns.a.createElement(zh,{__source:{fileName:cN,lineNumber:329},__self:this}),Ns.a.createElement(NS,{__source:{fileName:cN,lineNumber:330},__self:this}),Ns.a.createElement(Eh,{__source:{fileName:cN,lineNumber:331},__self:this}),Ns.a.createElement(yS,{__source:{fileName:cN,lineNumber:332},__self:this}),Ns.a.createElement(Ah,{__source:{fileName:cN,lineNumber:333},__self:this}),t&&Ns.a.createElement(bS,{__source:{fileName:cN,lineNumber:334},__self:this}))},Barrage}(Ns.a.Component),QS=Barrage_applyDecoratedDescriptor(qS.prototype,"acj",[FS],{enumerable:!0,initializer:null}),YS=Barrage_applyDecoratedDescriptor(qS.prototype,"localStorage",[AS],{enumerable:!0,initializer:null}),XS=Barrage_applyDecoratedDescriptor(qS.prototype,"common",[IS],{enumerable:!0,initializer:null}),ZS=Barrage_applyDecoratedDescriptor(qS.prototype,"barrageService",[xS],{enumerable:!0,initializer:null}),eN=Barrage_applyDecoratedDescriptor(qS.prototype,"chatUserCardService",[GS],{enumerable:!0,initializer:null}),tN=Barrage_applyDecoratedDescriptor(qS.prototype,"userCardServices",[US],{enumerable:!0,initializer:null}),rN=Barrage_applyDecoratedDescriptor(qS.prototype,"achievementService",[HS],{enumerable:!0,initializer:null}),iN=Barrage_applyDecoratedDescriptor(qS.prototype,"nobleBuyModalServices",[WS],{enumerable:!0,initializer:null}),nN=Barrage_applyDecoratedDescriptor(qS.prototype,"medalOperatService",[VS],{enumerable:!0,initializer:null}),aN=Barrage_applyDecoratedDescriptor(qS.prototype,"matchSystemService",[$S],{enumerable:!0,initializer:null}),oN=Barrage_applyDecoratedDescriptor(qS.prototype,"global",[KS],{enumerable:!0,initializer:null}),JS=qS))||JS),gN=(r("af849"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBuffer/BarrageBuffer.js");function BarrageBuffer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBuffer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yN=(uN=(0,n.a.Service)(Ps.a),Object(ee.log)((fN=function(e){function BarrageBuffer(t){!function BarrageBuffer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBuffer);var r=function BarrageBuffer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageBuffer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",mN,r),r.releaseBuffer=r.releaseBuffer.bind(r),r}return BarrageBuffer_inherits(BarrageBuffer,e),BarrageBuffer.prototype.releaseBuffer=function releaseBuffer(){this.barrageService.toggleLockScreen(!1),this.barrageService.scrollToBottom()},BarrageBuffer.prototype.render=function render(){var e=this.props,t=e.isLockScreen,r=e.bufferCount,i=e.bufferLimit,n=r>99?"99+":r,a=t&&r>0&&r<=i;return Ns.a.createElement("a",{className:"BarrageBuffer"+(a?" is-show":""),onClick:this.releaseBuffer,__source:{fileName:gN,lineNumber:39},__self:this},Ns.a.createElement("span",{className:"BarrageBuffer-tipTxt",__source:{fileName:gN,lineNumber:41},__self:this},"\u6709",n,"\u6761\u65b0\u6d88\u606f"),Ns.a.createElement("i",{className:"BarrageBuffer-icon--tip",__source:{fileName:gN,lineNumber:42},__self:this}))},BarrageBuffer}(Ns.a.Component),mN=function BarrageBuffer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(fN.prototype,"barrageService",[uN],{enumerable:!0,initializer:null}),pN=fN))||pN);yN.propTypes={isLockScreen:gh.a.bool.isRequired,bufferCount:gh.a.number.isRequired,bufferLimit:gh.a.number.isRequired};var _N,SN,NN,CN,wN,ON=Object(yh.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen,bufferCount:e.barrageData.bufferCount,bufferLimit:e.barrageData.bufferLimit}})(yN),EN=(r("ff8ff"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageToolbar/BarrageToolbar.js");function BarrageToolbar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageToolbar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageToolbar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var DN=(_N=(0,n.a.Service)(Ps.a),SN=Object(pr.dys)("click_msg_cls"),Object(ee.log)((CN=function(e){function BarrageToolbar(t){!function BarrageToolbar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageToolbar);var r=function BarrageToolbar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageToolbar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",wN,r),r.toggleLockScreen=r.toggleLockScreen.bind(r),r.clearScreen=r.clearScreen.bind(r),r}return BarrageToolbar_inherits(BarrageToolbar,e),BarrageToolbar.prototype.toggleLockScreen=function toggleLockScreen(){var e=this.props.isLockScreen;this.barrageService.toggleLockScreen(!e),e&&this.barrageService.scrollToBottom(),Object(pr.dysub)("click_msg_scrol",{stat:e?2:1})},BarrageToolbar.prototype.clearScreen=function clearScreen(){this.barrageService.clearScreen()},BarrageToolbar.prototype.render=function render(){var e=this.props.isLockScreen;return Ns.a.createElement("div",{className:"Barrage-toolbar",__source:{fileName:EN,lineNumber:53},__self:this},Ns.a.createElement("a",{className:"Barrage-toolbarLock"+(e?" is-lock":""),onClick:this.toggleLockScreen,__source:{fileName:EN,lineNumber:54},__self:this},Ns.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:EN,lineNumber:56},__self:this}),Ns.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:EN,lineNumber:57},__self:this},e?"\u89e3\u9501":"\u9501\u5c4f")),Ns.a.createElement("a",{className:"Barrage-toolbarClear",onClick:this.clearScreen,__source:{fileName:EN,lineNumber:59},__self:this},Ns.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:EN,lineNumber:61},__self:this}),Ns.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:EN,lineNumber:62},__self:this},"\u6e05\u5c4f")))},BarrageToolbar}(Ns.a.Component),wN=BarrageToolbar_applyDecoratedDescriptor(CN.prototype,"barrageService",[_N],{enumerable:!0,initializer:null}),BarrageToolbar_applyDecoratedDescriptor(CN.prototype,"clearScreen",[SN],Object.getOwnPropertyDescriptor(CN.prototype,"clearScreen"),CN.prototype),NN=CN))||NN);DN.propTypes={isLockScreen:gh.a.bool.isRequired};var PN,jN,kN,RN,TN,BN=Object(yh.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen}})(DN),MN=(r("09d26"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),zN="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGroup/BarrageGroup.js";function BarrageGroup_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageGroup_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageGroup_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGroup_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageGroup_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var LN,FN,AN,IN,xN,GN=n.a.Service,UN=(PN=GN(ws.a),jN=GN(Es.a),kN=function(e){function BarrageComponents(){var t,r;!function BarrageGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageComponents);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageGroup_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageGroup_initDefineProp(r,"chatUserCardService",RN,r),BarrageGroup_initDefineProp(r,"achievementService",TN,r),r.handleFloaterClick=function(e){var t=e.target;if(e.nativeEvent.stopImmediatePropagation(),t!==e.currentTarget)for(;t;){if("UL"===t.tagName)return;if(Object(mc.h)(t,"js-nick"))return void r.handleNickNameClick(t);if(Object(mc.h)(t,"is-achievement"))return void r.achievementMedalClick(t);t=t.parentNode}},BarrageGroup_possibleConstructorReturn(r,t)}return BarrageGroup_inherits(BarrageComponents,e),BarrageComponents.prototype.handleNickNameClick=function handleNickNameClick(e){var t=e.getAttribute("data-uid"),r=Object(mc.j)(e,"Barrage-listItem"),i="";r&&(i=r.getAttribute("data-guid"));var n=js.a.get({type:1,guid:i,uid:t});this.chatUserCardService.showUserCard(MN({isVisible:!0},n))},BarrageComponents.prototype.achievementMedalClick=function achievementMedalClick(e){var t=e.getAttribute("data-achievementid")||0;t>0&&this.achievementService.showAchievementMedal(t)},BarrageComponents.prototype.render=function render(){return Ns.a.createElement("div",{className:"Barrage",__source:{fileName:zN,lineNumber:78},__self:this},Ns.a.createElement("div",{className:"Barrage-topFloater",__source:{fileName:zN,lineNumber:79},__self:this},Ns.a.createElement("ul",{className:"Barrage-topFloaterList",id:"js-floatingbarrage-container",onClick:this.handleFloaterClick,__source:{fileName:zN,lineNumber:80},__self:this}),Ns.a.createElement(BN,{__source:{fileName:zN,lineNumber:81},__self:this})),Ns.a.createElement(vN,{__source:{fileName:zN,lineNumber:83},__self:this}),Ns.a.createElement(ON,{__source:{fileName:zN,lineNumber:84},__self:this}))},BarrageComponents}(Ns.a.Component),RN=BarrageGroup_applyDecoratedDescriptor(kN.prototype,"chatUserCardService",[PN],{enumerable:!0,initializer:null}),TN=BarrageGroup_applyDecoratedDescriptor(kN.prototype,"achievementService",[jN],{enumerable:!0,initializer:null}),kN),HN=(r("d845f"),r("5ae9d"));r("a191e");function nobleReminderServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleReminderServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleReminderServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleReminderServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WN,VN,$N,KN,JN,qN,QN,YN,XN=n.a.Store,ZN=n.a.Service,eC=(LN=XN(),FN=ZN(b.DataCenter.acj),AN=function(e){function NobleReminderServices(){var t,r;!function nobleReminderServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleReminderServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleReminderServices_initDefineProp(r,"store",IN,r),nobleReminderServices_initDefineProp(r,"acj",xN,r),nobleReminderServices_possibleConstructorReturn(r,t)}return nobleReminderServices_inherits(NobleReminderServices,e),NobleReminderServices.prototype.init=function init(){var e=this;this.acj.get(dn.d.ROOM_DATA_OPENNOBLE).subscribe(function(){e.openNobleReminder(),e.updateNobleReminderType(1)})},NobleReminderServices.prototype.openNobleReminder=function openNobleReminder(){this.store.dispatch(Il.openNobleReminder(!0))},NobleReminderServices.prototype.closeNobleReminder=function closeNobleReminder(){this.store.dispatch(Il.openNobleReminder(!1))},NobleReminderServices.prototype.updateNobleReminderType=function updateNobleReminderType(e){this.store.dispatch(Il.updateNobleReminderType(e))},NobleReminderServices}(d.Service),IN=nobleReminderServices_applyDecoratedDescriptor(AN.prototype,"store",[LN],{enumerable:!0,initializer:null}),xN=nobleReminderServices_applyDecoratedDescriptor(AN.prototype,"acj",[FN],{enumerable:!0,initializer:null}),AN),tC=r("1c71f"),rC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},iC="/shark/live/src/pages/roomPage/playerAsideModule/components/TopItemRank/TopItemRank.js";function TopItemRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TopItemRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TopItemRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TopItemRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nC,aC,oC,lC,sC,cC=n.a.Service,uC=(WN=cC(b.DataCenter.global),VN=cC(eC),$N=cC(ws.a),Object(ee.log)((JN=function(e){function TopItemRank(){!function TopItemRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopItemRank);var t=function TopItemRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TopItemRank_initDefineProp(t,"global",qN,t),TopItemRank_initDefineProp(t,"nobleReminderService",QN,t),TopItemRank_initDefineProp(t,"userCardModuleService",YN,t),t.showUserCard=t.showUserCard.bind(t),t}return TopItemRank_inherits(TopItemRank,e),TopItemRank.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(0)},TopItemRank.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},TopItemRank.prototype.render=function render(){var e=this,t=this.props.data,r=this.props.index,i=this.props.defaultConfig,n=this.props.class,a=this.global.get("$SYS.avatar_url"),o="";return t.avatar&&(o=a+"upload/"+t.avatar+"_middle.jpg"),Ns.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem--top ChatRankWeek-listItem "+(n||""),__source:{fileName:iC,lineNumber:70},__self:this},Ns.a.createElement("span",{className:"ChatRankWeek-listItem--avatar",onClick:function onClick(r){e.showUserCard(r,rC({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:iC,lineNumber:72},__self:this},t.avatar?Ns.a.createElement("img",{src:o,__source:{fileName:iC,lineNumber:83},__self:this}):Ns.a.createElement("div",{className:"is-noSrc",__source:{fileName:iC,lineNumber:83},__self:this}),t.isShowInvisible?Ns.a.createElement("span",{className:"ChatRankWeek-invisibleHolder",__source:{fileName:iC,lineNumber:86},__self:this},Ns.a.createElement("span",{className:"ChatRankWeek-invisibleHolder--txt",__source:{fileName:iC,lineNumber:86},__self:this},"\u5df2\u9690\u8eab")):"",Ns.a.createElement("i",{className:"bg-icon ChatRankWeek-listItem--avatarBg",__source:{fileName:iC,lineNumber:89},__self:this})),Ns.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible||t.isShowInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,rC({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:iC,lineNumber:91},__self:this},t.nickName),t.nobleLevel>0?Ns.a.createElement(tC.a,{level:t.nobleLevel,__source:{fileName:iC,lineNumber:105},__self:this}):"",Ns.a.createElement(HN.a,{userLevel:+t.userLevel,__source:{fileName:iC,lineNumber:107},__self:this}),i.isFaceScore?Ns.a.createElement("span",{className:"ChatRankWeek-contributionValue ChatRankWeek-contributionValue--top",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:iC,lineNumber:110},__self:this},t.fgold,"\u8d21\u732e"):"")},TopItemRank}(Ns.a.Component),qN=TopItemRank_applyDecoratedDescriptor(JN.prototype,"global",[WN],{enumerable:!0,initializer:null}),QN=TopItemRank_applyDecoratedDescriptor(JN.prototype,"nobleReminderService",[VN],{enumerable:!0,initializer:null}),YN=TopItemRank_applyDecoratedDescriptor(JN.prototype,"userCardModuleService",[$N],{enumerable:!0,initializer:null}),KN=JN))||KN);function nobleVisibleServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleVisibleServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleVisibleServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleVisibleServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pC,fC,mC,dC,bC,hC,vC,gC,yC,_C=n.a.Store,SC=n.a.Service,NC=Si.a.socketStream,CC=(nC=SC(b.DataCenter.common),aC=_C(),oC=function(e){function NobleVisibleServices(){var t,r;!function nobleVisibleServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleVisibleServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleVisibleServices_initDefineProp(r,"common",lC,r),nobleVisibleServices_initDefineProp(r,"store",sC,r),nobleVisibleServices_possibleConstructorReturn(r,t)}return nobleVisibleServices_inherits(NobleVisibleServices,e),NobleVisibleServices.prototype.init=function init(){var e=this;this.isInit=!0,this.common.get("$DATA").subscribe(function(t){NC.subscribe("memberinfores",function(r){var i=0,n=parseInt(r.nl,10)||0;n&&(i=+t.get("room.nobleConfig["+n+"].top_list_hide")||0),e.store.dispatch(Zr.receiveHasInvisible(i)),i&&e.isInit&&(e.getInvisible(),e.isInit=!1)}),NC.subscribe("hide_status_change",function(t){2===+t.hide_type&&Object(Jc.timer)(1e3).subscribe(function(){e.updateVisible(+t.is_hide||0)})})})},NobleVisibleServices.prototype.getInvisible=function getInvisible(){this.store.dispatch(Zr.getNobleVisibleStatus())},NobleVisibleServices.prototype.setInvisible=function setInvisible(e){this.store.dispatch(Zr.setNobleVisibleStatus(e))},NobleVisibleServices.prototype.updateVisible=function updateVisible(e){this.store.dispatch(Zr.updateNobleVisibleStatus(e))},NobleVisibleServices}(d.Service),lC=nobleVisibleServices_applyDecoratedDescriptor(oC.prototype,"common",[nC],{enumerable:!0,initializer:null}),sC=nobleVisibleServices_applyDecoratedDescriptor(oC.prototype,"store",[aC],{enumerable:!0,initializer:null}),oC),wC=(r("61772"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),OC="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankWeek/ChatRankWeek.js";function ChatRankWeek_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankWeek_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankWeek_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankWeek_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var EC,DC,PC,jC,kC,RC,TC,BC,MC,zC,LC=o.a.encode,FC=Si.a.socketProxy,AC=n.a.Service,IC=(pC=AC(b.DataCenter.global),fC=AC(Ip),mC=AC(CC),dC=AC(ws.a),bC=function(e){function ChatRankWeek(){!function ChatRankWeek_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankWeek);var t=function ChatRankWeek_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankWeek_initDefineProp(t,"global",hC,t),ChatRankWeek_initDefineProp(t,"chatRankServices",vC,t),ChatRankWeek_initDefineProp(t,"nobleVisibleServices",gC,t),ChatRankWeek_initDefineProp(t,"userCardModuleService",yC,t),t.showUserCard=t.showUserCard.bind(t),t}return ChatRankWeek_inherits(ChatRankWeek,e),ChatRankWeek.prototype.componentWillMount=function componentWillMount(){this.nobleVisibleServices.init()},ChatRankWeek.prototype.checkRankAll=function checkRankAll(){if(this.chatRankServices.setDYSub("click_msg_sendlist_all"),1===this.props.isCloseMonthRank){var e={type:"sub",mt:LC(["umrtpgb"])};FC.sendMessage(e,qc.e.barrage)}this.chatRankServices.openRankAll()},ChatRankWeek.prototype.toggleInvisible=function toggleInvisible(){this.nobleVisibleServices.setInvisible()},ChatRankWeek.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},ChatRankWeek.prototype.render=function render(){var e=this,t=wC({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.isCloseMonthRank,a=this.props.weekRankList||[],o=this.props.defaultConfig,l=this.global.get("$SYS.avatar_url"),s=this.props.isCloseAllRank;return Ns.a.createElement("div",{className:"ChatRankWeek",name:"week",__source:{fileName:OC,lineNumber:100},__self:this},Ns.a.createElement("div",{className:"ChatRankWeek-headerContent "+(0===s&&0===n?"":"is-active"),__source:{fileName:OC,lineNumber:101},__self:this},Ns.a.createElement("span",{__source:{fileName:OC,lineNumber:102},__self:this},"\u70b9\u51fb\u53f3\u4fa7\u67e5\u770b\u8be6\u60c5"),Ns.a.createElement("a",{className:"ChatRankWeek-headerContent--link",onClick:function onClick(){return e.checkRankAll()},__source:{fileName:OC,lineNumber:103},__self:this},1===n?"\u8d21\u732e\u6708\u699c":"\u8d21\u732e\u603b\u699c",">")),Ns.a.createElement("ul",{className:"ChatRankWeek-listContent",__source:{fileName:OC,lineNumber:107},__self:this},a.length?a.map(function(t,r){return r<3?Ns.a.createElement(uC,{key:r+1,data:t,index:r,defaultConfig:o,__source:{fileName:OC,lineNumber:111},__self:e}):Ns.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem",__source:{fileName:OC,lineNumber:116},__self:e},Ns.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:OC,lineNumber:118},__self:e},r+1),+t.nobleLevel>0?Ns.a.createElement(tC.a,{level:t.nobleLevel,__source:{fileName:OC,lineNumber:120},__self:e}):"",t.isShowMedal?Ns.a.createElement(HN.a,{userLevel:+t.userLevel,__source:{fileName:OC,lineNumber:123},__self:e}):"",Ns.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,wC({},t,{avatar:l+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:OC,lineNumber:125},__self:e},t.isShowInvisible?Ns.a.createElement("span",{className:"r-nickname",__source:{fileName:OC,lineNumber:139},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),Ns.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:OC,lineNumber:142},__self:e}),o.isFaceScore?Ns.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:OC,lineNumber:145},__self:e},t.fgold,"\u8d21\u732e"):"")}):Ns.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:OC,lineNumber:151},__self:this})),Ns.a.createElement("div",{className:"ChatRankWeek-nobleInvisible "+(r?"is-active":""),__source:{fileName:OC,lineNumber:154},__self:this},Ns.a.createElement("div",{className:"ChatRankWeek-invisibleContent",__source:{fileName:OC,lineNumber:155},__self:this},Ns.a.createElement("div",{className:"ChatRankWeek-invisibleContent--title",__source:{fileName:OC,lineNumber:156},__self:this},"\u8d35\u65cf\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u699c\u5355\u533f\u540d\u5566~"),Ns.a.createElement("div",{className:"ChatRankWeek-invisibleContent--enter",__source:{fileName:OC,lineNumber:157},__self:this},Ns.a.createElement("span",{className:"ChatRankWeek-invisibleContent--enterTips",__source:{fileName:OC,lineNumber:158},__self:this},"\u8d21\u732e\u699c\u9690\u8eab"),Ns.a.createElement("span",{className:"ChatRankWeek-invisibleBtn ChatRankWeek-invisibleBtn--"+(i?"checked":"unchecked"),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:OC,lineNumber:159},__self:this},Ns.a.createElement("em",{__source:{fileName:OC,lineNumber:165},__self:this},Ns.a.createElement("input",{type:"checkbox",__source:{fileName:OC,lineNumber:166},__self:this}),Ns.a.createElement("span",{className:"ChatRankWeek-invisibleToggle",__source:{fileName:OC,lineNumber:167},__self:this})))))))},ChatRankWeek}(Ns.a.Component),hC=ChatRankWeek_applyDecoratedDescriptor(bC.prototype,"global",[pC],{enumerable:!0,initializer:null}),vC=ChatRankWeek_applyDecoratedDescriptor(bC.prototype,"chatRankServices",[fC],{enumerable:!0,initializer:null}),gC=ChatRankWeek_applyDecoratedDescriptor(bC.prototype,"nobleVisibleServices",[mC],{enumerable:!0,initializer:null}),yC=ChatRankWeek_applyDecoratedDescriptor(bC.prototype,"userCardModuleService",[dC],{enumerable:!0,initializer:null}),bC),xC=Object(yh.connect)(function mapStateToProps(e){return{weekRankList:e.chatRank.weekRankList,defaultConfig:e.chatRank.defaultConfig,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,isCloseAllRank:e.chatRank.isCloseAllRank,isCloseMonthRank:e.chatRank.isCloseMonthRank}})(IC);function NobleRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var GC,UC,HC,WC,VC=b.basicTypes.string,$C=b.basicTypes.mapping,KC=b.basicTypes.optional,JC=(EC=$C({uid:"uid",nickName:"nn",avatar:"icon",nobleLevel:"ne",userLevel:"lv",isShowSuperIcon:"sahf",groupId:"pg"}),Object(ee.log)(DC=EC((PC=function(e){function NobleRankDto(){var t,r;!function NobleRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleRankDto_initDefineProp(r,"uid",jC,r),NobleRankDto_initDefineProp(r,"nickName",kC,r),NobleRankDto_initDefineProp(r,"avatar",RC,r),NobleRankDto_initDefineProp(r,"nobleLevel",TC,r),NobleRankDto_initDefineProp(r,"userLevel",BC,r),NobleRankDto_initDefineProp(r,"groupId",MC,r),NobleRankDto_initDefineProp(r,"isShowSuperIcon",zC,r),NobleRankDto_possibleConstructorReturn(r,t)}return NobleRankDto_inherits(NobleRankDto,e),NobleRankDto}(b.EntityDto),jC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"uid",[KC,VC],{enumerable:!0,initializer:null}),kC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"nickName",[KC,VC],{enumerable:!0,initializer:null}),RC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"avatar",[KC,VC],{enumerable:!0,initializer:null}),TC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"nobleLevel",[KC,VC],{enumerable:!0,initializer:null}),BC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"userLevel",[KC,VC],{enumerable:!0,initializer:null}),MC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"groupId",[KC,VC],{enumerable:!0,initializer:null}),zC=NobleRankDto_applyDecoratedDescriptor(PC.prototype,"isShowSuperIcon",[KC,VC],{enumerable:!0,initializer:null}),DC=PC))||DC)||DC);function NobleNumListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleNumListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleNumListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleNumListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleNumListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qC,QC,YC,XC,ZC,ew,tw,rw=b.basicTypes.string,iw=b.basicTypes.mapping,nw=b.basicTypes.optional,aw=iw({count:"num",level:"lev"})((UC=function(e){function NobleNumlistDto(){var t,r;!function NobleNumListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNumlistDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleNumListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleNumListDto_initDefineProp(r,"count",HC,r),NobleNumListDto_initDefineProp(r,"level",WC,r),NobleNumListDto_possibleConstructorReturn(r,t)}return NobleNumListDto_inherits(NobleNumlistDto,e),NobleNumlistDto}(b.EntityDto),HC=NobleNumListDto_applyDecoratedDescriptor(UC.prototype,"count",[nw,rw],{enumerable:!0,initializer:null}),WC=NobleNumListDto_applyDecoratedDescriptor(UC.prototype,"level",[nw,rw],{enumerable:!0,initializer:null}),GC=UC))||GC,ow=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var lw,sw,cw,uw,pw,fw=n.a.Store,mw=n.a.Service,dw=Si.a.socketStream,bw=Si.a.socketProxy,hw=(qC=mw(b.DataCenter.common),QC=mw(zc.a),YC=fw(),XC=function(e){function NobleRankServices(){var t,r;!function nobleRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleRankServices_initDefineProp(r,"common",ZC,r),nobleRankServices_initDefineProp(r,"userRoleService",ew,r),nobleRankServices_initDefineProp(r,"store",tw,r),nobleRankServices_possibleConstructorReturn(r,t)}return nobleRankServices_inherits(NobleRankServices,e),NobleRankServices.prototype.init=function init(){var e=this;dw.subscribe("memberinfores",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=ow({},t),i=r.nl,n=r.npts,a=parseInt(i,10)||0,o=parseInt(n,10)||0,l=parseInt(t.try,10)||0;e.store.dispatch(eo.receiveIsRenew({nobleLevel:a,isInProtected:o,trial:l}))}),dw.subscribe("online_noble_list",function(t){var r=ow({},t).nl;if(r){var i=(Uf.a.isArray(r)?Uf.a.decode(r):[{value:r}]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value&&Uf.a.decode(t.value).too(),i=r||{},n=i.uid,a=i.pg,o=i.rg;return r&&e.userRoleService.setUserGroup(n,{pg:a,rg:o}),JC.fromJSON(r)});e.store.dispatch(eo.receiveNobleList(i))}else e.store.dispatch(eo.receiveNobleList([]))}),dw.subscribe("noble_num_info",function(t){var r=t.sum,i=t.list,n=t.ci,a=void 0===n?0:n;if(r>=0&&e.store.dispatch(eo.receiveNobleSum({num:r,ci:a})),r>=0&&i){var o=(Uf.a.isArray(i)?Uf.a.decode(i):[{value:i}]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return aw.fromJSON(e.value&&Uf.a.decode(e.value).too())});e.store.dispatch(eo.receiveNobleNumList({nobleNumList:o,ci:a}))}}),this.common.get("$DATA").subscribe(function(e){dw.subscribe("socket_ready",function(){bw.sendMessage({type:"get_online_noble_list",rid:e.get("room.room_id")})})})},NobleRankServices}(d.Service),ZC=nobleRankServices_applyDecoratedDescriptor(XC.prototype,"common",[qC],{enumerable:!0,initializer:null}),ew=nobleRankServices_applyDecoratedDescriptor(XC.prototype,"userRoleService",[QC],{enumerable:!0,initializer:null}),tw=nobleRankServices_applyDecoratedDescriptor(XC.prototype,"store",[YC],{enumerable:!0,initializer:null}),XC),vw=(r("d3dfa"),r("b5317"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),gw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankTips/index.js";function NobleRankTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var yw,_w,Sw,Nw,Cw,ww=n.a.Service,Ow=(lw=ww(b.DataCenter.common),sw=ww(Ds.a),cw=function(e){function NobleRankTips(){!function NobleRankTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankTips);var t=function NobleRankTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankTips_initDefineProp(t,"common",uw,t),NobleRankTips_initDefineProp(t,"nobleBuyModalService",pw,t),t.isRenew=0,t.state={userName:""},t.openNobleBuy=t.openNobleBuy.bind(t),t}return NobleRankTips_inherits(NobleRankTips,e),NobleRankTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({userName:t.get("room.owner_name")||""})})},NobleRankTips.prototype.openNobleBuy=function openNobleBuy(e){return Ts.a.check()?(this.isRenew?Object(pr.dysub)("click_msg_noble_renewal",{level:this.props.nobleData.nobleLevel}):Object(pr.dysub)("click_msg_noble_open"),this.nobleBuyModalService.openNobleBuyModal(),!0):(Ts.a.show(),e.preventDefault(),!1)},NobleRankTips.prototype.render=function render(){var e=this,t=this.state.userName,r=vw({},this.props.nobleData),i=r.nobleLevel,n=r.isInProtected,a=r.trial;return this.isRenew=(+i||+n)&&1!==a,this.isRenew?Ns.a.createElement("div",{className:"NobleRankTips",__source:{fileName:gw,lineNumber:65},__self:this},Ns.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:gw,lineNumber:66},__self:this},"\u7eed\u8d39\u8d35\u65cf\uff0c\u5c0a\u4eab\u8363\u8000\u7279\u6743"),"\xa0",Ns.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:gw,lineNumber:67},__self:this},"\u7eed\u8d39\u8d35\u65cf")):Ns.a.createElement("div",{className:"NobleRankTips",__source:{fileName:gw,lineNumber:75},__self:this},Ns.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:gw,lineNumber:76},__self:this},"\u652f\u6301",Ns.a.createElement("strong",{className:"NobleRankTips-userName",title:t,__source:{fileName:gw,lineNumber:78},__self:this},t),"\uff0c\u6210\u4e3a\u6597\u9c7c\u8d35\u65cf"),"\xa0",Ns.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:gw,lineNumber:85},__self:this},"\u5f00\u901a\u8d35\u65cf"))},NobleRankTips}(Ns.a.Component),uw=NobleRankTips_applyDecoratedDescriptor(cw.prototype,"common",[lw],{enumerable:!0,initializer:null}),pw=NobleRankTips_applyDecoratedDescriptor(cw.prototype,"nobleBuyModalService",[sw],{enumerable:!0,initializer:null}),cw),Ew=Object(yh.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(Ow),Dw=r("b1049"),Pw=r("c15bb"),jw=r.n(Pw),kw=(r("a86b3"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Rw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankList/NobleRankList.js";function NobleRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Tw=n.a.Service,Bw=(yw=Tw(b.DataCenter.global),_w=Tw(ws.a),Sw=function(e){function NobleRankList(){!function NobleRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankList);var t=function NobleRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankList_initDefineProp(t,"global",Nw,t),NobleRankList_initDefineProp(t,"userCardModuleService",Cw,t),t.showUserCard=t.showUserCard.bind(t),t}return NobleRankList_inherits(NobleRankList,e),NobleRankList.prototype.handlerData=function handlerData(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,20),t=e.length;return t>0&&t<3&&(t=3),Array.from({length:t}).map(function(t,r){var i=e[r];return i?(i.isReality=!0,i.icon=i.avatar?"//apic.douyucdn.cn/upload/"+i.avatar+"_middle.jpg":jw.a,i.userLevel>0?i.userLevel=i.userLevel>120?120:i.userLevel:i.userLevel=1):((i={}).isReality=!1,i.nickName="\u865a\u4f4d\u4ee5\u5f85",i.icon=jw.a),i})},NobleRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},NobleRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.userLevel,c=r.nobleLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:o,avatar:l,userLevel:s,nobleLevel:c})},NobleRankList.prototype.render=function render(){var e=this,t=this.handlerData(this.props.list);return t.length>0?Ns.a.createElement("ul",{className:"NobleRankList",__source:{fileName:Rw,lineNumber:104},__self:this},t.map(function(t,r){var i=kw({},t),n=i.nickName,a=void 0===n?"\u865a\u4f4d\u4ee5\u5f85":n,o=i.nobleLevel,l=i.icon;return r<3?Ns.a.createElement("li",{key:r,className:"NobleRankList-item NobleRankList-item--top  NobleRankList-item--"+e.conversion(r),onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:Rw,lineNumber:111},__self:e},Ns.a.createElement("span",{className:"NobleRankList-avatar NobleRankList-avatar--"+e.conversion(r),__source:{fileName:Rw,lineNumber:117},__self:e},Ns.a.createElement(Dw.a,{className:"NobleRankList-pic NobleRankList-pic--"+e.conversion(r),src:l,alt:a,defaultSrc:jw.a,__source:{fileName:Rw,lineNumber:119},__self:e})),Ns.a.createElement("span",{className:"NobleRankList-nickName NobleRankList-nickName--"+e.conversion(r),title:a,__source:{fileName:Rw,lineNumber:123},__self:e},a),o>0?Ns.a.createElement(tC.a,{level:o,type:"1",__source:{fileName:Rw,lineNumber:126},__self:e}):""):Ns.a.createElement("li",{key:r,className:"NobleRankList-item "+(3===r?"NobleRankList-item--fourth":""),__source:{fileName:Rw,lineNumber:132},__self:e},o>0?Ns.a.createElement(tC.a,{level:o,type:"1",__source:{fileName:Rw,lineNumber:134},__self:e}):"",Ns.a.createElement("span",{className:"NobleRankList-nickName",title:a,onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:Rw,lineNumber:135},__self:e},a))})):Ns.a.createElement("ul",{className:"NobleRankList",__source:{fileName:Rw,lineNumber:148},__self:this},Ns.a.createElement("div",{className:"NobleRankList-noresult",__source:{fileName:Rw,lineNumber:149},__self:this}))},NobleRankList}(Ns.a.Component),Nw=NobleRankList_applyDecoratedDescriptor(Sw.prototype,"global",[yw],{enumerable:!0,initializer:null}),Cw=NobleRankList_applyDecoratedDescriptor(Sw.prototype,"userCardModuleService",[_w],{enumerable:!0,initializer:null}),Sw),Mw=(r("d3112"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),zw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleListDetail/index.js";function NobleListDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleListDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Lw,Fw,Aw,Iw=b.DataCenter.global.get("$SYS.web_url"),xw=function(e){function NobleListDetail(){return function NobleListDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleListDetail),function NobleListDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleListDetail_inherits(NobleListDetail,e),NobleListDetail.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=Iw+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},NobleListDetail.prototype.render=function render(){var e=this,t=this.props.list,r=this.props.ci,i=this.generateFollowStyle(r),n=i.fontFamily,a=i.fontStyle;return Ns.a.createElement("div",{className:"NobleListDetail",__source:{fileName:zw,lineNumber:47},__self:this},Ns.a.createElement("style",{__source:{fileName:zw,lineNumber:48},__self:this},a),Ns.a.createElement("div",{className:"NobleListDetail-title",__source:{fileName:zw,lineNumber:49},__self:this},"\u672c\u623f\u95f4\u8385\u4e34",Ns.a.createElement("span",{className:"NobleListDetail-yellow",__source:{fileName:zw,lineNumber:49},__self:this},"\u8d35\u65cf\u4eba\u6570")),Ns.a.createElement("ul",{className:"NobleListDetail-rank",__source:{fileName:zw,lineNumber:50},__self:this},t.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=t.count>9999?{fontFamily:""}:n,a=t.count>9999?"9999+":t.count;return t.count>0?Ns.a.createElement("li",{key:r,className:"NobleListDetail-item",__source:{fileName:zw,lineNumber:58},__self:e},Ns.a.createElement(tC.a,{level:t.level,__source:{fileName:zw,lineNumber:59},__self:e}),Ns.a.createElement("span",{className:"NobleListDetail-count NobleListDetail-count--level"+t.level,style:Mw({},i),__source:{fileName:zw,lineNumber:60},__self:e},a)):""})))},NobleListDetail}(Ns.a.Component),Gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Uw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRank.js";function NobleRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Hw,Ww,Vw,$w,Kw,Jw,qw,Qw,Yw,Xw,Zw,eO,tO,rO=(Lw=(0,n.a.Service)(hw),Fw=function(e){function NobleRank(){var t,r;!function NobleRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleRankService",Aw,r),NobleRank_possibleConstructorReturn(r,t)}return NobleRank_inherits(NobleRank,e),NobleRank.prototype.componentDidMount=function componentDidMount(){this.nobleRankService.init()},NobleRank.prototype.render=function render(){var e=Gw({},this.props.nobleData),t=e.nobleList,r=void 0===t?[]:t,i=e.nobleNumList,n=void 0===i?[]:i,a=e.nobleNumListci,o=void 0===a?0:a;return Ns.a.createElement("div",{className:"NobleRank",__source:{fileName:Uw,lineNumber:30},__self:this},Ns.a.createElement(Ew,{__source:{fileName:Uw,lineNumber:31},__self:this}),Ns.a.createElement(Cs.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:328,hideTracksWhenNotNeeded:!0,__source:{fileName:Uw,lineNumber:32},__self:this},Ns.a.createElement(Bw,{list:r,__source:{fileName:Uw,lineNumber:33},__self:this}),r.length>=20&&n.length>0&&Ns.a.createElement(xw,{list:n,ci:o,__source:{fileName:Uw,lineNumber:36},__self:this})))},NobleRank}(Ns.a.Component),Aw=function NobleRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Fw.prototype,"nobleRankService",[Lw],{enumerable:!0,initializer:null}),Fw),iO=Object(yh.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(rO);function FansRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nO,aO,oO,lO,sO,cO,uO,pO,fO,mO=b.basicTypes.string,dO=b.basicTypes.mapping,bO=b.basicTypes.optional,hO=dO({uid:"uid",nickName:"nn",avatar:"ic",fansLevel:"bl",fansIntimacy:"fim",rankChange:"rc",isVisibility:"hd",isShowSuperIcon:"sahf",groupId:"pg",nobleLevel:"nl",userLevel:"lev"})((Ww=function(e){function NobleRankDto(){var t,r;!function FansRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),FansRankDto_initDefineProp(r,"uid",Vw,r),FansRankDto_initDefineProp(r,"nickName",$w,r),FansRankDto_initDefineProp(r,"avatar",Kw,r),FansRankDto_initDefineProp(r,"fansLevel",Jw,r),FansRankDto_initDefineProp(r,"fansIntimacy",qw,r),FansRankDto_initDefineProp(r,"rankChange",Qw,r),FansRankDto_initDefineProp(r,"isVisibility",Yw,r),FansRankDto_initDefineProp(r,"isShowSuperIcon",Xw,r),FansRankDto_initDefineProp(r,"groupId",Zw,r),FansRankDto_initDefineProp(r,"nobleLevel",eO,r),FansRankDto_initDefineProp(r,"userLevel",tO,r),FansRankDto_possibleConstructorReturn(r,t)}return FansRankDto_inherits(NobleRankDto,e),NobleRankDto}(b.EntityDto),Vw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"uid",[bO,mO],{enumerable:!0,initializer:null}),$w=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"nickName",[bO,mO],{enumerable:!0,initializer:null}),Kw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"avatar",[bO,mO],{enumerable:!0,initializer:null}),Jw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"fansLevel",[bO,mO],{enumerable:!0,initializer:null}),qw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"fansIntimacy",[bO,mO],{enumerable:!0,initializer:null}),Qw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"rankChange",[bO,mO],{enumerable:!0,initializer:null}),Yw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"isVisibility",[bO,mO],{enumerable:!0,initializer:null}),Xw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"isShowSuperIcon",[bO,mO],{enumerable:!0,initializer:null}),Zw=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"groupId",[bO,mO],{enumerable:!0,initializer:null}),eO=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"nobleLevel",[bO,mO],{enumerable:!0,initializer:null}),tO=FansRankDto_applyDecoratedDescriptor(Ww.prototype,"userLevel",[bO,mO],{enumerable:!0,initializer:null}),Hw=Ww))||Hw;function fansRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function fansRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fansRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function fansRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vO,gO,yO,_O,SO,NO=n.a.Store,CO=n.a.Service,wO=Si.a.socketStream,OO=o.a.decode,EO=(nO=CO(b.DataCenter.common),aO=CO(zc.a),oO=CO(si.a),lO=NO(),sO=function(e){function FansRankServices(){var t,r;!function fansRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fansRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),fansRankServices_initDefineProp(r,"common",cO,r),fansRankServices_initDefineProp(r,"userRoleService",uO,r),fansRankServices_initDefineProp(r,"chatSendService",pO,r),fansRankServices_initDefineProp(r,"store",fO,r),fansRankServices_possibleConstructorReturn(r,t)}return fansRankServices_inherits(FansRankServices,e),FansRankServices.prototype.init=function init(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.get("room.room_id");e.updateOpenFans(t.get("room.is_set_fans_badge")||0),wO.subscribe("blst",function(t){var i=t.list;i&&(i?OO(i):[]).map(function(t){var i=t?OO(t):{},n=i.rid,a=i.pos,o=i.bl,l=i.bnn;return+n===+r&&(e.store.dispatch(El.receiveHasRoomFansMedal(l)),e.store.dispatch(El.receiveOwnerFansRank(a)),e.store.dispatch(El.receiveOwnerMedaLevel(o)),e.chatSendService.fansSpeakCheck(!0)),i})})}),wO.subscribe("fswrank",function(t){var r=t.list,i=t.bnn;if(r){var n=r.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),hO.fromJSON(t)});e.store.dispatch(El.receiveFansList(n))}i&&e.store.dispatch(El.receiveRoomFansMedal(i))}),wO.subscribe("frank",function(t){var r=t.fc,i=t.list,n=t.bnn,a=t.ci,o=void 0===a?0:a;if(i){var l=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),hO.fromJSON(t)});e.store.dispatch(El.receiveFansAllList(l))}r&&e.store.dispatch(El.receiveFansSum({fc:r,ci:o})),n&&e.store.dispatch(El.receiveRoomFansMedal(n))}),wO.subscribe("ru",function(t){var r=t.pos;r>0&&e.store.dispatch(El.receiveOwnerFansRank(r))}),wO.subscribe("gbi",function(t){var r=t.bl;r&&e.store.dispatch(El.receiveOwnerMedaLevel(r)),e.chatSendService.fansSpeakCheck(!0)}),wO.subscribe("synfim",function(t){var r=t.bl;r&&e.store.dispatch(El.receiveOwnerMedaLevel(r))})},FansRankServices.prototype.updateOpenFans=function updateOpenFans(e){this.store.dispatch(El.updateOpenFans(e))},FansRankServices.prototype.toggleFansRankAll=function toggleFansRankAll(e){this.store.dispatch(El.toggleFansRankAll(e))},FansRankServices}(d.Service),cO=fansRankServices_applyDecoratedDescriptor(sO.prototype,"common",[nO],{enumerable:!0,initializer:null}),uO=fansRankServices_applyDecoratedDescriptor(sO.prototype,"userRoleService",[aO],{enumerable:!0,initializer:null}),pO=fansRankServices_applyDecoratedDescriptor(sO.prototype,"chatSendService",[oO],{enumerable:!0,initializer:null}),fO=fansRankServices_applyDecoratedDescriptor(sO.prototype,"store",[lO],{enumerable:!0,initializer:null}),sO),DO=(r("a568c"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankTitle/FansRankTitle.js");function FansRankTitle_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankTitle_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankTitle_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankTitle_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var PO,jO,kO,RO,TO,BO,MO,zO=n.a.Service,LO=(vO=zO(b.DataCenter.global),gO=zO(EO),yO=function(e){function FansRankTitle(){!function FansRankTitle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankTitle);var t=function FansRankTitle_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankTitle_initDefineProp(t,"global",_O,t),FansRankTitle_initDefineProp(t,"fansRankService",SO,t),t.showFansRankAll=t.showFansRankAll.bind(t),t}return FansRankTitle_inherits(FansRankTitle,e),FansRankTitle.prototype.showFansRankAll=function showFansRankAll(){this.fansRankService.toggleFansRankAll(!0)},FansRankTitle.prototype.render=function render(){return Ns.a.createElement("div",{className:"FansRankInfo clearfix",__source:{fileName:DO,lineNumber:31},__self:this},Ns.a.createElement("span",{className:"FansRankInfo-txt",__source:{fileName:DO,lineNumber:32},__self:this},"\u6309\u8fd17\u5929\u4eb2\u5bc6\u5ea6\u4e0a\u5347\u6392\u884c"),Ns.a.createElement("span",{className:"FansRankInfo-btn",onClick:this.showFansRankAll,__source:{fileName:DO,lineNumber:33},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u603b\u699c >"))},FansRankTitle}(Ns.a.Component),_O=FansRankTitle_applyDecoratedDescriptor(yO.prototype,"global",[vO],{enumerable:!0,initializer:null}),SO=FansRankTitle_applyDecoratedDescriptor(yO.prototype,"fansRankService",[gO],{enumerable:!0,initializer:null}),yO),FO=Object(yh.connect)(function mapStateProps(e){return{hasRoomFansMedal:e.getFansRank.hasRoomFansMedal}})(LO),AO=r("35516"),IO=r("fe6e7"),xO=r.n(IO),GO=(r("43fdc"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),UO="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankList/FansRankList.js";function FansRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var HO,WO,VO,$O=n.a.Service,KO=(PO=$O(b.DataCenter.global),jO=$O(b.DataCenter.common),kO=$O(ws.a),RO=function(e){function FansRankList(){!function FansRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankList);var t=function FansRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankList_initDefineProp(t,"global",TO,t),FansRankList_initDefineProp(t,"common",BO,t),FansRankList_initDefineProp(t,"userCardModuleService",MO,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankList_inherits(FansRankList,e),FansRankList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":xO.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.fim=parseInt(n.fansIntimacy/100,10)||"--",n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=xO.a),n})},FansRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankList);return a.length>0?Ns.a.createElement("ul",{className:"FansRankList",__source:{fileName:UO,lineNumber:132},__self:this},a.map(function(a,o){var l=GO({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=l.fim,f=l.rankChange,m=GO({},a),d=m.isVisibility,b=m.isOwn;return!d||d&&(b||i||n)?Ns.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:UO,lineNumber:142},__self:e},Ns.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:UO,lineNumber:144},__self:e},o+1),o<3?Ns.a.createElement(Dw.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:xO.a,__source:{fileName:UO,lineNumber:148},__self:e}):"",Ns.a.createElement("a",{className:"FansRankList-nickName "+(d?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,GO({},a,{fansMedal:t,nickName:d?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:UO,lineNumber:153},__self:e},d?s+"\uff08\u5df2\u9690\u8eab\uff09":s),Ns.a.createElement(AO.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:UO,lineNumber:166},__self:e}),Ns.a.createElement("span",{className:"FansRankList-intimacy",__source:{fileName:UO,lineNumber:168},__self:e},p),Ns.a.createElement("span",{className:"FansRankList-status FansRankList-status--"+(f+1),__source:{fileName:UO,lineNumber:169},__self:e})):Ns.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:UO,lineNumber:176},__self:e},Ns.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:UO,lineNumber:178},__self:e},o+1),o<3?Ns.a.createElement(Dw.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:xO.a,__source:{fileName:UO,lineNumber:182},__self:e}):"",Ns.a.createElement("a",{className:"FansRankList-nickName "+(d?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,GO({},a,{fansMedal:t,nickName:d?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:UO,lineNumber:188},__self:e},s))})):Ns.a.createElement("ul",{className:"FansRankList",__source:{fileName:UO,lineNumber:209},__self:this},Ns.a.createElement("div",{className:this.props.isOpenFans?"FansRankList-noresulet":"FansRankList-unopened",__source:{fileName:UO,lineNumber:210},__self:this}))},FansRankList}(Ns.a.Component),TO=FansRankList_applyDecoratedDescriptor(RO.prototype,"global",[PO],{enumerable:!0,initializer:null}),BO=FansRankList_applyDecoratedDescriptor(RO.prototype,"common",[jO],{enumerable:!0,initializer:null}),MO=FansRankList_applyDecoratedDescriptor(RO.prototype,"userCardModuleService",[kO],{enumerable:!0,initializer:null}),RO),JO=Object(yh.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansRankList:e.getFansRank.fansRankList,roomFansMedal:e.getFansRank.roomFansMedal}})(KO),qO=(r("7719b"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),QO="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankBottom/FansRankBottom.js";function FansRankBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var YO,XO,ZO,eE=n.a.Service,tE=b.DataCenter.global.get("$SYS.web_url"),rE=(HO=eE(CC),WO=function(e){function FansRankBottom(){var t,r;!function FansRankBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankBottom);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRankBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"NobleVisibleService",VO,r),FansRankBottom_possibleConstructorReturn(r,t)}return FansRankBottom_inherits(FansRankBottom,e),FansRankBottom.prototype.toggleInvisible=function toggleInvisible(){this.NobleVisibleService.setInvisible("fans")},FansRankBottom.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=tE+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},FansRankBottom.prototype.render=function render(){var e=this,t=qO({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.fansSum,a=void 0===n?"--":n,o=this.props.fansSumCi,l=this.generateFollowStyle(o),s=l.fontFamily,c=l.fontStyle;return Ns.a.createElement("div",{className:"FansRankBottom",__source:{fileName:QO,lineNumber:54},__self:this},Ns.a.createElement("style",{__source:{fileName:QO,lineNumber:55},__self:this},c),Ns.a.createElement("div",{className:"FansRankBottom-total",__source:{fileName:QO,lineNumber:56},__self:this},"\u7c89\u4e1d\u603b\u4eba\u6570\uff1a",Ns.a.createElement("span",{className:"FansRankBottom-yellow",style:qO({},s),__source:{fileName:QO,lineNumber:56},__self:this},a)),r?Ns.a.createElement("div",{className:"FansRankBottom-invisible",__source:{fileName:QO,lineNumber:60},__self:this},Ns.a.createElement("div",{className:"FansRankBottom-invisibleTxt",__source:{fileName:QO,lineNumber:61},__self:this},"\u7c89\u4e1d\u699c\u5355\u9690\u8eab"),Ns.a.createElement("label",{className:"FansRankBottom-invisibleBtn "+(i?"is-invisible":""),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:QO,lineNumber:62},__self:this},Ns.a.createElement("div",{className:"FansRankBottom-iconWrap",__source:{fileName:QO,lineNumber:67},__self:this},Ns.a.createElement("input",{type:"checkbox",className:"FansRankBottom-checkbox",__source:{fileName:QO,lineNumber:68},__self:this}),Ns.a.createElement("span",{className:"FansRankBottom-invisibleBtnIcon "+(i?"is-invisible":""),__source:{fileName:QO,lineNumber:69},__self:this})))):"")},FansRankBottom}(Ns.a.Component),VO=function FansRankBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(WO.prototype,"NobleVisibleService",[HO],{enumerable:!0,initializer:null}),WO),iE=Object(yh.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,fansSum:e.getFansRank.fansSum,fansSumCi:e.getFansRank.fansSumCi}})(rE),nE=(r("4d960"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRank.js");function FansRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var aE,oE=(YO=(0,n.a.Service)(EO),XO=function(e){function FansRank(){var t,r;!function FansRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"fansRankService",ZO,r),FansRank_possibleConstructorReturn(r,t)}return FansRank_inherits(FansRank,e),FansRank.prototype.componentDidMount=function componentDidMount(){this.fansRankService.init()},FansRank.prototype.render=function render(){var e=this.props.isOpenFans,t=this.props.fansSum;return Ns.a.createElement("div",{className:"FansRank",__source:{fileName:nE,lineNumber:31},__self:this},Ns.a.createElement(FO,{__source:{fileName:nE,lineNumber:32},__self:this}),Ns.a.createElement(Cs.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:388,hideTracksWhenNotNeeded:!0,__source:{fileName:nE,lineNumber:33},__self:this},Ns.a.createElement(JO,{__source:{fileName:nE,lineNumber:34},__self:this})),e&&t>0?Ns.a.createElement(iE,{__source:{fileName:nE,lineNumber:37},__self:this}):"")},FansRank}(Ns.a.Component),ZO=function FansRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(XO.prototype,"fansRankService",[YO],{enumerable:!0,initializer:null}),XO),lE=Object(yh.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansSum:e.getFansRank.fansSum}})(oE),sE=(r("89356"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatTabContainer/ChatTabContainer.js");function ChatTabContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatTabContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var cE,uE,pE,fE,mE,dE,bE,hE,vE,gE,yE=Object(ee.log)(aE=function(e){function ChatTabContainer(){!function ChatTabContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatTabContainer);var t=function ChatTabContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={currentIndex:0},t}return ChatTabContainer_inherits(ChatTabContainer,e),ChatTabContainer.prototype.setShowName=function setShowName(e){return e===this.state.currentIndex?"is-active":""},ChatTabContainer.prototype.setStyle=function setStyle(e){this.props.getIsExtend(e)},ChatTabContainer.prototype.render=function render(){var e=this;return Ns.a.createElement("div",{className:"ChatTabContainer",__source:{fileName:sE,lineNumber:30},__self:this},Ns.a.createElement("div",{className:"ChatTabContainer-titleWraper",__source:{fileName:sE,lineNumber:31},__self:this},Ns.a.createElement("ul",{className:"ChatTabContainer-titleWraper--tabTitle",__source:{fileName:sE,lineNumber:32},__self:this},Ns.a.Children.map(this.props.children,function(t,r){return 0===r&&Ns.a.Children.map(t.props.children,function(t,r){return Ns.a.createElement("li",{onClick:function onClick(){e.setState({currentIndex:r})},className:e.setShowName(r)+" ChatTabContainer-titleWraper--tabLi",__source:{fileName:sE,lineNumber:37},__self:e},t)})}))),Ns.a.createElement("div",{className:"ChatTabContainer-conWraper",__source:{fileName:sE,lineNumber:52},__self:this},Ns.a.Children.map(this.props.children,function(t,r){return 1===r&&Ns.a.Children.map(t.props.children,function(t,r){return Ns.a.createElement("div",{className:"ChatTabContainer-content "+e.setShowName(r),onMouseEnter:e.setStyle.bind(e,!0),onMouseLeave:e.setStyle.bind(e,!1),__source:{fileName:sE,lineNumber:57},__self:e},t)})})))},ChatTabContainer}(Ns.a.Component))||aE,_E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},SE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRank/ChatRank.js";function ChatRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var NE=b.DataCenter.global,CE=n.a.Service,wE=n.a.Store,OE=NE.get("$SYS.web_url"),EE=(cE=CE(Ip),uE=CE(CC),pE=CE(m.a),fE=wE(),Object(ee.log)((dE=function(e){function ChatRank(){!function ChatRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRank);var t=function ChatRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRank_initDefineProp(t,"chatRankServices",bE,t),ChatRank_initDefineProp(t,"nobleVisibleServices",hE,t),ChatRank_initDefineProp(t,"medalOperatServices",vE,t),ChatRank_initDefineProp(t,"store",gE,t),t.fansAction=t.fansAction.bind(t),t.weekAction=t.weekAction.bind(t),t.getIsExtend=t.getIsExtend.bind(t),t.state={isEnter:!1},t}return ChatRank_inherits(ChatRank,e),ChatRank.prototype.componentWillMount=function componentWillMount(){this.chatRankServices.initSocket(),this.nobleVisibleServices.init()},ChatRank.prototype.weekAction=function weekAction(){var e=this.store.getState().userRoleData.isAnchor?1:0;Object(pr.dysub)("click_msg_sendlist_wk",{is_anch:e})},ChatRank.prototype.fansAction=function fansAction(){var e=this.medalOperatServices.returnFansMedalStatus();Object(pr.dysub)("click_msg_fans",e)},ChatRank.prototype.getIsExtend=function getIsExtend(e){this.setState({isEnter:e})},ChatRank.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=OE+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},ChatRank.prototype.render=function render(){var e=this.props.getNoble.nobleSum,t=this.props.getNoble.nobleSumCi,r=this.generateFollowStyle(t),i=r.fontFamily,n=r.fontStyle,a=e>9999?{fontFamily:""}:i;return Ns.a.createElement("div",{className:"ChatRank",__source:{fileName:SE,lineNumber:97},__self:this},Ns.a.createElement("div",{className:"ChatRank-rankWraper "+(this.state.isEnter?"is-enter":""),__source:{fileName:SE,lineNumber:98},__self:this},Ns.a.createElement("style",{__source:{fileName:SE,lineNumber:99},__self:this},n),Ns.a.createElement(yE,{getIsExtend:this.getIsExtend,__source:{fileName:SE,lineNumber:100},__self:this},Ns.a.createElement("div",{className:"ChatTabContainer-titleContent",__source:{fileName:SE,lineNumber:101},__self:this},Ns.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.weekAction,__source:{fileName:SE,lineNumber:102},__self:this},"\u8d21\u732e\u5468\u699c"),Ns.a.createElement("div",{className:"ChatRank-tabTitle",onClick:Object(pr.dys)("click_msg_noble"),__source:{fileName:SE,lineNumber:103},__self:this},"\u8d35\u65cf(",Ns.a.createElement("em",{style:_E({},a),__source:{fileName:SE,lineNumber:104},__self:this},e>9999?"9999+":e),")"),Ns.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.fansAction,__source:{fileName:SE,lineNumber:106},__self:this},"\u7c89\u4e1d\u56e2")),Ns.a.createElement("div",{className:"ChatTabContainer-mainContent",__source:{fileName:SE,lineNumber:108},__self:this},Ns.a.createElement(xC,{title:"\u8d21\u732e\u5468\u699c",__source:{fileName:SE,lineNumber:110},__self:this}),Ns.a.createElement(iO,{title:"\u8d35\u65cf",__source:{fileName:SE,lineNumber:112},__self:this}),Ns.a.createElement(lE,{title:"\u7c89\u4e1d\u56e2",__source:{fileName:SE,lineNumber:114},__self:this})))))},ChatRank}(Ns.a.Component),bE=ChatRank_applyDecoratedDescriptor(dE.prototype,"chatRankServices",[cE],{enumerable:!0,initializer:null}),hE=ChatRank_applyDecoratedDescriptor(dE.prototype,"nobleVisibleServices",[uE],{enumerable:!0,initializer:null}),vE=ChatRank_applyDecoratedDescriptor(dE.prototype,"medalOperatServices",[pE],{enumerable:!0,initializer:null}),gE=ChatRank_applyDecoratedDescriptor(dE.prototype,"store",[fE],{enumerable:!0,initializer:null}),mE=dE))||mE);EE.propTypes={weekRankList:gh.a.arrayOf(gh.a.shape({}))};var DE,PE,jE=Object(yh.connect)(function mapStateToProps(e){return{userRole:e.chatRank.userRole,defaultConfig:e.chatRank.defaultConfig,getNoble:e.getNoble}})(EE),kE=(r("e8231"),r("70921"),r("4dcd2"),r("e18f1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),RE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/MuteStatus/MuteStatus.js";function MuteStatus_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MuteStatus_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var TE,BE,ME,zE,LE,FE,AE,IE,xE,GE=(DE=Object(pr.dys)("click_msg_login"),function MuteStatus_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((PE=function(e){function MuteStatus(){!function MuteStatus_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MuteStatus);var t=function MuteStatus_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.showLogin=t.showLogin.bind(t),t}return MuteStatus_inherits(MuteStatus,e),MuteStatus.prototype.showLogin=function showLogin(){Ts.a.show("login")},MuteStatus.prototype.render=function render(){var e=kE({},this.props),t=e.status,r=e.muteType,i=e.muteTime,n=bo.a.formatDate(new Date(1e3*i),"yyyy-MM-dd hh:mm:ss");switch(t){case 1:return Ns.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:RE,lineNumber:32},__self:this},Ns.a.createElement("span",{className:"MuteStatus-isLog",onClick:this.showLogin,__source:{fileName:RE,lineNumber:32},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8");case 2:return Ns.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:RE,lineNumber:35},__self:this},Ns.a.createElement("a",{className:"MuteStatus-isLog",href:"/member/cp#phone",target:"_blank",onMouseDown:Object(pr.dys)("click_msg_testphone"),__source:{fileName:RE,lineNumber:35},__self:this},"\u9a8c\u8bc1\u624b\u673a\u53f7"),"\u5373\u53ef\u53d1\u9001\u5f39\u5e55\uff01");case 3:return Ns.a.createElement("div",{className:"MuteStatus is-mute",__source:{fileName:RE,lineNumber:40},__self:this},"\u60a8\u5df2\u88ab",["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r-1],"\u7981\u8a00\u3002",Ns.a.createElement("span",{className:"MuteStatus-isMuteType",__source:{fileName:RE,lineNumber:40},__self:this},"\u7981\u8a00\u7c7b\u578b\uff1a0",r),Ns.a.createElement("br",{__source:{fileName:RE,lineNumber:41},__self:this}),"\u89e3\u7981\u65f6\u95f4:",n,Ns.a.createElement("a",{className:"MuteStatus-isMuteKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:RE,lineNumber:41},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"));case 4:return Ns.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:RE,lineNumber:45},__self:this},"\u60f3\u548c\u4e3b\u64ad\u804a\u5929\uff0c\u5148\u529e\u5361\u5427\uff01");default:return Ns.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:RE,lineNumber:47},__self:this},Ns.a.createElement("span",{className:"MuteStatus-isLog",__source:{fileName:RE,lineNumber:47},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8")}},MuteStatus}(Ns.a.Component)).prototype,"showLogin",[DE],Object.getOwnPropertyDescriptor(PE.prototype,"showLogin"),PE.prototype),PE),UE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},HE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/ChatSend.js";function ChatSend_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatSend_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSend_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatSend_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WE,VE,$E,KE=n.a.Service,JE=n.a.Store,qE="\uff1a",QE=void 0,YE=(TE=KE(si.a),BE=KE(Vn.a),ME=KE(ks.a),zE=JE(),LE=function(e){function ChatSend(){!function ChatSend_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSend);var t=function ChatSend_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatSend_initDefineProp(t,"chatSendServices",FE,t),ChatSend_initDefineProp(t,"chatRoleBarrageService",AE,t),ChatSend_initDefineProp(t,"matchSystemServices",IE,t),ChatSend_initDefineProp(t,"store",xE,t),t.getCaretInfo=function(e){var r=t.props.selectedRole.name.length+1,i=t.chatSendServices.trim(e.target.value);return{value:i,length:i.length,cursorPosition:t.chatRoleBarrageService.getCursorPosition(e.target),threshold:r}},t.moveCursorPosition=function(e){if(t.props.selectedRole){var r=t.getCaretInfo(e),i=r.length,n=r.threshold;r.cursorPosition.start<n&&t.chatRoleBarrageService.setCursorPosition(t.sendContent,i,i),t.move()}else t.move()},t.roleBarrageEdit=function(e){var r=t.props.selectedRole;if(r){var i=t.getCaretInfo(e),n=i.value,a=i.length,o=i.threshold,l=i.cursorPosition,s=function clearEditor(){if(8===e.which||13===e.which){if(e.preventDefault(),a===o)return t.sendContent.value="",void t.chatRoleBarrageService.clearRoleBarrage();8===e.which?(t.sendContent.value=n.split(r.name+qE)[1]||"",t.chatRoleBarrageService.clearRoleBarrage()):13===e.which&&t.chatSendServices.sendRoleMsg(r)}};l.start<o&&(e.preventDefault(),229===e.which&&(t.sendContent.value=n,t.chatRoleBarrageService.setCursorPosition(t.sendContent,a,a)),s()),l.start===o&&s(),t.move()}else t.move()},t.getFirePowerPlaceHolder=function(){var e=t.props.firePowerData;return(void 0===e?{}:e).title||"\u53d1\u9001\u4efb\u610f\u5f39\u5e55\u53ef\u53c2\u4e0e\u6d3b\u52a8"},t.state={cdTime:0},t.send=t.send.bind(t),t.enterSend=t.enterSend.bind(t),t.checkLength=t.checkLength.bind(t),t.move=t.move.bind(t),t}return ChatSend_inherits(ChatSend,e),ChatSend.prototype.checkLength=function checkLength(e){var t=e.target,r=this.maxLength;t.value.length>=r&&(t.value=t.value.substr(0,r))},ChatSend.prototype.move=function move(){if(this.props.fansColor?this.sendContent.style.color=this.props.fansColor:this.sendContent.style.color=this.chatSendServices.defval,this.matchSystemServices.checkMatchSystem()){var e=this.matchSystemServices.getCurrentSelectColor();this.sendContent.style.color=e}if(document.selection){var t=document.selection.createRange(),r=document.body.createTextRange(),i=0;for(r.moveToElementText(this.sendContent);r.compareEndPoints("StartToStart",t)<0;i++)r.moveStart("character",1);this.chatSendServices.cursorPosition=i}else this.chatSendServices.cursorPosition=this.sendContent.selectionStart},ChatSend.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.timer&&this.timer.unsubscribe(),this.timer=Object(Jc.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.timer.unsubscribe()})):this.setState({cdTime:0})},ChatSend.prototype.send=function send(e){e.preventDefault();var t=this.props.selectedRole;if(t)this.chatSendServices.sendRoleMsg(t);else{this.chatSendServices.sendMsg();var r=this.props.firePowerData,i=void 0===r?{}:r,n=i.isOnfire,a=i.joinCondition;n&&a&&Object(pr.dysub2)({action_code:"11010020D006",event_id:1,type:1})}},ChatSend.prototype.enterSend=function enterSend(e){var t=this.props.selectedRole;if(13===e.which){if(e.preventDefault(),t)return void this.chatSendServices.sendRoleMsg(t);this.chatSendServices.sendMsg()}},ChatSend.prototype.init=function init(){var e=this;this.chatSendServices.intervalStream.subscribe(function(t){e.interval(t)}),this.chatSendServices.initSocket()},ChatSend.prototype.componentDidMount=function componentDidMount(){this.init()},ChatSend.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,r=e.selectedRole;if(null===r){if(QE){var i=this.sendContent.value.split(QE.name+qE);this.sendContent.value=i[1]||i[0]||""}QE=null}if(r){var n=this.sendContent.value.split(qE),a=void 0;a=QE?n[1]||"":this.sendContent.value||"",QE=r,this.sendContent.value=r.name+"\uff1a"+a,setTimeout(function(){t.sendContent.focus(),t.chatRoleBarrageService.setCursorPosition(t.sendContent,t.sendContent.value.length,t.sendContent.value.length)},50)}},ChatSend.prototype.render=function render(){var e=this,t=UE({},this.props.chatSendData),r=t.dataError,i=t.status,n=t.danmuPkStatus,a=this.props.firePowerData,o=void 0===a?{}:a,l=o.isOnfire,s=o.joinCondition,c=this.state.cdTime;return Ns.a.createElement("div",{className:"ChatSend",__source:{fileName:HE,lineNumber:300},__self:this},Ns.a.createElement("textarea",{className:"ChatSend-txt "+(n?"ChatSend-danmuPkTxt":""),placeholder:l&&s?this.getFirePowerPlaceHolder():this.chatSendServices.placeholder,maxLength:this.chatSendServices.maxLength,ref:function ref(t){e.sendContent=t},onBlur:function onBlur(t){""===t.target.value&&(t.target.style.color=e.chatSendServices.defval)},onInput:this.checkLength,onKeyPress:this.enterSend,onKeyDown:this.roleBarrageEdit,onClick:this.moveCursorPosition,onFocus:this.moveCursorPosition,onKeyUp:this.moveCursorPosition,onCompositionStartCapture:this.moveCursorPosition,style:{color:this.chatSendServices.defval},__source:{fileName:HE,lineNumber:301},__self:this}),i>0?Ns.a.createElement(GE,UE({},this.props.chatSendData,{__source:{fileName:HE,lineNumber:324},__self:this})):"",Ns.a.createElement("div",{className:"ChatSend-button "+(i>0||c>0||r?"is-gray":""),ref:function ref(t){e.sendButton=t},onClick:this.send,__source:{fileName:HE,lineNumber:325},__self:this},c>0&&0===i?c:l&&s?"\u5f00\u706b":"\u53d1\u9001"))},ChatSend}(Ns.a.Component),FE=ChatSend_applyDecoratedDescriptor(LE.prototype,"chatSendServices",[TE],{enumerable:!0,initializer:null}),AE=ChatSend_applyDecoratedDescriptor(LE.prototype,"chatRoleBarrageService",[BE],{enumerable:!0,initializer:null}),IE=ChatSend_applyDecoratedDescriptor(LE.prototype,"matchSystemServices",[ME],{enumerable:!0,initializer:null}),xE=ChatSend_applyDecoratedDescriptor(LE.prototype,"store",[zE],{enumerable:!0,initializer:null}),LE),XE=Object(yh.connect)(function mapStateToProps(e){return{chatSendData:e.chatSendData,fansColor:e.chatToolBar.colorValue,selectedRole:e.chatRoleBarrageData.selectedRole,currentSelectColorId:e.matchSystemData.currentSelectColorId,firePowerData:e.firePowerData}})(YE),ZE=(r("89892"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalListItem/MedalListItem.js");function MedalListItem_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListItem_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListItem_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var eD=(WE=(0,n.a.Service)(m.a),VE=function(e){function MedalListItem(){var t,r;!function MedalListItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListItem_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalListItem_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",$E,r),MedalListItem_possibleConstructorReturn(r,t)}return MedalListItem_inherits(MedalListItem,e),MedalListItem.prototype.render=function render(){var e=this.props,t=e.medalData,r=e.wareStatus,i=e.wareMedalId,n=e.medalOperation,a=e.isCurRoom,o="/"+t.medalRid;return Ns.a.createElement("div",{key:t.medalRid,className:["FansMedalList-item",a?"is-curRoom":"",2===r&&t.medalRid===i?"is-checked":""].join(" "),onClick:function onClick(e){n({wareMedalId:t.medalRid,wareStatus:1}),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},__source:{fileName:ZE,lineNumber:23},__self:this},Ns.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:ZE,lineNumber:40},__self:this}),Ns.a.createElement("div",{className:"FansMedalPanel-medal",__source:{fileName:ZE,lineNumber:41},__self:this},Ns.a.createElement(AO.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:ZE,lineNumber:42},__self:this})),Ns.a.createElement("h5",{className:"FansMedalList-anchorName",title:t.anchorNick||"\u4e3b\u64ad\u6635\u79f0",__source:{fileName:ZE,lineNumber:51},__self:this},t.anchorNick||"\u4e3b\u64ad\u6635\u79f0"),Ns.a.createElement("div",{className:"FansMedalList-valueInfo",__source:{fileName:ZE,lineNumber:54},__self:this},Ns.a.createElement("p",{className:"FansMedalList-expValue",__source:{fileName:ZE,lineNumber:55},__self:this},Ns.a.createElement("i",{className:"FansMedalList-expIcon",__source:{fileName:ZE,lineNumber:56},__self:this}),Ns.a.createElement("span",{__source:{fileName:ZE,lineNumber:57},__self:this},t.todayExp>=0?"+":"",t.todayExp))),Ns.a.createElement("a",{target:"_blank",href:o,className:["FansMedalList-liveStatus",t.isLive?"":"is-notLive"].join(" "),__source:{fileName:ZE,lineNumber:65},__self:this},Ns.a.createElement("i",{className:"FansMedalList-liveIcon",__source:{fileName:ZE,lineNumber:73},__self:this}),Ns.a.createElement("span",{__source:{fileName:ZE,lineNumber:74},__self:this},t.isLive?"\u76f4\u64ad\u4e2d":"\u672a\u5f00\u64ad")))},MedalListItem}(Ns.a.Component),$E=function MedalListItem_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(VE.prototype,"medalOperatServices",[WE],{enumerable:!0,initializer:null}),VE),tD="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalList.js";function MedalList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rD,iD,nD,aD=function(e){function ChatMsgMedalList(){return function MedalList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalList),function MedalList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MedalList_inherits(ChatMsgMedalList,e),ChatMsgMedalList.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalList.prototype.renderMedalList=function renderMedalList(e){var t=this;return(e.medalList||[]).filter(function(t){return t.medalRid!==e.ownerRoomId}).slice(0,5).map(function(r){return Ns.a.createElement(eD,{key:r.medalRid,medalData:r,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:t.medalOperation,__source:{fileName:tD,lineNumber:17},__self:t})})},ChatMsgMedalList.prototype.render=function render(){var e=this,t=this.props.medalListMsgData;return Ns.a.createElement("div",{className:"FansMedalList",__source:{fileName:tD,lineNumber:31},__self:this},this.renderMedalList(t),Ns.a.createElement("div",{className:["FansMedalList-item","is-NoWear",1===t.wareStatus?"is-checked":""].join(" "),onClick:function onClick(){return e.medalOperation({wareMedalId:"",wareStatus:2})},__source:{fileName:tD,lineNumber:35},__self:this},Ns.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:tD,lineNumber:48},__self:this}),Ns.a.createElement("h5",{className:"FansMedalList-anchorName",__source:{fileName:tD,lineNumber:49},__self:this},"\u4e0d\u4f69\u6234\u5fbd\u7ae0")))},ChatMsgMedalList}(Ns.a.Component),oD=Object(yh.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(aD),lD="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalInfo.js";function MedalInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sD,cD,uD,pD=(rD=(0,n.a.Service)(m.a),iD=function(e){function ChatMsgMedalInfo(){var t,r;!function MedalInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",nD,r),MedalInfo_possibleConstructorReturn(r,t)}return MedalInfo_inherits(ChatMsgMedalInfo,e),ChatMsgMedalInfo.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalInfo.prototype.returnCurRoomMedalConfig=function returnCurRoomMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.medalList||[]).filter(function(t){return t.medalRid===e.ownerRoomId})[0]},ChatMsgMedalInfo.prototype.returnMedalExpProgress=function returnMedalExpProgress(e){return e.medalLev>=30?"100%":Math.round(e.allExp/e.upLevExp*100)+"%"},ChatMsgMedalInfo.prototype.returnMedalRank=function returnMedalRank(e){return e?e>500?"500+":e:"--"},ChatMsgMedalInfo.prototype.render=function render(){var e=this.props.medalListMsgData,t=this.returnCurRoomMedalConfig(e),r="/task/firstpaytask/"+e.ownerRoomId;return Ns.a.createElement("div",{className:"FansMedalPanel-info",__source:{fileName:lD,lineNumber:51},__self:this},t?Ns.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:lD,lineNumber:55},__self:this},Ns.a.createElement(eD,{key:t.medalRid,isCurRoom:1,medalData:t,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:this.medalOperation,__source:{fileName:lD,lineNumber:56},__self:this}),Ns.a.createElement("div",{className:"FansMedalInfo-medalBar",__source:{fileName:lD,lineNumber:64},__self:this},Ns.a.createElement("div",{className:"MedalBar-expInfo",__source:{fileName:lD,lineNumber:65},__self:this},Ns.a.createElement("span",{className:"MedalBar-lev",__source:{fileName:lD,lineNumber:66},__self:this},"lv",t.medalLev,":"),Ns.a.createElement("div",{className:"MedalBar-progress",__source:{fileName:lD,lineNumber:67},__self:this},Ns.a.createElement("p",{className:"MedalBar-bar",__source:{fileName:lD,lineNumber:68},__self:this},Ns.a.createElement("em",{className:"MedalBar-view",style:{width:this.returnMedalExpProgress(t)},__source:{fileName:lD,lineNumber:69},__self:this})),Ns.a.createElement("span",{className:"MedalBar-expNum",__source:{fileName:lD,lineNumber:74},__self:this},t.medalLev>=30?"Max":t.allExp+"/"+t.upLevExp)),Ns.a.createElement("div",{className:"MedalBar-todayExp",__source:{fileName:lD,lineNumber:82},__self:this},0===+t.todayExp?"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\uff1a0":Ns.a.createElement("div",{__source:{fileName:lD,lineNumber:87},__self:this},Ns.a.createElement("i",{className:"FansMedalInfo-expIcon",__source:{fileName:lD,lineNumber:88},__self:this}),t.todayExp>=0?"+"+t.todayExp:t.todayExp))),t.todayExp>0?Ns.a.createElement("ul",{className:"MedalBar-expContent",__source:{fileName:lD,lineNumber:98},__self:this},Ns.a.createElement("li",{className:"MedalBar-li",__source:{fileName:lD,lineNumber:99},__self:this},Ns.a.createElement("p",{className:"MedalBar-text",__source:{fileName:lD,lineNumber:100},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u6392\u540d\uff1a",Ns.a.createElement("span",{className:"MedalBar-rank",__source:{fileName:lD,lineNumber:102},__self:this},this.returnMedalRank(e.ownerMedalRank>0?e.ownerMedalRank:t.medalRank)))),Ns.a.createElement("li",{className:"MedalBar-li",__source:{fileName:lD,lineNumber:110},__self:this},Ns.a.createElement("p",{className:"MedalBar-text",__source:{fileName:lD,lineNumber:111},__self:this},"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\u4e0a\u9650\uff1a",t.todayAllExp))):Ns.a.createElement("p",{className:"MedalBar-remain",__source:{fileName:lD,lineNumber:117},__self:this},"\u8fde\u7eed7\u5929\u4e0d\u9001\u793c\u7269\uff0c\u4eb2\u5bc6\u5ea6\u4f1a\u4e0b\u964d\uff0c\u4e0b\u964d\u52300\u65f6\u60a8\u5c06\u5931\u53bb\u8be5\u5fbd\u7ae0"))):Ns.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:lD,lineNumber:125},__self:this},Ns.a.createElement("div",{className:"FansMedalInfo-Top",__source:{fileName:lD,lineNumber:126},__self:this},Ns.a.createElement(AO.a,{lev:0,name:e.ownerMedalName,isVipFans:!1,url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.ownerRoomId,__source:{fileName:lD,lineNumber:127},__self:this}),e.medalSwitch>0?Ns.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:lD,lineNumber:137},__self:this},"\u672a\u62e5\u6709\u8be5\u4e3b\u64ad\u7684\u5fbd\u7ae0"):Ns.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:lD,lineNumber:138},__self:this},"\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0"),e.firstCharge>0&&e.medalSwitch>0?Ns.a.createElement("a",{href:r,target:"_blank",className:"FansMedalInfo-firstCharge",__source:{fileName:lD,lineNumber:142},__self:this},"\u9996\u5145"):""),e.medalSwitch>0?Ns.a.createElement("p",{className:"FansMedalInfo-getTips",__source:{fileName:lD,lineNumber:148},__self:this},"\u5f53\u65e5\u7d2f\u8ba1\u9001\u4e3b\u64ad6\u9c7c\u7fc5\u793c\u7269\u5373\u53ef\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\u5662~"):null))},ChatMsgMedalInfo}(Ns.a.Component),nD=function MedalInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(iD.prototype,"medalOperatServices",[rD],{enumerable:!0,initializer:null}),iD),fD=Object(yh.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(pD),mD="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalPanel.js";function MedalPanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalPanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalPanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dD,bD,hD,vD=(sD=(0,n.a.Service)(m.a),cD=function(e){function ChatMsgMedalPanel(){var t,r;!function MedalPanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalPanel);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalPanel_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalPanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",uD,r),MedalPanel_possibleConstructorReturn(r,t)}return MedalPanel_inherits(ChatMsgMedalPanel,e),ChatMsgMedalPanel.prototype.componentDidMount=function componentDidMount(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.componentDidUpdate=function componentDidUpdate(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.medalOperation=function medalOperation(e){this.medalOperatServices.sendMedalMsg(e)},ChatMsgMedalPanel.prototype.render=function render(){var e=this,t=this.props,r=t.isShowMedalPanel,i=t.medalStatus,n=t.toggleMedalPanel;return r.status?Ns.a.createElement("div",{className:"FansMedalPanel-Panel-container",style:{display:r.status?"block":"none"},__source:{fileName:mD,lineNumber:32},__self:this},1===i.wareStatus||2===i.wareStatus?Ns.a.createElement("div",{className:"FansMedalPanel-Panel",onMouseEnter:function onMouseEnter(){return n(1)},onMouseLeave:function onMouseLeave(){return n(0)},__source:{fileName:mD,lineNumber:40},__self:this},Ns.a.createElement("p",{className:"FansMedalPanel-ArrowIcon",__source:{fileName:mD,lineNumber:48},__self:this},Ns.a.createElement("i",{className:"FansMedalPanel-ArrowIcon-i",__source:{fileName:mD,lineNumber:49},__self:this})),Ns.a.createElement("div",{className:"FansMedalPanel-headerBg",__source:{fileName:mD,lineNumber:51},__self:this},Ns.a.createElement("span",{className:"FansMedalPanel-headerText",__source:{fileName:mD,lineNumber:52},__self:this})),Ns.a.createElement("div",{className:"FansMedalPanel-OwnerInfo",__source:{fileName:mD,lineNumber:54},__self:this},Ns.a.createElement("div",{className:"MedalOwnerInfo-box",__source:{fileName:mD,lineNumber:55},__self:this},Ns.a.createElement("div",{className:"MedalOwnerInfo-title",__source:{fileName:mD,lineNumber:56},__self:this},Ns.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:mD,lineNumber:57},__self:this},"\u5f53\u524d\u623f\u95f4\u5fbd\u7ae0"),Ns.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:mD,lineNumber:58},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u4f53\u7cfb")),Ns.a.createElement(fD,{medalOperation:this.medalOperation.bind(this),__source:{fileName:mD,lineNumber:72},__self:this}))),Ns.a.createElement("div",{className:"FansMedalPanel-list",__source:{fileName:mD,lineNumber:75},__self:this},Ns.a.createElement("div",{className:"FansMedalList-box",__source:{fileName:mD,lineNumber:76},__self:this},Ns.a.createElement("div",{className:"FansMedalList-title",__source:{fileName:mD,lineNumber:77},__self:this},Ns.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:mD,lineNumber:78},__self:this},"\u5176\u5b83\u5fbd\u7ae0"),Ns.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_sel_detail",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"/member/cp/getFansBadgeList",__source:{fileName:mD,lineNumber:79},__self:this},"\u67e5\u770b\u5168\u90e8\u5fbd\u7ae0")),Ns.a.createElement(oD,{medalOperation:this.medalOperation.bind(this),__source:{fileName:mD,lineNumber:93},__self:this})))):null):""},ChatMsgMedalPanel}(Ns.a.Component),uD=function MedalPanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(cD.prototype,"medalOperatServices",[sD],{enumerable:!0,initializer:null}),cD),gD=Object(yh.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(vD),yD="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalEnter.js";function MedalEnter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalEnter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var _D,SD,ND,CD=(dD=(0,n.a.Service)(m.a),bD=function(e){function ChatMsgMedalContainer(){!function MedalEnter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalContainer);var t=function MedalEnter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalEnter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",hD,t),t.firstRender=0,t.isRemainNotWear=0,t}return MedalEnter_inherits(ChatMsgMedalContainer,e),ChatMsgMedalContainer.prototype.componentDidMount=function componentDidMount(){this.medalOperatService.initMedalService()},ChatMsgMedalContainer.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.medalListMsgData,t=this.checkNowRoomWearStatus(e);0!==e.wareStatus&&this.medalOperatService.clearMedalDialog(1),this.isRemainNotWear||!t||this.firstRender||(this.isRemainNotWear=1,this.medalOperatService.addMedalDialog({dialogType:5,defaultShow:1,hoverShow:0,autoClear:5e3,medalData:t})),this.firstRender=1},ChatMsgMedalContainer.prototype.checkNowRoomWearStatus=function checkNowRoomWearStatus(e){return e&&0!==e.wareStatus&&e.medalList?e.medalList.filter(function(t){return t.medalRid===e.ownerRoomId&&e.wareMedalId!==e.ownerRoomId})[0]:null},ChatMsgMedalContainer.prototype.getEnterMedalConfig=function getEnterMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(+e.wareStatus){case 0:default:return{name:"\u672a\u62e5\u6709",lev:0};case 1:return{name:"\u672a\u4f69\u6234",lev:0};case 2:var t=e.medalList.filter(function(t){return t.medalRid===e.wareMedalId})[0];return{name:t.medalName||"\u7c89\u4e1d",lev:t.medalLev||0}}},ChatMsgMedalContainer.prototype.render=function render(){var e=this,t=this.props,r=t.medalListMsgData,i=t.toggleMedalPanel,n=this.getEnterMedalConfig(r);return Ns.a.createElement("div",{className:"FansMedalPanel-enter",onMouseEnter:function onMouseEnter(){return i(1)},onMouseLeave:function onMouseLeave(){return i(0)},onClick:function onClick(){return e.medalOperatService.fansMedalDYSub("click_msg_fansbadge")},__source:{fileName:yD,lineNumber:83},__self:this},Ns.a.createElement(gD,{medalStatus:r,toggleMedalPanel:i,__source:{fileName:yD,lineNumber:88},__self:this}),Ns.a.createElement("div",{"data-medal-level":n.lev,className:["FansMedalEnter-enterContent","is-EnterMedal",2!==r.wareStatus?"is-NotWare":""].join(" "),__source:{fileName:yD,lineNumber:90},__self:this},Ns.a.createElement("i",{className:"FansMedalEnter-enterIcon",__source:{fileName:yD,lineNumber:100},__self:this}),Ns.a.createElement("p",{className:"FansMedalEnter-enterBg",__source:{fileName:yD,lineNumber:101},__self:this},n.name)))},ChatMsgMedalContainer}(Ns.a.Component),hD=function MedalEnter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(bD.prototype,"medalOperatService",[dD],{enumerable:!0,initializer:null}),bD),wD=Object(yh.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(CD),OD="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogComponent.js";function MedalDialogComponent_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogComponent_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ED,DD,PD,jD=(_D=(0,n.a.Service)(m.a),SD=function(e){function MedalDialog(){!function MedalDialogComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialog);var t=function MedalDialogComponent_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalDialogComponent_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatServices",ND,t),t.clearTimer=0,t}return MedalDialogComponent_inherits(MedalDialog,e),MedalDialog.prototype.componentDidMount=function componentDidMount(){this.dialogConfig=this.props.dialogConfig},MedalDialog.prototype.componentWillUnmount=function componentWillUnmount(){},MedalDialog.prototype.medalOperation=function medalOperation(e,t){this.medalOperatServices.sendMedalMsg(e),6!==t.dialogType&&5!==t.dialogType||this.medalOperatServices.clearMedalDialog(t.dialogType)},MedalDialog.prototype.closeDialog=function closeDialog(e){this.medalOperatServices.clearMedalDialog(e)},MedalDialog.prototype.clearDialog=function clearDialog(e){var t=this;clearTimeout(this.clearTimer),this.clearTimer=setTimeout(function(){t.medalOperatServices.clearMedalDialog(e.dialogType)},e.autoClear)},MedalDialog.prototype.returnDesc=function returnDesc(e){var t=this;switch(parseInt(e.dialogType,10)){case 1:default:return Ns.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:OD,lineNumber:47},__self:this},"\u4e3b\u64ad\u8fd8\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0",Ns.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:OD,lineNumber:49},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 2:return Ns.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:OD,lineNumber:66},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\uff01");case 3:return Ns.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:OD,lineNumber:72},__self:this},"\u60a8\u7684\u5fbd\u7ae0\u5df2\u8fbe\u5230\u4e0a\u965020\u4e2a\u3002",Ns.a.createElement("a",{href:"/member/cp/getFansBadgeList",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:OD,lineNumber:74},__self:this},"\u70b9\u51fb\u8bbe\u7f6e>>"));case 4:return Ns.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:OD,lineNumber:80},__self:this},"\u5f53\u5929\u7d2f\u8ba1\u9001\u4e3b\u64ad\u4ef7\u503c6\u4e2a\u9c7c\u7fc5\u7684\u793c\u7269\u5373\u53ef\u83b7\u5f97Ta\u7684\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u5e76\u83b7\u53d6\u7c89\u4e1d\u4e13\u5c5e\u793c\u5305\u3002",Ns.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:OD,lineNumber:82},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 5:return Ns.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:OD,lineNumber:99},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-text",__source:{fileName:OD,lineNumber:100},__self:this},"\u60a8\u5df2\u62e5\u6709\u8be5\u4e3b\u64ad\u5fbd\u7ae0"),Ns.a.createElement(AO.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:OD,lineNumber:101},__self:this}),Ns.a.createElement("p",{className:"FansMedalDialog-wareMedal",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:OD,lineNumber:109},__self:this},"\u7acb\u5373\u4f69\u6234"));case 6:return Ns.a.createElement("div",{className:"FansMedalDialog-FirstMedalTip",__source:{fileName:OD,lineNumber:121},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:OD,lineNumber:122},__self:this}),Ns.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:OD,lineNumber:123},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:OD,lineNumber:128},__self:this},Ns.a.createElement("dl",{className:"FansMedalDialog-dl",__source:{fileName:OD,lineNumber:129},__self:this},Ns.a.createElement("dt",{className:"FansMedalDialog-dt",__source:{fileName:OD,lineNumber:130},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\uff1a",Ns.a.createElement(AO.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:OD,lineNumber:131},__self:this})),Ns.a.createElement("dd",{__source:{fileName:OD,lineNumber:140},__self:this},"\u6bcf\u5929\u9001\u793c\u7269\u4f1a\u63d0\u5347\u7b49\u7ea7\u548c\u83b7\u5f97\u4e30\u539a\u7684\u793c\u5305\uff01"),Ns.a.createElement("dd",{className:"FansMedalDialog-wearMedal",__source:{fileName:OD,lineNumber:141},__self:this},Ns.a.createElement("a",{className:"FansMedalDialog-wearButton",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:OD,lineNumber:142},__self:this},"\u7acb\u5373\u4f69\u6234")))));case 7:return Ns.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:OD,lineNumber:157},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:OD,lineNumber:158},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:OD,lineNumber:163},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:OD,lineNumber:164},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:OD,lineNumber:165},__self:this},Ns.a.createElement("p",{__source:{fileName:OD,lineNumber:166},__self:this},"\u4eb2\uff0c\u771f\u7ed9\u529b\uff0c\u5df2\u5237\u6ee1\u672c\u65e5\u4eb2\u5bc6\u5ea6!"))));case 8:return Ns.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:OD,lineNumber:173},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:OD,lineNumber:174},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeContent is-upgrade",__source:{fileName:OD,lineNumber:179},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:OD,lineNumber:180},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:OD,lineNumber:181},__self:this},Ns.a.createElement("p",{__source:{fileName:OD,lineNumber:182},__self:this},"\u606d\u559c\u4f60\u53c8\u5347\u4e00\u7ea7\uff0c\u79bb\u4e3b\u64ad\u94c1\u7c89\u66f4\u8fd1\u4e00\u6b65!"))));case 9:return Ns.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:OD,lineNumber:189},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:OD,lineNumber:190},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:OD,lineNumber:195},__self:this},Ns.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:OD,lineNumber:196},__self:this}),Ns.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:OD,lineNumber:197},__self:this},Ns.a.createElement("p",{__source:{fileName:OD,lineNumber:198},__self:this},"\u606d\u559c\u4f60\u5347\u7ea7\u4e14\u5237\u6ee1\u4e86\u4eca\u5929\u7684\u4eb2\u5bc6\u5ea6!"))))}},MedalDialog.prototype.returnShowStatus=function returnShowStatus(e){var t=this.props.isShowMedalPanel;return e.defaultShow||t.status?{display:"block"}:{display:"none"}},MedalDialog.prototype.render=function render(){var e=this.props||this,t=e.dialogConfig,r=e.toggleMedalPanel;return t.autoClear&&this.clearDialog(t),Ns.a.createElement("div",{className:["FansMedalDialog-normal",6===t.dialogType||7===t.dialogType||8===t.dialogType||9===t.dialogType?"is-big":""].join(" "),style:this.returnShowStatus(t),onMouseLeave:function onMouseLeave(){t.defaultShow||r(0)},onMouseEnter:function onMouseEnter(){t.defaultShow||r(1)},__source:{fileName:OD,lineNumber:228},__self:this},Ns.a.createElement("i",{className:"FansMedalDialog-arrowIcon",__source:{fileName:OD,lineNumber:256},__self:this}),this.returnDesc(t))},MedalDialog}(Ns.a.Component),ND=function MedalDialogComponent_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(SD.prototype,"medalOperatServices",[_D],{enumerable:!0,initializer:null}),SD),kD=Object(yh.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(jD),RD=(r("efa87"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogContainer.js");function MedalDialogContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalDialogContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var TD,BD,MD,zD,LD,FD=(ED=(0,n.a.Service)(m.a),DD=function(e){function MedalDialogContainer(){var t,r;!function MedalDialogContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialogContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalDialogContainer_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalDialogContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatService",PD,r),MedalDialogContainer_possibleConstructorReturn(r,t)}return MedalDialogContainer_inherits(MedalDialogContainer,e),MedalDialogContainer.prototype.pushDialog=function pushDialog(e,t){var r=this;return e&&e.length?e.map(function(e,i){return Ns.a.createElement(kD,{key:i,toggleMedalPanel:t,dialogConfig:e,__source:{fileName:RD,lineNumber:19},__self:r})}):null},MedalDialogContainer.prototype.render=function render(){var e=this.props,t=e.medalDialogStatus,r=e.toggleMedalPanel,i=this.pushDialog(t,r);return Ns.a.createElement("div",{className:"FansMedalDialog",__source:{fileName:RD,lineNumber:28},__self:this},i)},MedalDialogContainer}(Ns.a.Component),PD=function MedalDialogContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(DD.prototype,"medalOperatService",[ED],{enumerable:!0,initializer:null}),DD),AD=Object(yh.connect)(function mapStateToProps(e){return{medalDialogStatus:e.medalDialogStatus}})(FD),ID=(r("852bb"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalDroppingPanel/MedalDroppingList.js");function MedalDroppingList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalDroppingList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDroppingList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalDroppingList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xD,GD,UD,HD=n.a.Service,WD=(TD=HD(Z),BD=HD(m.a),MD=function(e){function MedalDroppingList(){!function MedalDroppingList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingList);var t=function MedalDroppingList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return MedalDroppingList_initDefineProp(t,"medalDroppingServices",zD,t),MedalDroppingList_initDefineProp(t,"medalOperatServices",LD,t),t.state={remainStatus:0,medalDroppingList:[],medalDroppingClose:1,isNewDropping:0,newDroppingMedals:[],oldDroppingMedals:[]},t.isShowDropping=0,t}return MedalDroppingList_inherits(MedalDroppingList,e),MedalDroppingList.prototype.componentDidMount=function componentDidMount(){this.setState({remainStatus:this.medalDroppingServices.getRemainSwitchState()})},MedalDroppingList.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.medalDroppingList,r=e.medalDroppingClose,i=this.medalDroppingServices.dealDroppingList(t),n=this.checkIsNewDroppingMedal(i),a=i.newDroppingMedals,o=i.oldDroppingMedals;this.isShowDropping&&r||this.setState({medalDroppingList:t,medalDroppingClose:r,isNewDropping:n,newDroppingMedals:a,oldDroppingMedals:o})},MedalDroppingList.prototype.checkIsNewDroppingMedal=function checkIsNewDroppingMedal(e){return e.newDroppingMedals.length>0&&e.oldDroppingMedals.length>0},MedalDroppingList.prototype.toggleNotRemainSwitch=function toggleNotRemainSwitch(){var e=parseInt(this.state.remainStatus,10)?0:1;!function setLocalStorage(e,t,r){b.DataCenter.localStorage.set(e,t,r)}(this.medalDroppingServices.returnRemainCacheFlag(),e),this.setState({remainStatus:e})},MedalDroppingList.prototype.render=function render(){var e=this,t=this.state,r=t.medalDroppingList,i=t.medalDroppingClose,n=t.isNewDropping,a=t.newDroppingMedals,o=t.oldDroppingMedals;return i&&r.length&&a.length?(this.isShowDropping=1,Ns.a.createElement("div",{className:["FansMedalDropping-box",n?"is-newDropping":""].join(" "),__source:{fileName:ID,lineNumber:95},__self:this},Ns.a.createElement("i",{className:"FansMedalDropping-close",onClick:function onClick(){return e.medalDroppingServices.medalDroppingClose()},__source:{fileName:ID,lineNumber:101},__self:this}),Ns.a.createElement("div",{className:"FansMedalDropping-header",__source:{fileName:ID,lineNumber:106},__self:this},Ns.a.createElement("div",{className:["FansMedalDropping-remainSwitch",this.state.remainStatus?"is-remain":""].join(" "),onClick:function onClick(){return e.toggleNotRemainSwitch()},__source:{fileName:ID,lineNumber:107},__self:this},Ns.a.createElement("i",{className:"FansMedalDropping-switchIcon",__source:{fileName:ID,lineNumber:116},__self:this}),Ns.a.createElement("span",{className:"FansMedalDropping-switchText",__source:{fileName:ID,lineNumber:117},__self:this},"\u4e0d\u518d\u63d0\u793a")),n?Ns.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:ID,lineNumber:122},__self:this},Ns.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:ID,lineNumber:123},__self:this},"\u597d\u5fc3\u75bc~\u60a8\u4eca\u5929",Ns.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:ID,lineNumber:125},__self:this},"\u53c8\u6709",a.length||r.length,"\u679a\u5fbd\u7ae0\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u4e86"),"\u54df~")):Ns.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:ID,lineNumber:132},__self:this},Ns.a.createElement("p",{className:"FansMedalDropping-headerPic",__source:{fileName:ID,lineNumber:133},__self:this}),Ns.a.createElement("div",{className:"FansMedalDropping-desc",__source:{fileName:ID,lineNumber:134},__self:this},Ns.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:ID,lineNumber:135},__self:this},"\u597d\u5fc3\u75bc~"),Ns.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:ID,lineNumber:136},__self:this},"\u4f60\u4e0e",Ns.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:ID,lineNumber:138},__self:this},r.length,"\u4f4d\u4e3b\u64ad"),"\u7684\u4eb2\u5bc6\u5ea6",Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:141},__self:this},"\u6b63\u5728\u4e0b\u964d~")),Ns.a.createElement("h5",{className:"FansMedalDropping-h5Text",__source:{fileName:ID,lineNumber:143},__self:this},"\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u52300\u65f6\uff0c\u5c06\u4f1a\u5931\u53bb\u4e3b\u64ad\u7c89\u4e1d\u5fbd\u7ae0")))),Ns.a.createElement("div",{className:"FansMedalDropping-content",__source:{fileName:ID,lineNumber:149},__self:this},Ns.a.createElement(Cs.Scrollbars,{autoHeight:!0,autoHeightMax:163,__source:{fileName:ID,lineNumber:150},__self:this},n?Ns.a.createElement("div",{__source:{fileName:ID,lineNumber:154},__self:this},Ns.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:ID,lineNumber:155},__self:this},a.map(function(t){return Ns.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:ID,lineNumber:158},__self:e},Ns.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:ID,lineNumber:159},__self:e},Ns.a.createElement(AO.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:ID,lineNumber:160},__self:e}),Ns.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:ID,lineNumber:168},__self:e},Ns.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:ID,lineNumber:169},__self:e},Ns.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:ID,lineNumber:170},__self:e}),Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:171},__self:e},t.todayExp))),Ns.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:ID,lineNumber:176},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:176},__self:e},t.allExp))),Ns.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:ID,lineNumber:178},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})),Ns.a.createElement("p",{className:"FansMedalDropping-oldDropping",__source:{fileName:ID,lineNumber:185},__self:this},"\u4ee5\u4e0b\u5fbd\u7ae0\u7684\u4eb2\u5bc6\u5ea6\u6b63\u5728\u4e0b\u964d\uff0c\u8d76\u7d27\u9001\u793c\u7269\u5427~"),Ns.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:ID,lineNumber:186},__self:this},o.map(function(t){return Ns.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:ID,lineNumber:189},__self:e},Ns.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:ID,lineNumber:190},__self:e},Ns.a.createElement(AO.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:ID,lineNumber:191},__self:e}),Ns.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:ID,lineNumber:199},__self:e},Ns.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:ID,lineNumber:200},__self:e},Ns.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:ID,lineNumber:201},__self:e}),Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:202},__self:e},t.todayExp))),Ns.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:ID,lineNumber:207},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:207},__self:e},t.allExp))),Ns.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:ID,lineNumber:209},__self:e},"\u53bb\u76f4\u64ad\u95f4"))}))):Ns.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:ID,lineNumber:219},__self:this},r.map(function(t){return Ns.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:ID,lineNumber:222},__self:e},Ns.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:ID,lineNumber:223},__self:e},Ns.a.createElement(AO.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:ID,lineNumber:224},__self:e}),Ns.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:ID,lineNumber:232},__self:e},Ns.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:ID,lineNumber:233},__self:e},Ns.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:ID,lineNumber:234},__self:e}),Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:235},__self:e},t.todayExp))),Ns.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:ID,lineNumber:240},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",Ns.a.createElement("span",{__source:{fileName:ID,lineNumber:240},__self:e},t.allExp))),Ns.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:ID,lineNumber:242},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})))))):null},MedalDroppingList}(Ns.a.Component),zD=MedalDroppingList_applyDecoratedDescriptor(MD.prototype,"medalDroppingServices",[TD],{enumerable:!0,initializer:null}),LD=MedalDroppingList_applyDecoratedDescriptor(MD.prototype,"medalOperatServices",[BD],{enumerable:!0,initializer:null}),MD),VD=Object(yh.connect)(function mapStateToProps(e){return{medalDroppingList:e.medalDroppingList,medalDroppingClose:e.medalDroppingClose}})(WD),$D=(r("8f352"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalContainer.js");function MedalContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var KD=(xD=(0,n.a.Service)(m.a),GD=function(e){function MedalContainer(){!function MedalContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalContainer);var t=function MedalContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",UD,t),t.hoverTimer=0,t}return MedalContainer_inherits(MedalContainer,e),MedalContainer.prototype.toggleMedalPanel=function toggleMedalPanel(e){var t=this;clearTimeout(this.hoverTimer),e?this.medalOperatService.toggleMedalPanel({status:e}):this.hoverTimer=setTimeout(function(){t.medalOperatService.toggleMedalPanel({status:e})},200)},MedalContainer.prototype.render=function render(){return Ns.a.createElement("div",{__source:{fileName:$D,lineNumber:37},__self:this},Ns.a.createElement("div",{className:"FansMedalPanel-container",__source:{fileName:$D,lineNumber:38},__self:this},Ns.a.createElement(AD,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:$D,lineNumber:39},__self:this}),Ns.a.createElement(wD,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:$D,lineNumber:40},__self:this})),Ns.a.createElement(VD,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:$D,lineNumber:42},__self:this}))},MedalContainer}(Ns.a.Component),UD=function MedalContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(GD.prototype,"medalOperatService",[xD],{enumerable:!0,initializer:null}),GD),JD=r("1dcf0"),qD=r.n(JD),QD=r("ba125"),YD=r.n(QD),XD=r("ef00f"),ZD=r.n(XD),eP=r("fa750"),tP=r.n(eP),rP=r("2c04c"),iP=r.n(rP),nP=r("16049"),aP=r.n(nP),oP=r("cf4ff"),lP=r.n(oP),sP=r("48769"),cP=r.n(sP),uP=r("f6407"),pP=r.n(uP),fP=r("d62f7"),mP=r.n(fP),dP=r("890af"),bP=r.n(dP),hP=r("054b4"),vP=r.n(hP),gP=r("ab59c"),yP=r.n(gP),_P=r("f8b89"),SP=r.n(_P),NP=r("59aab"),CP=r.n(NP),wP=r("07b2c"),OP=r.n(wP),EP={1:{name:"IG",icon:tP.a},2:{name:"RNG",icon:cP.a},3:{name:"EDG",icon:YD.a},4:{name:"FPX",icon:ZD.a},5:{name:"TOP",icon:yP.a},6:{name:"SN",icon:vP.a},7:{name:"SDG",icon:bP.a},8:{name:"JDG",icon:iP.a},9:{name:"SS",icon:mP.a},10:{name:"BLG",icon:qD.a},11:{name:"OMG",icon:lP.a},12:{name:"RW",icon:pP.a},13:{name:"VG",icon:CP.a},14:{name:"V5",icon:SP.a},15:{name:"LGD",icon:aP.a},16:{name:"WE",icon:OP.a}},DP=r("8394a"),PP=r.n(DP),jP=r("13cba"),kP=r.n(jP),RP=r("07572"),TP=r.n(RP),BP=r("37119"),MP=r.n(BP),zP=r("0ab9e"),LP=r.n(zP),FP=r("a8489"),AP=r.n(FP),IP=r("99c69"),xP=r.n(IP),GP=r("5f613"),UP=r.n(GP),HP=r("93c95"),WP=r.n(HP),VP=r("343db"),$P=r.n(VP),KP={0:PP.a,1:kP.a,2:TP.a,3:MP.a,4:LP.a,5:AP.a,6:xP.a,7:UP.a,8:WP.a,9:$P.a},JP="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemMedalPanel/MatchSystemMedalPanel.js";function MatchSystemMedalPanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystemMedalPanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemMedalPanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var qP=function(e){function MatchSystemMedalPanel(){var t,r;!function MatchSystemMedalPanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemMedalPanel);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystemMedalPanel_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.handleFilterSameTeam=function(e){var t=1===r.props.filterSameTeamBarrage?0:1;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r.props.handleFilterSameTeam(t)},r.changeMatchSystemTeamMedal=function(e,t){var i=r.props.changeMatchSystemTeamMedal;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),i(e)},MatchSystemMedalPanel_possibleConstructorReturn(r,t)}return MatchSystemMedalPanel_inherits(MatchSystemMedalPanel,e),MatchSystemMedalPanel.prototype.renderLevelProgress=function renderLevelProgress(){var e=this.props,t=e.userDetail,r=e.matchGlorys,i=0;if(t.privilege){var n=t.privilege,a=n.value,o=n.next_value,l=n.level,s=n.next_level,c=r.find(function(e){return e.level===l}),u=c?c.value:0;return i=s===l?100:Math.round(100*(a-u)/(o-u)),Ns.a.createElement("div",{className:"MatchSystemMedalPanel-myLevel",__source:{fileName:JP,lineNumber:40},__self:this},Ns.a.createElement("div",{className:"level-progress",style:{width:i+"%"},__source:{fileName:JP,lineNumber:41},__self:this}))}return""},MatchSystemMedalPanel.prototype.renderCurrentLevel=function renderCurrentLevel(){var e=this.props,t=e.userDetail,r=e.matchGlorys,i=0;if(t.privilege){var n=t.privilege,a=n.value,o=n.next_value,l=n.level,s=n.next_level,c=r.find(function(e){return e.level===l}),u=c?c.value:0;return i=s===l?100:Math.round(100*(a-u)/(o-u)),Ns.a.createElement("div",{className:"MatchSystemMedalPanel-levelTxt",__source:{fileName:JP,lineNumber:65},__self:this},Ns.a.createElement("div",{className:"startLevel",__source:{fileName:JP,lineNumber:66},__self:this},"Lv",t.privilege.level||1),Ns.a.createElement("div",{className:"levelRatio",__source:{fileName:JP,lineNumber:67},__self:this},i+"%"),Ns.a.createElement("div",{className:"endLevel",__source:{fileName:JP,lineNumber:68},__self:this},"Lv",t.privilege.next_level||1))}return""},MatchSystemMedalPanel.prototype.renderTeamMedals=function renderTeamMedals(){var e=this,t=this.props,r=t.gainTeams,i=t.wearStatus,n=t.userDetail,a=[],o=void 0,l=void 0,s=n.privilege?n.privilege.level.toString():"1";if(1===s.length)o=Ns.a.createElement("img",{className:"badgeLevelVal1",src:KP[s],__source:{fileName:JP,lineNumber:84},__self:this});else{var c={};"1"===s[0]&&(c={left:"22px"}),o=Ns.a.createElement("img",{className:"badgeLevelVal1",src:KP[s[0]],__source:{fileName:JP,lineNumber:93},__self:this}),l=Ns.a.createElement("img",{className:"badgeLevelVal2",style:c,src:KP[s[1]],__source:{fileName:JP,lineNumber:94},__self:this})}return r.length&&(r.forEach(function(t){var r=t.medal_level||"0";a.push(Ns.a.createElement("li",{onClick:function onClick(r){e.changeMatchSystemTeamMedal(t,r)},key:t.team_id,__source:{fileName:JP,lineNumber:102},__self:e},Ns.a.createElement("div",{className:"check "+(t.isWear?"current":""),__source:{fileName:JP,lineNumber:103},__self:e}),Ns.a.createElement("div",{className:"badge-icon badge-level"+r,__source:{fileName:JP,lineNumber:104},__self:e},Ns.a.createElement("img",{src:EP[t.team_id].icon,__source:{fileName:JP,lineNumber:105},__self:e}),o,l)))}),a.push(Ns.a.createElement("li",{onClick:function onClick(t){e.changeMatchSystemTeamMedal({isWear:!1,team_id:0},t)},key:0,__source:{fileName:JP,lineNumber:113},__self:this},Ns.a.createElement("div",{className:"check "+(1===i?"current":""),__source:{fileName:JP,lineNumber:114},__self:this}),Ns.a.createElement("div",{className:"badge-txt "+(1===i?"current":""),__source:{fileName:JP,lineNumber:115},__self:this},"\u4e0d\u4f69\u6234")))),Ns.a.createElement("ul",{className:"MatchSystemMedalPanel-badgeList",__source:{fileName:JP,lineNumber:120},__self:this},a)},MatchSystemMedalPanel.prototype.render=function render(){var e=this.props,t=e.showUserDetail,r=e.wearStatus,i=e.userDetail,n=e.filterSameTeamBarrage;return t?Ns.a.createElement("div",{onClick:function onClick(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},className:"MatchSystemMedalPanel-Panel-container",style:{display:t?"block":"none"},__source:{fileName:JP,lineNumber:132},__self:this},1===r||2===r?Ns.a.createElement("div",{className:"MatchSystemMedalPanel-Panel",__source:{fileName:JP,lineNumber:141},__self:this},Ns.a.createElement("div",{className:"MatchSystemMedalPanel-header",__source:{fileName:JP,lineNumber:142},__self:this},Ns.a.createElement("div",{className:"headerTxt",__source:{fileName:JP,lineNumber:143},__self:this},"\u6211\u7684\u7b49\u7ea7"),Ns.a.createElement("a",{href:"/topic/GloryCompetition?conf_id=1&anchor=myLevel",target:"_blank",className:"headerMore",__source:{fileName:JP,lineNumber:144},__self:this},"\u4e86\u89e3\u66f4\u591a>")),this.renderLevelProgress(),this.renderCurrentLevel(),Ns.a.createElement("div",{className:"MatchSystemMedalPanel-header MatchSystemMedalPanel-today",__source:{fileName:JP,lineNumber:148},__self:this},Ns.a.createElement("div",{className:"headerTxt",__source:{fileName:JP,lineNumber:149},__self:this},"\u4eca\u65e5\u8363\u8000\u503c"),Ns.a.createElement("div",{className:"todayVal",__source:{fileName:JP,lineNumber:150},__self:this},"+",i.privilege?i.privilege.today_value:0),Ns.a.createElement("a",{href:"/topic/GloryCompetition?conf_id=1&anchor=levelUp",target:"_blank",className:"headerMore",__source:{fileName:JP,lineNumber:151},__self:this},"\u5982\u4f55\u83b7\u53d6>")),Ns.a.createElement("div",{className:"MatchSystemMedalPanel-header MatchSystemMedalPanel-badge",__source:{fileName:JP,lineNumber:153},__self:this},Ns.a.createElement("div",{className:"headerTxt",__source:{fileName:JP,lineNumber:154},__self:this},"\u8363\u8000\u52cb\u7ae0"),Ns.a.createElement("a",{href:"/topic/GloryCompetition?conf_id=1&anchor=myLevel",target:"_blank",className:"headerMore",__source:{fileName:JP,lineNumber:155},__self:this},"\u9886\u53d6\u66f4\u591a>")),this.renderTeamMedals(),Ns.a.createElement("div",{onClick:this.handleFilterSameTeam,className:"MatchSystemMedalPanel-checkSameTeam "+(n?"current":""),__source:{fileName:JP,lineNumber:158},__self:this},Ns.a.createElement("div",{className:"check",__source:{fileName:JP,lineNumber:160},__self:this}),Ns.a.createElement("div",{__source:{fileName:JP,lineNumber:161},__self:this},"\u53ea\u770b\u540c\u6218\u961f\u5f39\u5e55"))):null):""},MatchSystemMedalPanel}(Ns.a.Component),QP=Object(yh.connect)(function mapStateToProps(e){return{showUserDetail:e.matchSystemData.showUserDetail,matchGlorys:e.matchSystemData.matchGlorys,userDetail:e.matchSystemData.userDetail,wearStatus:e.matchSystemData.wearStatus,gainTeams:e.matchSystemData.gainTeams,filterSameTeamBarrage:e.matchSystemData.filterSameTeamBarrage}})(qP),YP="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemMedalPanel/MatchSystemMedalEnter.js";function MatchSystemMedalEnter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemMedalEnter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var XP,ZP,ej,tj=function(e){function MatchSystemMedalEnter(){return function MatchSystemMedalEnter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemMedalEnter),function MatchSystemMedalEnter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MatchSystemMedalEnter_inherits(MatchSystemMedalEnter,e),MatchSystemMedalEnter.prototype.render=function render(){var e=this.props,t=e.changeMatchSystemTeamMedal,r=e.handleFilterSameTeam,i=e.wearStatus,n=e.gainTeams,a="MatchSystemMedalPanel-enter ";if(2===i&&n.length){var o=n.find(function(e){return e.isWear});o&&o.team_id&&(a+="team_"+o.team_id)}return Ns.a.createElement("div",{className:a,__source:{fileName:YP,lineNumber:24},__self:this},Ns.a.createElement(QP,{changeMatchSystemTeamMedal:t,handleFilterSameTeam:r,__source:{fileName:YP,lineNumber:25},__self:this}))},MatchSystemMedalEnter}(Ns.a.Component),rj=(r("63bf6"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystem/ReceivePanel/ReceivePanel.js");function ReceivePanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ReceivePanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ij,nj,aj,oj,lj,sj=(XP=(0,n.a.Service)(ks.a),ZP=function(e){function ReceivePanel(t){!function ReceivePanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReceivePanel);var r=function ReceivePanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function ReceivePanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"matchSystemServices",ej,r),r.hoverTimer=0,r.toggleJoinTeamPanel=r.toggleJoinTeamPanel.bind(r),r.handleShowSelectTeamPanel=r.handleShowSelectTeamPanel.bind(r),r}return ReceivePanel_inherits(ReceivePanel,e),ReceivePanel.prototype.toggleJoinTeamPanel=function toggleJoinTeamPanel(e){var t=this;clearTimeout(this.hoverTimer),e?this.matchSystemServices.toggleJoinTeamPanel(1):this.hoverTimer=setTimeout(function(){t.matchSystemServices.toggleJoinTeamPanel(0)},200)},ReceivePanel.prototype.handleShowSelectTeamPanel=function handleShowSelectTeamPanel(){this.matchSystemServices.showSelectTeamPanel()},ReceivePanel.prototype.render=function render(){var e=this,t=this.props,r=t.showJoinSystem,i=t.lolActivityTip;return Ns.a.createElement("div",{className:"MatchSystem-ReceivePanel",onMouseEnter:function onMouseEnter(){e.toggleJoinTeamPanel(1)},onMouseLeave:function onMouseLeave(){e.toggleJoinTeamPanel(0)},style:{display:r?"block":"none"},__source:{fileName:rj,lineNumber:37},__self:this},Ns.a.createElement("div",{className:"Receive-title",__source:{fileName:rj,lineNumber:41},__self:this}),Ns.a.createElement("div",{className:"Receive-tip",__source:{fileName:rj,lineNumber:42},__self:this},"\u89e3\u9501\u8d5b\u4e8b",Ns.a.createElement("span",{__source:{fileName:rj,lineNumber:43},__self:this},"\u5f69\u8272"),"\u5f39\u5e55\u3001",Ns.a.createElement("em",{__source:{fileName:rj,lineNumber:43},__self:this},"\u8d85\u7ea7"),"\u5f39\u5e55"),Ns.a.createElement("div",{onClick:this.handleShowSelectTeamPanel,className:"Receive-btn",__source:{fileName:rj,lineNumber:45},__self:this}),Ns.a.createElement("div",{className:"Receive-txt",__source:{fileName:rj,lineNumber:46},__self:this},i))},ReceivePanel}(Ns.a.Component),ej=function ReceivePanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ZP.prototype,"matchSystemServices",[XP],{enumerable:!0,initializer:null}),ZP),cj=Object(yh.connect)(function mapStateToProps(e){return{showJoinSystem:e.matchSystemData.showJoinSystem,isFirstEnter:e.matchSystemData.isFirstEnter,lolActivityTip:e.matchSystemData.lolActivityTip}})(sj),uj=(r("434a1"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemMedalPanel/MatchSystemMedalContainer.js");function MatchSystemMedalContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MatchSystemMedalContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemMedalContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MatchSystemMedalContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pj,fj,mj,dj,bj,hj=n.a.Service,vj=(ij=hj(ks.a),nj=hj(b.DataCenter.acj),aj=function(e){function MatchSystemMedalContainer(){!function MatchSystemMedalContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemMedalContainer);var t=function MatchSystemMedalContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return MatchSystemMedalContainer_initDefineProp(t,"matchSystemService",oj,t),MatchSystemMedalContainer_initDefineProp(t,"acj",lj,t),t.hoverTimer=0,t.handleToggleSelectTeamPanel=t.handleToggleSelectTeamPanel.bind(t),t.toggleMatchUserDetail=t.toggleMatchUserDetail.bind(t),t}return MatchSystemMedalContainer_inherits(MatchSystemMedalContainer,e),MatchSystemMedalContainer.prototype.componentDidMount=function componentDidMount(){var e=this;this.acj.get(dn.d.ROOM_MATCHSYS_SHOW_TEAM).subscribe(function(){e.matchSystemService.showSelectTeamPanel()})},MatchSystemMedalContainer.prototype.toggleMatchUserDetail=function toggleMatchUserDetail(e){var t=this,r=this.props,i=r.wearStatus,n=r.showFirstEnterJoinPanel,a=r.showSelectTeamPanel;n||a||(clearTimeout(this.hoverTimer),i?e?this.matchSystemService.toggleMatchUserDetail(1):this.hoverTimer=setTimeout(function(){t.matchSystemService.toggleMatchUserDetail(0)},200):e?this.matchSystemService.toggleJoinTeamPanel(1):this.hoverTimer=setTimeout(function(){t.matchSystemService.toggleJoinTeamPanel(0)},200))},MatchSystemMedalContainer.prototype.changeMatchSystemTeamMedal=function changeMatchSystemTeamMedal(e){e.team_id?e.isWear||this.matchSystemService.changeMatchSystemTeamMedal({medal_id:e.team_id,game_type:1}):this.matchSystemService.userCancelTeamMedal()},MatchSystemMedalContainer.prototype.handleFilterSameTeam=function handleFilterSameTeam(e){this.matchSystemService.handleFilterSameTeamBarrage(e)},MatchSystemMedalContainer.prototype.handleToggleSelectTeamPanel=function handleToggleSelectTeamPanel(){var e=this.props,t=e.showSelectTeamPanel;e.wearStatus?window.open("/topic/GloryCompetition?conf_id=1&anchor=myLevel","_blank"):t||(this.matchSystemService.toggleMatchUserDetail(0),this.matchSystemService.toggleJoinTeamPanel(0),this.matchSystemService.showSelectTeamPanel())},MatchSystemMedalContainer.prototype.render=function render(){var e=this;return Ns.a.createElement("div",{__source:{fileName:uj,lineNumber:86},__self:this},Ns.a.createElement("div",{onClick:this.handleToggleSelectTeamPanel,onMouseEnter:function onMouseEnter(){e.toggleMatchUserDetail(1)},onMouseLeave:function onMouseLeave(){e.toggleMatchUserDetail(0)},className:"MatchSystemMedalPanel-container",__source:{fileName:uj,lineNumber:87},__self:this},Ns.a.createElement(tj,{wearStatus:this.props.wearStatus,gainTeams:this.props.gainTeams,changeMatchSystemTeamMedal:this.changeMatchSystemTeamMedal.bind(this),handleFilterSameTeam:this.handleFilterSameTeam.bind(this),__source:{fileName:uj,lineNumber:91},__self:this}),Ns.a.createElement(cj,{__source:{fileName:uj,lineNumber:96},__self:this})))},MatchSystemMedalContainer}(Ns.a.Component),oj=MatchSystemMedalContainer_applyDecoratedDescriptor(aj.prototype,"matchSystemService",[ij],{enumerable:!0,initializer:null}),lj=MatchSystemMedalContainer_applyDecoratedDescriptor(aj.prototype,"acj",[nj],{enumerable:!0,initializer:null}),aj),gj=Object(yh.connect)(function mapStateToProps(e){return{wearStatus:e.matchSystemData.wearStatus,showJoinSystem:e.matchSystemData.showJoinSystem,showFirstEnterJoinPanel:e.matchSystemData.showFirstEnterJoinPanel,showSelectTeamPanel:e.matchSystemData.showSelectTeamPanel,gainTeams:e.matchSystemData.gainTeams,showUserDetail:e.matchSystemData.showUserDetail}})(vj),yj=(r("0bbac"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystem/FirstReceivePanel/index.js");function FirstReceivePanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FirstReceivePanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FirstReceivePanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FirstReceivePanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _j,Sj,Nj,Cj=n.a.Service,wj=(pj=Cj(ks.a),fj=Cj(b.DataCenter.localStorage),mj=function(e){function FirstReceivePanel(t){!function FirstReceivePanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirstReceivePanel);var r=function FirstReceivePanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return FirstReceivePanel_initDefineProp(r,"matchSystemServices",dj,r),FirstReceivePanel_initDefineProp(r,"localStorage",bj,r),r.state={show:!1},r.hoverTimer=0,r.toggleJoinTeamPanel=r.toggleJoinTeamPanel.bind(r),r.handleCloseJoinSystemPanel=r.handleCloseJoinSystemPanel.bind(r),r.handleShowSelectTeamPanel=r.handleShowSelectTeamPanel.bind(r),r}return FirstReceivePanel_inherits(FirstReceivePanel,e),FirstReceivePanel.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.showFirstEnterJoinPanel?this.localStorage.get("matchSystem-first-join-panel")&&this.props.lolActivityTip===e.lolActivityTip?this.matchSystemServices.closeFirstJoinSystemPanel():(this.setState({show:!0}),this.localStorage.set("matchSystem-first-join-panel",1,31536e3)):this.setState({show:!1})},FirstReceivePanel.prototype.toggleJoinTeamPanel=function toggleJoinTeamPanel(e){var t=this,r=this.props.isFirstEnter;clearTimeout(this.hoverTimer),e?this.matchSystemServices.toggleJoinTeamPanel(1):this.hoverTimer=setTimeout(function(){r||t.matchSystemServices.toggleJoinTeamPanel(0)},200)},FirstReceivePanel.prototype.handleCloseJoinSystemPanel=function handleCloseJoinSystemPanel(){this.matchSystemServices.closeFirstJoinSystemPanel()},FirstReceivePanel.prototype.handleShowSelectTeamPanel=function handleShowSelectTeamPanel(){Ts.a.check()?this.matchSystemServices.showSelectTeamPanel():(Ts.a.show(),this.localStorage.remove("matchSystem-first-join-panel"))},FirstReceivePanel.prototype.render=function render(){var e=this.props.lolActivityTip;return Ns.a.createElement("div",{className:"MatchSystem-FirstReceivePanel",style:{display:this.state.show?"block":"none"},__source:{fileName:yj,lineNumber:78},__self:this},Ns.a.createElement("div",{className:"Receive-title",__source:{fileName:yj,lineNumber:80},__self:this}),Ns.a.createElement("div",{className:"Receive-tip",__source:{fileName:yj,lineNumber:81},__self:this},"\u89e3\u9501\u8d5b\u4e8b",Ns.a.createElement("span",{__source:{fileName:yj,lineNumber:82},__self:this},"\u5f69\u8272"),"\u5f39\u5e55\u3001",Ns.a.createElement("em",{__source:{fileName:yj,lineNumber:82},__self:this},"\u8d85\u7ea7"),"\u5f39\u5e55"),Ns.a.createElement("div",{onClick:this.handleShowSelectTeamPanel,className:"Receive-btn",__source:{fileName:yj,lineNumber:84},__self:this}),Ns.a.createElement("div",{className:"Receive-txt",__source:{fileName:yj,lineNumber:85},__self:this},e),Ns.a.createElement("div",{onClick:this.handleCloseJoinSystemPanel,className:"Receive-close",__source:{fileName:yj,lineNumber:86},__self:this}))},FirstReceivePanel}(Ns.a.Component),dj=FirstReceivePanel_applyDecoratedDescriptor(mj.prototype,"matchSystemServices",[pj],{enumerable:!0,initializer:null}),bj=FirstReceivePanel_applyDecoratedDescriptor(mj.prototype,"localStorage",[fj],{enumerable:!0,initializer:null}),mj),Oj=Object(yh.connect)(function mapStateToProps(e){return{showJoinSystem:e.matchSystemData.showJoinSystem,isFirstEnter:e.matchSystemData.isFirstEnter,showFirstEnterJoinPanel:e.matchSystemData.showFirstEnterJoinPanel,lolActivityTip:e.matchSystemData.lolActivityTip}})(wj),Ej=(r("40efb"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystem/SelectTeamPanel/SelectTeamPanel.js");function SelectTeamPanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SelectTeamPanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Dj,Pj,jj,kj=(_j=(0,n.a.Service)(ks.a),Sj=function(e){function SelectTeamPanel(t){!function SelectTeamPanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectTeamPanel);var r=function SelectTeamPanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function SelectTeamPanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"matchSystemServices",Nj,r),r.state={currentPage:0,selectedTeamId:0,isLimit:!1},r.togglePage=r.togglePage.bind(r),r.handleSelectTeam=r.handleSelectTeam.bind(r),r.handleClose=r.handleClose.bind(r),r.handleUserSeizeMedal=r.handleUserSeizeMedal.bind(r),r}return SelectTeamPanel_inherits(SelectTeamPanel,e),SelectTeamPanel.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.userDetail,r=e.gainTeams;if(t.privilege&&t.privilege.level){var i=1,n=t.privilege.level;n<6?i=1:n<11?i=2:n<16?i=3:n<21?i=4:n<26&&(i=5),r.length===i&&this.setState({isLimit:!0})}},SelectTeamPanel.prototype.handleSelectTeam=function handleSelectTeam(e){var t=this.props.gainTeams,r=this.state.isLimit,i=t.find(function(t){return t.team_id===e.team_id});r||i||this.setState({selectedTeamId:e.team_id})},SelectTeamPanel.prototype.handleClose=function handleClose(){this.matchSystemServices.closeSelectTeamPanel()},SelectTeamPanel.prototype.handleUserSeizeMedal=function handleUserSeizeMedal(){var e=this.state.selectedTeamId;e&&this.matchSystemServices.userSeizeMedal({medal_id:e,game_type:1})},SelectTeamPanel.prototype.togglePage=function togglePage(){var e=this.state.currentPage;this.setState({currentPage:e?0:1})},SelectTeamPanel.prototype.renderTeams=function renderTeams(e,t,r){return this.props.matchSystemTeams.length?Ns.a.createElement("div",{className:"SelectTeam-teamList",__source:{fileName:Ej,lineNumber:94},__self:this},Ns.a.createElement("div",{className:"SelectTeams-Container",style:{transform:"translateX("+e+")"},__source:{fileName:Ej,lineNumber:95},__self:this},this.renderPageOneTeams(),this.renderPageTwoTeams()),Ns.a.createElement("div",{onClick:this.togglePage,className:"pageOne "+(r?"":"pageCurrent"),__source:{fileName:Ej,lineNumber:99},__self:this}),Ns.a.createElement("div",{onClick:this.togglePage,className:"pageTwo "+(r?"pageCurrent":""),__source:{fileName:Ej,lineNumber:100},__self:this}),t):Ns.a.createElement("div",{className:"SelectTeam-noTeamMsg",__source:{fileName:Ej,lineNumber:107},__self:this},"\u6682\u65e0\u961f\u4f0d\u4fe1\u606f\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5")},SelectTeamPanel.prototype.renderPageOneTeams=function renderPageOneTeams(){var e=this,t=this.state.selectedTeamId,r=this.props,i=r.matchSystemTeams,n=r.gainTeams,a=[],o=i.slice(0,9);return i.length?(o.forEach(function(r){var i=n.find(function(e){return e.team_id===r.team_id});a.push(Ns.a.createElement("li",{className:(t===r.team_id?"current":"")+" "+(i?"selected":""),onClick:function onClick(){e.handleSelectTeam(r)},key:r.team_id,__source:{fileName:Ej,lineNumber:126},__self:e},Ns.a.createElement("img",{src:r.pic,__source:{fileName:Ej,lineNumber:128},__self:e}),Ns.a.createElement("div",{__source:{fileName:Ej,lineNumber:129},__self:e},r.name)))}),Ns.a.createElement("ul",{className:"SelectTeam-teams",__source:{fileName:Ej,lineNumber:135},__self:this},a)):""},SelectTeamPanel.prototype.renderPageTwoTeams=function renderPageTwoTeams(){var e=this,t=this.state.selectedTeamId,r=this.props.matchSystemTeams,i=[],n=r.slice(9,16);return r.length?(n.forEach(function(r){i.push(Ns.a.createElement("li",{className:t===r.team_id?"current":"",onClick:function onClick(){e.handleSelectTeam(r)},key:r.team_id,__source:{fileName:Ej,lineNumber:150},__self:e},Ns.a.createElement("img",{src:r.pic,__source:{fileName:Ej,lineNumber:152},__self:e}),Ns.a.createElement("div",{__source:{fileName:Ej,lineNumber:153},__self:e},r.name)))}),Ns.a.createElement("ul",{className:"SelectTeam-teams",style:{marginLeft:"-2px"},__source:{fileName:Ej,lineNumber:159},__self:this},i)):""},SelectTeamPanel.prototype.render=function render(){var e=this.state,t=e.currentPage,r=e.selectedTeamId,i=e.isLimit,n=this.props,a=n.showSelectTeamPanel,o=n.userDetail,l=Ns.a.createElement("div",{onClick:this.togglePage,className:"nextPage",__source:{fileName:Ej,lineNumber:166},__self:this}),s=0,c="",u="",p="\u8363\u8000\u7b49\u7ea71-5\u7ea7\uff0c\u53ef\u9009\u62e9\u4e00\u652f\u652f\u6301\u961f\u4f0d",f=0;return i?p=Ns.a.createElement("span",{__source:{fileName:Ej,lineNumber:175},__self:this},"\u7b49\u7ea7\u672a\u8fbe\u5230\uff0c\u652f\u6301\u6218\u961f\u5df2\u8fbe\u4e0a\u9650",Ns.a.createElement("a",{target:"_blank",href:"/topic/GloryCompetition?conf_id=1&anchor=myLevel",__source:{fileName:Ej,lineNumber:177},__self:this},"\u5982\u4f55\u63d0\u5347\u7b49\u7ea7")):o.privilege&&o.privilege.level&&((f=o.privilege.level)<6?p="\u8363\u8000\u7b49\u7ea71-5\u7ea7\uff0c\u53ef\u9009\u62e9\u4e00\u652f\u652f\u6301\u961f\u4f0d":f<11?p="\u8363\u8000\u7b49\u7ea76-10\u7ea7\uff0c\u53ef\u9009\u62e9\u4e24\u652f\u652f\u6301\u961f\u4f0d":f<16?p="\u8363\u8000\u7b49\u7ea711-15\u7ea7\uff0c\u53ef\u9009\u62e9\u4e09\u652f\u652f\u6301\u961f\u4f0d":f<21?p="\u8363\u8000\u7b49\u7ea716-20\u7ea7\uff0c\u53ef\u9009\u62e9\u56db\u652f\u652f\u6301\u961f\u4f0d":f<26&&(p="\u8363\u8000\u7b49\u7ea721-25\u7ea7\uff0c\u53ef\u9009\u62e9\u4e94\u652f\u652f\u6301\u961f\u4f0d")),i?c=Ns.a.createElement("div",{className:"SelectTeam-unSelectTxt",__source:{fileName:Ej,lineNumber:196},__self:this}):r?u=Ns.a.createElement("div",{className:"SelectTeam-badge level1",__source:{fileName:Ej,lineNumber:200},__self:this},Ns.a.createElement("img",{src:EP[r].icon,__source:{fileName:Ej,lineNumber:200},__self:this})):c=Ns.a.createElement("div",{className:"SelectTeam-unSelectTxt",__source:{fileName:Ej,lineNumber:198},__self:this},"\u8bf7\u60a8\u9009\u62e9\u9700\u8981\u9886\u53d6\u7684\u6218\u961f\u52cb\u7ae0"),1===t&&(l=Ns.a.createElement("div",{onClick:this.togglePage,className:"prePage",__source:{fileName:Ej,lineNumber:204},__self:this}),s="-274px"),Ph.a.createPortal(Ns.a.createElement("div",{className:"MatchSystem-SelectTeamPanel",style:{display:a?"block":"none"},__source:{fileName:Ej,lineNumber:209},__self:this},Ns.a.createElement("div",{className:"SelectTeam-title",__source:{fileName:Ej,lineNumber:212},__self:this},"\u9009\u62e9\u652f\u6301\u6218\u961f\uff0c\u83b7\u53d6\u8363\u8000\u52cb\u7ae0"),this.renderTeams(s,l,t),Ns.a.createElement("div",{className:"SelectTeam-tip",__source:{fileName:Ej,lineNumber:214},__self:this},"\u5bf9\u5e94\u52cb\u7ae0"),c,u,Ns.a.createElement("div",{onClick:this.handleUserSeizeMedal,className:"SelectTeam-btn",__source:{fileName:Ej,lineNumber:217},__self:this}),Ns.a.createElement("div",{className:"SelectTeam-levelTip",__source:{fileName:Ej,lineNumber:218},__self:this},p),Ns.a.createElement("div",{onClick:this.handleClose,className:"SelectTeam-close",__source:{fileName:Ej,lineNumber:219},__self:this})),document.querySelector(".layout-Player-aside"))},SelectTeamPanel}(Ns.a.Component),Nj=function SelectTeamPanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Sj.prototype,"matchSystemServices",[_j],{enumerable:!0,initializer:null}),Sj),Rj=Object(yh.connect)(function mapStateToProps(e){return{showSelectTeamPanel:e.matchSystemData.showSelectTeamPanel,userDetail:e.matchSystemData.userDetail,matchSystemTeams:e.matchSystemData.matchSystemTeams,gainTeams:e.matchSystemData.gainTeams}})(kj),Tj="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystem/MatchSystem.js";function MatchSystem_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystem_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystem_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Bj=(Dj=(0,n.a.Service)(ks.a),Pj=function(e){function MedalContainer(){var t,r;!function MatchSystem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystem_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MatchSystem_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"matchSystemServices",jj,r),MatchSystem_possibleConstructorReturn(r,t)}return MatchSystem_inherits(MedalContainer,e),MedalContainer.prototype.render=function render(){return Ns.a.createElement("div",{__source:{fileName:Tj,lineNumber:15},__self:this},Ns.a.createElement(Oj,{__source:{fileName:Tj,lineNumber:16},__self:this}),Ns.a.createElement(Rj,{__source:{fileName:Tj,lineNumber:17},__self:this}))},MedalContainer}(Ns.a.Component),jj=function MatchSystem_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Pj.prototype,"matchSystemServices",[Dj],{enumerable:!0,initializer:null}),Pj),Mj=r("cbd9a"),zj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSpeak/ChatSpeak.js";function ChatSpeak_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSpeak_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Lj,Fj,Aj,Ij,xj=function(e){function ChatSpeak(){return function ChatSpeak_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSpeak),function ChatSpeak_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatSpeak_inherits(ChatSpeak,e),ChatSpeak.prototype.render=function render(){var e="",t="",r=b.DataCenter.global.get("$ROOM");return Mj.a.indexOf(parseInt(r.room_id,10))>-1?(e=Ns.a.createElement(Bj,{__source:{fileName:zj,lineNumber:25},__self:this}),t=Ns.a.createElement(gj,{__source:{fileName:zj,lineNumber:26},__self:this})):t=Ns.a.createElement(KD,{__source:{fileName:zj,lineNumber:28},__self:this}),Ns.a.createElement("div",{className:"ChatSpeak",__source:{fileName:zj,lineNumber:32},__self:this},e,t,Ns.a.createElement(XE,{__source:{fileName:zj,lineNumber:35},__self:this}))},ChatSpeak}(Ns.a.Component),Gj=r("b8720"),Uj=(r("2b9d3"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionList.js");function EmotionList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Hj,Wj=n.a.Service,Vj={douyu:Gj.a,lushi:Gj.b},$j=(Lj=Wj(si.a),Object(ee.log)((Aj=function(e){function EmotionList(){var t,r;!function EmotionList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionList);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionList_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatSendServices",Ij,r),r.handleClickEmotionRel=function(e,t){if(!Ts.a.check())return Ts.a.show(),void e.stopPropagation();var i="dy"+t;r.chatSendServices.appendFaceCode(i),Object(pr.dysub)("click_msg_look",{code:i})},EmotionList_possibleConstructorReturn(r,t)}return EmotionList_inherits(EmotionList,e),EmotionList.prototype.handleGotoTopic=function handleGotoTopic(e){e.stopPropagation(),Object(pr.dysub)("click_go_to_BlizzardtvHS")},EmotionList.prototype.genEmotionListCon=function genEmotionListCon(){var e=this,t=this.props,r=t.currentEmotTab,i=void 0===r?"":r,n=t.emotionData,a=(void 0===n?{}:n).lushiStatusCode,o=window.location,l=void 0===o?{}:o;return"lushi"===i&&0!==a?Ns.a.createElement("div",{className:"EmotionList-lushiProm",__source:{fileName:Uj,lineNumber:58},__self:this},Ns.a.createElement("i",{className:"EmotionList-lushiProm-img",__source:{fileName:Uj,lineNumber:59},__self:this}),Ns.a.createElement("span",{className:"EmotionList-lushiProm-info",__source:{fileName:Uj,lineNumber:60},__self:this},"\u672a\u83b7\u5f97"),"/topic/BlizzardtvHS"===l.pathname?Ns.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"#giftCtr",target:"_self",onClick:this.handleGotoTopic.bind(this),__source:{fileName:Uj,lineNumber:63},__self:this},"\u524d\u5f80\u83b7\u5f97"):Ns.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"//www.douyu.com/topic/BlizzardtvHS",target:"_blank",onClick:this.handleGotoTopic.bind(this),__source:{fileName:Uj,lineNumber:70},__self:this},"\u524d\u5f80\u83b7\u5f97")):Ns.a.createElement("div",{className:"EmotionList-con",style:{top:this.props.top+"px"},__source:{fileName:Uj,lineNumber:83},__self:this},Vj[i].map(function(t,r){var i=(r+7)%42>=0&&(r+7)%42<7?"is-emBBN":"";return Ns.a.createElement("em",{className:"EmotionList-item "+((r+1)%7===0?"is-emBRN":"")+" "+i,key:t.id,title:t.title,onClick:function onClick(r){e.handleClickEmotionRel(r,t.id)},__source:{fileName:Uj,lineNumber:89},__self:e},Ns.a.createElement("img",{src:t.url,__source:{fileName:Uj,lineNumber:96},__self:e}))}))},EmotionList.prototype.render=function render(){return Ns.a.createElement("div",{className:"EmotionList",__source:{fileName:Uj,lineNumber:106},__self:this},this.genEmotionListCon())},EmotionList}(Ns.a.Component),Ij=function EmotionList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Aj.prototype,"chatSendServices",[Lj],{enumerable:!0,initializer:null}),Fj=Aj))||Fj),Kj="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionScroller.js";function EmotionScroller_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionScroller_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jj=Object(ee.log)(Hj=function(e){function EmotionScroller(){!function EmotionScroller_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionScroller);var t=function EmotionScroller_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={},t}return EmotionScroller_inherits(EmotionScroller,e),EmotionScroller.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},EmotionScroller.prototype.handleArrowClick=function handleArrowClick(e){var t=this.props,r=t.showScroll,i=t.handleArrowClick,handleArrowClick=void 0===i?function(){}:i;r&&handleArrowClick(e)},EmotionScroller.prototype.render=function render(){var e=["EmotionScroller-facepage",this.props.statusUp?"is-up":"",this.props.statusDown?"is-down":""].join(" "),t=this.props.showScroll;return Ns.a.createElement("div",{className:"EmotionScroller",onClick:this.onClickHandler,__source:{fileName:Kj,lineNumber:47},__self:this},t?Ns.a.createElement("div",{className:"EmotionScroller-track",__source:{fileName:Kj,lineNumber:50},__self:this},Ns.a.createElement("div",{className:"EmotionScroller-thumb",style:{top:this.props.tops+"px"},__source:{fileName:Kj,lineNumber:51},__self:this},Ns.a.createElement("div",{className:e,style:{display:""+this.props.showPage},__source:{fileName:Kj,lineNumber:52},__self:this},Ns.a.createElement("div",{className:"EmotionScroller-pagenum",__source:{fileName:Kj,lineNumber:54},__self:this},this.props.pagenum+"/2")))):null,Ns.a.createElement("div",{className:"EmotionScroller-up",onClick:this.handleArrowClick.bind(this,-1),__source:{fileName:Kj,lineNumber:60},__self:this}),Ns.a.createElement("div",{className:"EmotionScroller-down",onClick:this.handleArrowClick.bind(this,1),__source:{fileName:Kj,lineNumber:61},__self:this}))},EmotionScroller}(Ns.a.Component))||Hj;Jj.propTypes={chatToolbar:vh.PropTypes.object};var qj,Qj,Yj,Xj,Zj=Object(yh.connect)(function mapStateToProps(e){return{chatToolbar:e.chatToolbar}})(Jj),ek=r("cfe72"),tk=r.n(ek),rk=r("8e7bc"),ik=r.n(rk),nk=[{url:tk.a,key:"douyu",desc:"\u6597\u9c7c\u8868\u60c5\u5305",showScroll:!0,needLogin:!1},{url:ik.a,key:"lushi",desc:"\u7089\u77f3\u8868\u60c5\u5305",showScroll:!1,needLogin:!0}],ak="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionTab.js";function EmotionTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ok=!1,lk=(qj=(0,n.a.Service)(ia),Object(ee.log)((Yj=function(e){function EmotionTab(){var t,r;!function EmotionTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionTab);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"emotionServices",Xj,r),EmotionTab_possibleConstructorReturn(r,t)}return EmotionTab_inherits(EmotionTab,e),EmotionTab.prototype.componentDidMount=function componentDidMount(){ok||(this.emotionServices.getLushiEmotStatus(),ok=!0)},EmotionTab.prototype.emotTabClick=function emotTabClick(e,t){var r=this.props.changeEmotTab,i=void 0===r?function(){}:r,n=e.key,a=e.showScroll,o=e.needLogin;Object(pr.dysub)("click_emot_tab",{tab:n}),t.stopPropagation(),!o||Ts.a.check()?i(n,a):Ts.a.show()},EmotionTab.prototype.hanleFilterEmotTab=function hanleFilterEmotTab(){var e=this.props.emotionData,t=(void 0===e?{}:e).lushiStatusCode;return nk.filter(function(e){return"lushi"!==e.key||(5005===t||0===t)})},EmotionTab.prototype.render=function render(){var e=this,t=this.props.currentEmotTab,r=void 0===t?"":t,i=this.hanleFilterEmotTab();return Ns.a.createElement("ul",{className:"EmotionTab",__source:{fileName:ak,lineNumber:75},__self:this},i.map(function(t){return Ns.a.createElement("li",{className:"EmotionTab-item "+(r===t.key?"is-active":""),key:t.key,onClick:e.emotTabClick.bind(e,t),__source:{fileName:ak,lineNumber:78},__self:e},Ns.a.createElement("img",{className:"EmotionTab-img EmotionTab-img--"+t.key,src:t.url,__source:{fileName:ak,lineNumber:83},__self:e}))}))},EmotionTab}(Ns.a.Component),Xj=function EmotionTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Yj.prototype,"emotionServices",[qj],{enumerable:!0,initializer:null}),Qj=Yj))||Qj);lk.propTypes={currentEmotTab:vh.PropTypes.string,emotionData:vh.PropTypes.object,changeEmotTab:vh.PropTypes.func};var sk,ck=lk,uk="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/Emotion.js";function Emotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Emotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pk=Object(ee.log)(sk=function(e){function Emotion(){!function Emotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Emotion);var t=function Emotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={top:0,tops:10,pagenum:1,showPage:"none",statusUp:0,statusDown:0,emotTab:"douyu",showScroll:!0},t.handleWheel=t.handleWheel.bind(t),t.handleArrowClick=t.handleArrowClick.bind(t),t}return Emotion_inherits(Emotion,e),Emotion.prototype.handleChangeEmotTab=function handleChangeEmotTab(e,t){var r=this;this.setState({emotTab:e,showScroll:t},function(){r.handleArrowClick(-1)})},Emotion.prototype.handleWheel=function handleWheel(e){if(this.state.showScroll){var t=e.deltaY;e.preventDefault(),this.handleArrowClick(t)}},Emotion.prototype.handleArrowClick=function handleArrowClick(e){e>0?this.setState({top:-257,tops:128,pagenum:2,showPage:"block",statusUp:0,statusDown:1}):e<0&&this.setState({top:0,tops:10,pagenum:1,showPage:"block",statusUp:1,statusDown:0})},Emotion.prototype.render=function render(){var e=this.props,t=e.isOpen,r=e.emotionData,i=void 0===r?{}:r;return t&&Ns.a.createElement("div",{className:"Emotion",onWheel:this.handleWheel,__source:{fileName:uk,lineNumber:83},__self:this},Ns.a.createElement("div",{className:"Emotion-container",__source:{fileName:uk,lineNumber:84},__self:this},Ns.a.createElement(Zj,{tops:this.state.tops,showPage:this.state.showPage,statusUp:this.state.statusUp,statusDown:this.state.statusDown,pagenum:this.state.pagenum,showScroll:this.state.showScroll,handleArrowClick:this.handleArrowClick,__source:{fileName:uk,lineNumber:85},__self:this}),Ns.a.createElement($j,{top:this.state.top,currentEmotTab:this.state.emotTab,emotionData:i,__source:{fileName:uk,lineNumber:89},__self:this}),Ns.a.createElement(ck,{currentEmotTab:this.state.emotTab,changeEmotTab:this.handleChangeEmotTab.bind(this),emotionData:i,__source:{fileName:uk,lineNumber:94},__self:this})))},Emotion}(Ns.a.Component))||sk;pk.propTypes={};var fk,mk,dk,bk,hk,vk,gk,yk=Object(yh.connect)(function mapStateToProps(e){return{emotionData:e.emotionData}})(pk);function chatToolBarServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatToolBarServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatToolBarServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatToolBarServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _k,Sk,Nk,Ck,wk=n.a.Store,Ok=n.a.Service,Ek=Si.a.socketStream,Dk=(fk=Ok(b.DataCenter.global),mk=Ok(b.DataCenter.localStorage),dk=wk(),bk=function(e){function ChatToolBarServices(){var t,r;!function chatToolBarServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatToolBarServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatToolBarServices_initDefineProp(r,"global",hk,r),chatToolBarServices_initDefineProp(r,"localStorage",vk,r),chatToolBarServices_initDefineProp(r,"store",gk,r),r.config={storageName:"room-fansBarrageColor",defaultBarrageColor:{index:0,color:0,status:1,level:0},receiveSummerReward:!1},chatToolBarServices_possibleConstructorReturn(r,t)}return chatToolBarServices_inherits(ChatToolBarServices,e),ChatToolBarServices.prototype.openLetter=function openLetter(e){this.store.dispatch(Vo.openLetter(e))},ChatToolBarServices.prototype.openFace=function openFace(e){this.store.dispatch(Vo.openFace(e))},ChatToolBarServices.prototype.openFansBarrageBox=function openFansBarrageBox(e){this.store.dispatch(Vo.openFansBarrageBox(e))},ChatToolBarServices.prototype.sendSelectedIndex=function sendSelectedIndex(){this.store.dispatch(Vo.sendSelectedIndex())},ChatToolBarServices.prototype.observerFansBarrage=function observerFansBarrage(){var e=this;Ek.subscribe("adp",function(t){if((new Date).getTime()<1e3*t.cdt){var r=[{index:0,color:0,status:1,level:0},{index:1,color:2,status:1,level:6},{index:2,color:3,status:1,level:9},{index:3,color:6,status:1,level:12},{index:4,color:4,status:1,level:15},{index:5,color:5,status:1,level:18},{index:6,color:1,status:1,level:21}];e.config.receiveSummerReward=!0,e.store.dispatch(Vo.observerFansBarrage({list:r,selectedIndex:6,color:r[6]&&r[6].color,receiveSummerReward:!0}))}}),Ek.subscribe("fdm",function(t){if(t.list&&!e.config.receiveSummerReward){var r=Uf.a.isArray(t.list)?Uf.a.decode(t.list):[{value:t.list}],i={},n=[],a=e.config,o=a.storageName,l=a.defaultBarrageColor,s=e.localStorage.get(o),c=0,u=void 0;n[0]=l,r.forEach(function(e,t){if(e&&e.value){var r=Uf.a.decode(e.value).too(),a=t+1,o={index:a,color:parseInt(r.col,10),status:parseInt(r.ul,10),level:parseInt(r.ubl,10)};1===o.status&&(u=a,i[o.color]=o),n[a]=o}}),i[l.color]=l,i[s]?c=i[s].index:null===s&&(c=u),(e.store.getState().nobleBarrageData.isNobleBarrage?1:0)?e.store.dispatch(Vo.observerFansBarrage({list:n,selectedIndex:0,color:0,receiveSummerReward:!1})):e.store.dispatch(Vo.observerFansBarrage({list:n,selectedIndex:c,color:n[c]&&n[c].color,receiveSummerReward:!1}))}})},ChatToolBarServices.prototype.updateColor=function updateColor(e,t){this.store.dispatch(Vo.sendSelectedIndex({selectedIndex:e,color:t}))},ChatToolBarServices.prototype.updateCampColor=function updateCampColor(e,t){this.store.dispatch(Vo.updateCampColor({color:e,colorValue:t}))},ChatToolBarServices.prototype.setStorage=function setStorage(e){this.localStorage.set(this.config.storageName,e,2592e3)},ChatToolBarServices.prototype.closeFansBarrage=function closeFansBarrage(){this.store.dispatch(Vo.closeFansBarrage())},ChatToolBarServices}(d.Service),hk=chatToolBarServices_applyDecoratedDescriptor(bk.prototype,"global",[fk],{enumerable:!0,initializer:null}),vk=chatToolBarServices_applyDecoratedDescriptor(bk.prototype,"localStorage",[mk],{enumerable:!0,initializer:null}),gk=chatToolBarServices_applyDecoratedDescriptor(bk.prototype,"store",[dk],{enumerable:!0,initializer:null}),bk);function ChatEmotionBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotionBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Pk,jk=(_k=(0,n.a.Service)(Dk),Object(ee.log)((Nk=function(e){function EmotionSwitcher(){!function ChatEmotionBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionSwitcher);var t=function ChatEmotionBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatEmotionBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatToolBarService",Ck,t),t.state={},t}return ChatEmotionBtn_inherits(EmotionSwitcher,e),EmotionSwitcher.prototype.render=function render(){return Ns.a.createElement("div",{className:"EmotionSwitcher",title:"\u8868\u60c5",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotionBtn.js",lineNumber:26},__self:this})},EmotionSwitcher}(Ns.a.Component),Ck=function ChatEmotionBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Nk.prototype,"chatToolBarService",[_k],{enumerable:!0,initializer:null}),Sk=Nk))||Sk),kk="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotion.js";function ChatEmotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Rk,Tk,Bk,Mk,zk,Lk,Fk,Ak,Ik=Object(ee.log)(Pk=function(e){function ChatEmotion(){!function ChatEmotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEmotion);var t=function ChatEmotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isOpen:!1},t.openFace=t.openFace.bind(t),t}return ChatEmotion_inherits(ChatEmotion,e),ChatEmotion.prototype.openFace=function openFace(){this.setState({isOpen:!this.state.isOpen})},ChatEmotion.prototype.render=function render(){return Ns.a.createElement("div",{className:"ChatEmotion",onClick:this.openFace,__source:{fileName:kk,lineNumber:31},__self:this},Ns.a.createElement(jk,{__source:{fileName:kk,lineNumber:32},__self:this}),Ns.a.createElement(yk,{isOpen:this.state.isOpen,__source:{fileName:kk,lineNumber:33},__self:this}))},ChatEmotion}(Ns.a.Component))||Pk,xk=(r("e26f6"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Gk="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetterBtn.js";function ChatLetterBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatLetterBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetterBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatLetterBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Uk,Hk=n.a.Service,Wk=(Rk=Hk(Dk),Tk=Hk(b.DataCenter.common),Bk=Hk(b.DataCenter.global),Object(ee.log)((zk=function(e){function ChatLetterBtn(){!function ChatLetterBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetterBtn);var t=function ChatLetterBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatLetterBtn_initDefineProp(t,"chatToolBarService",Lk,t),ChatLetterBtn_initDefineProp(t,"common",Fk,t),ChatLetterBtn_initDefineProp(t,"global",Ak,t),t.state={},t}return ChatLetterBtn_inherits(ChatLetterBtn,e),ChatLetterBtn.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("PrivateLetter").subscribe(function(t){e.setState(xk({},t))})},ChatLetterBtn.prototype.open=function open(){if(!Ts.a.check())return Ts.a.show(),!1;var e={isShow:1};return this.common.push("PrivateLetter",e),this.setState(e),!1},ChatLetterBtn.prototype.render=function render(){var e=this,t=parseInt(this.state.unread,10)?this.state.unread:0,r=t>99?"99+":t,i=t>0;return Ns.a.createElement("a",{className:"ChatLetter-Btn",title:"\u53d1\u7ad9\u5185\u4fe1",onClick:function onClick(){return e.open()},__source:{fileName:Gk,lineNumber:67},__self:this},Ns.a.createElement("span",{className:"ChatLetter-BtnHolder",__source:{fileName:Gk,lineNumber:68},__self:this}),i&&Ns.a.createElement("span",{className:"ChatLetter-PopUnread",__source:{fileName:Gk,lineNumber:70},__self:this},r))},ChatLetterBtn}(Ns.a.Component),Lk=ChatLetterBtn_applyDecoratedDescriptor(zk.prototype,"chatToolBarService",[Rk],{enumerable:!0,initializer:null}),Fk=ChatLetterBtn_applyDecoratedDescriptor(zk.prototype,"common",[Tk],{enumerable:!0,initializer:null}),Ak=ChatLetterBtn_applyDecoratedDescriptor(zk.prototype,"global",[Bk],{enumerable:!0,initializer:null}),Mk=zk))||Mk),Vk="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetter.js";function ChatLetter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $k,Kk,Jk,qk,Qk,Yk,Xk,Zk,eR,tR=Object(ee.log)(Uk=function(e){function ChatLetter(){return function ChatLetter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetter),function ChatLetter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatLetter_inherits(ChatLetter,e),ChatLetter.prototype.render=function render(){return Ns.a.createElement("div",{className:"ChatLetter",__source:{fileName:Vk,lineNumber:17},__self:this},Ns.a.createElement(Wk,{__source:{fileName:Vk,lineNumber:18},__self:this}))},ChatLetter}(Ns.a.Component))||Uk;function horn4CategoryServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function horn4CategoryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function horn4CategoryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function horn4CategoryServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rR,iR,nR,aR,oR,lR,sR,cR,uR,pR,fR,mR,dR,bR,hR,vR,gR,yR,_R=Si.a.socketStream,SR=Si.a.socketProxy,NR=n.a.Service,CR=n.a.Store,wR=($k=NR(b.DataCenter.global),Kk=NR(b.DataCenter.common),Jk=NR(b.DataCenter.localStorage),qk=CR(),Qk=function(e){function Horn4CategoryServices(){var t,r;!function horn4CategoryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=horn4CategoryServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),horn4CategoryServices_initDefineProp(r,"global",Yk,r),horn4CategoryServices_initDefineProp(r,"common",Xk,r),horn4CategoryServices_initDefineProp(r,"localStorage",Zk,r),horn4CategoryServices_initDefineProp(r,"store",eR,r),r.config={propId:43,storageName:"room-horn4Category"},r.leadTipShowState=0,r.tipTimer=null,r.hideResultTimer=null,horn4CategoryServices_possibleConstructorReturn(r,t)}return horn4CategoryServices_inherits(Horn4CategoryServices,e),Horn4CategoryServices.prototype.init=function init(){var e=this;this.localStorage.get(this.config.storageName)||(this.leadTipShowState=1,this.localStorage.set(this.config.storageName,1));var t=this.handleMute.bind(this);this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.room||{}}),_R.subscribe("cdcp",this.handleCount.bind(this)),_R.subscribe("cthnsn",this.handleMode.bind(this)),_R.subscribe("ntmet",t),_R.subscribe("muteinfo",t),_R.subscribe("memberinfores",this.handleNoble.bind(this)),_R.subscribe("cthnres",this.handleHornResponse.bind(this))},Horn4CategoryServices.prototype.handleCount=function handleCount(e){if("hpid"in e){var t=parseInt(e.hcnt,10)||0,r=0;e.hpid&&(this.config.propId=e.hpid),t>0&&this.leadTipShowState&&(r=1,this.leadTipShowState=0),this.store.dispatch(mo.setHornCount({count:t,leadTipShowState:r}))}},Horn4CategoryServices.prototype.handleMode=function handleMode(e){var t=this,r={mode:0,btnType:0,checkingCont:"",showTip:0};"1"===e.hm&&(r.mode=1,r.btnType=1,"1"===e.hs?r.btnType=2:"2"===e.hs&&(r.btnType=3,r.errorStatus=1,r.showTip=1,clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){t.store.dispatch(mo.setMode({showTip:2}))},5e3)),e.hc&&(r.checkingCont=e.hc)),this.store.dispatch(mo.setMode(r))},Horn4CategoryServices.prototype.handleMute=function handleMute(e){var t=e.mtype;e.met>2&&t>0&&this.store.dispatch(mo.setMute(e))},Horn4CategoryServices.prototype.handleNoble=function handleNoble(e){var t=parseInt(e.npts,10)||0,r=parseInt(e.nl,10)||0,i=parseInt(e.npl,10)||0,n=0;r>0&&(r<3||7===r)?n=1:t>0&&(n=i<3||7===i?1:2),this.store.dispatch(mo.setNobleStatus({openType:n,nobleLevel:r,nobleProtectLevel:i}))},Horn4CategoryServices.prototype.handleHornResponse=function handleHornResponse(e){var t=1,r="",i=0;switch(e.result){case"5820":t=3,r="\u7cfb\u7edf\u7ef4\u62a4\uff0c\u53d1\u9001\u5931\u8d25",i=0;break;case"356":t=2,r="\u53d1\u9001\u5185\u5bb9\u5305\u542b\u654f\u611f\u8bcd\u6c47",i=1;break;case"0":t=0,r="\u53d1\u9001\u6210\u529f",i=1;break;default:t=1,r="\u53d1\u9001\u5931\u8d25",i=1}var n=(this.store.getState().horn4CategoryData||{}).mode;this.store.dispatch(mo.handleHornResponse({errorStatus:t,statusTxt:r,btnType:1===n?1:0})),i&&this.delayHideResultTip()},Horn4CategoryServices.prototype.setChecking=function setChecking(){this.store.dispatch(mo.handleHornResponse({errorStatus:4,statusTxt:"2-3\u5206\u949f\u540e\u5b8c\u6210\u5ba1\u6838"}))},Horn4CategoryServices.prototype.delayHideResultTip=function delayHideResultTip(){var e=this;this.hideResultTimer&&clearTimeout(this.hideResultTimer),this.hideResultTimer=setTimeout(function(){e.store.dispatch(mo.handleHornResponse({errorStatus:-1,statusTxt:""}))},3e3)},Horn4CategoryServices.prototype.sendHorn=function sendHorn(e){var t=this.$ROOM||{},r=t.room_id,i=t.cate_id,n={type:"cthnreq",chatmsg:e.trim(),cid:i,rid:r,pid:this.config.propId,uid:this.global.get("USER_INFO.uid"),cl:2};SR.sendMessage(n)},Horn4CategoryServices}(d.Service),Yk=horn4CategoryServices_applyDecoratedDescriptor(Qk.prototype,"global",[$k],{enumerable:!0,initializer:null}),Xk=horn4CategoryServices_applyDecoratedDescriptor(Qk.prototype,"common",[Kk],{enumerable:!0,initializer:null}),Zk=horn4CategoryServices_applyDecoratedDescriptor(Qk.prototype,"localStorage",[Jk],{enumerable:!0,initializer:null}),eR=horn4CategoryServices_applyDecoratedDescriptor(Qk.prototype,"store",[qk],{enumerable:!0,initializer:null}),Qk),OR=r("27fac"),ER=(r("da697"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Horn4Category/Horn4Category.js");function Horn4Category_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Horn4Category_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Horn4Category_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Horn4Category_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var DR,PR="//webconf.douyucdn.cn/",jR=n.a.Service,kR=n.a.Store,RR=(rR=jR(Ds.a),iR=jR(wR),nR=jR(eC),aR=jR(Dk),oR=jR(OR.a),lR=jR(b.DataCenter.common),sR=jR(b.DataCenter.localStorage),cR=kR(),uR=Object(pr.dys)("click_msg_horn"),pR=function(e){function Horn4Category(){!function Horn4Category_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4Category);var t=function Horn4Category_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return Horn4Category_initDefineProp(t,"nobleBuyModalServices",fR,t),Horn4Category_initDefineProp(t,"horn4CategoryServices",mR,t),Horn4Category_initDefineProp(t,"nobleReminderService",dR,t),Horn4Category_initDefineProp(t,"chatToolBarService",bR,t),Horn4Category_initDefineProp(t,"firePowerService",hR,t),Horn4Category_initDefineProp(t,"common",vR,t),Horn4Category_initDefineProp(t,"localStorage",gR,t),Horn4Category_initDefineProp(t,"store",yR,t),t.config={cdTime:3,btnTxts:["\u53d1\u9001","\u63d0\u4ea4","\u5ba1\u6838\u4e2d","\u63d0\u4ea4"],nobleActionTxts:["\u5f00\u901a","\u5347\u7ea7","\u7eed\u8d39"],isTimeoutRun:!1},t.tipTimer=null,t.state={isShowTipResult:0,tipCont:"",isLeadTipHide:0,maxLength:20,popShowState:0,wordCount:0,cdTime:0,value:""},t.setPopShowState=t.setPopShowState.bind(t),t.handleIconClick=t.handleIconClick.bind(t),t.hideLeadTip=t.hideLeadTip.bind(t),t.showSiteLetter=t.showSiteLetter.bind(t),t.handleInputorChange=t.handleInputorChange.bind(t),t.handleSend=t.handleSend.bind(t),t.handleOpenNoble=t.handleOpenNoble.bind(t),t.intervalStream=new mm.Subject,t.leadTipShowTime=null,b.jsonpClient.get(String,PR+"/resource/common/noble/setNobleHorn.json","setNobleHorn").subscribe(function(e){t.config.cdTime=e.cd}),t}return Horn4Category_inherits(Horn4Category,e),Horn4Category.prototype.setPopShowState=function setPopShowState(){Ts.a.check()?(this.state.popShowState?this.setState({popShowState:0}):this.setState({popShowState:1}),this.hideLeadTip()):Ts.a.show()},Horn4Category.prototype.handleIconClick=function handleIconClick(){this.props.isOnfire?this.firePowerService.showNotice(!0):this.setPopShowState()},Horn4Category.prototype.autoHideLeadTip=function autoHideLeadTip(){var e=this,t=this.props.horn4CategoryData.leadTipShowState;this.state.isLeadTipHide||!t||this.config.isTimeoutRun||(this.config.isTimeoutRun=!0,this.leadTipShowTime=setTimeout(function(){e.hideLeadTip()},1e4))},Horn4Category.prototype.hideLeadTip=function hideLeadTip(){clearTimeout(this.leadTipShowTime),this.setState({isLeadTipHide:1})},Horn4Category.prototype.showSiteLetter=function showSiteLetter(){this.chatToolBarService.openLetter(1)},Horn4Category.prototype.handleInputorChange=function handleInputorChange(e){var t=e.target.value;this.setState({value:t,wordCount:t.length})},Horn4Category.prototype.clear=function clear(){this.setState({wordCount:0,value:""})},Horn4Category.prototype.handleSend=function handleSend(e){if(13===e.which||"click"===e.type){e.preventDefault();var t=this.getBtnEnableType(),r=Ts.a.check();if((1===t||0===t)&&!r)return void Ts.a.show();if(1===t)this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(3);else if(0===t){var i=this.props.horn4CategoryData.mode;this.horn4CategoryServices.sendHorn(this.state.value),1===i&&(this.horn4CategoryServices.setChecking(),this.setState({popShowState:0,isShowTipResult:1,tipCont:"\u5ba1\u6838\u6210\u529f\u540e\uff0c\u5c06\u76f4\u63a5\u53d1\u9001"}),this.delayHideSendTip())}}},Horn4Category.prototype.delayHideSendTip=function delayHideSendTip(){var e=this;clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){e.setState({isShowTipResult:0,tipCont:""})},5e3)},Horn4Category.prototype.getBtnEnableType=function getBtnEnableType(){var e=this.props.horn4CategoryData,t=e.count,r=e.muteType,i=e.btnType,n=this.state,a=n.cdTime,o=n.value;return r>-1||2===i||!o.length||a>0?-1:t?0:1},Horn4Category.prototype.componentDidMount=function componentDidMount(){var e=this;this.horn4CategoryServices.init(),this.intervalStream.subscribe(function(t){e.interval(t)}),this.common.get("$DATA").subscribe(function(t){e.setState({cateName:t.get("game.tag_name")})}),this.common.get("firePowerStart").subscribe(function(){e.setState({popShowState:0})})},Horn4Category.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.horn4CategoryData,r=t.checkingCont,i=t.errorStatus,n=this.props.horn4CategoryData||{},a=n.checkingCont,o=n.errorStatus;r&&a!==r&&this.setState({value:r,wordCount:r.length}),0===i&&o!==i&&(this.clear(),this.intervalStream.next(this.config.cdTime))},Horn4Category.prototype.handleOpenNoble=function handleOpenNoble(){var e=this.store.getState().horn4CategoryData||{},t=e.openType,r=e.nobleLevel;0===t||1===t?Object(pr.dysub)("click_msg_horn_noble_open",{level:r}):2===t&&Object(pr.dysub)("click_msg_horn_noble_renewal",{level:r}),this.nobleBuyModalServices.openNobleBuyModal()},Horn4Category.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.cdTimer&&this.cdTimer.unsubscribe(),this.cdTimer=Object(Jc.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.cdTimer.unsubscribe()})):this.setState({cdTime:0})},Horn4Category.prototype.getTipClassName=function getTipClassName(e){var t="Horn4Category-icon ",r="",i=this.props.horn4CategoryData.btnType;return 0===e?t+="Horn4Category-icon--successTip":4===e?r=3===i?"Horn4Category-result--checkFail":"Horn4Category-result--checking":1===e&&3===i?r="Horn4Category-result--checkFail":e>0&&(t+="Horn4Category-icon--errorTip"),{resultTipClassName:t,checkingClassName:r}},Horn4Category.prototype.getTipContComp=function getTipContComp(e){var t=this.props.horn4CategoryData.btnType,r=this.state.tipCont;return 3===t?Ns.a.createElement("span",{__source:{fileName:ER,lineNumber:368},__self:this},"\u60a8\u53d1\u8d77\u7684\u5206\u533a\u5587\u53ed\u5ba1\u6838\u672a\u901a\u8fc7\uff0c",Ns.a.createElement("span",{className:"Horn4Category-viewChatLetter",onClick:this.showSiteLetter,__source:{fileName:ER,lineNumber:370},__self:this},"\u70b9\u51fb\u67e5\u770b")):r&&e?r:""},Horn4Category.prototype.getTipShowState=function getTipShowState(){var e="",t=this.props.horn4CategoryData,r=t.btnType,i=t.showTip,n=this.state.isShowTipResult;return 2===i?e="":(1===i||n||3===r)&&(e="is-show"),e},Horn4Category.prototype.render=function render(){var e=this.props.horn4CategoryData,t=e.count,r=e.leadTipShowState,i=e.muteType,n=e.muteDesc,a=e.unMuteTime,o=e.errorStatus,l=e.statusTxt,s=e.btnType,c=e.openType,u=this.state,p=u.isLeadTipHide,f=u.maxLength,m=u.popShowState,d=u.wordCount,b=u.cdTime,h=u.value,v=u.cateName,g=(s<2||3===s)&&b<=0&&-1===i&&h.length>0,y=m?"is-show":"",_=!p&&r?"is-show":"",S=this.getTipShowState(),N=2===s,C="Horn4Category-btn Horn4Category-btn--send "+(g?"":"is-disabled"),w=this.config.btnTxts[s],O=this.config.nobleActionTxts[c],E=this.getTipClassName(o),D=this.getTipContComp(S),P=bo.a.formatDate(new Date(a),"yyyy-MM-dd hh:mm:ss");return this.autoHideLeadTip(),Ns.a.createElement("div",{className:"Horn4Category",__source:{fileName:ER,lineNumber:440},__self:this},Ns.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--popTrigger",onClick:this.handleIconClick,__source:{fileName:ER,lineNumber:441},__self:this}),Ns.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--lead "+_,__source:{fileName:ER,lineNumber:442},__self:this},"\u60a8\u6709",Ns.a.createElement("em",{className:"Horn4Category-tipHornCount",__source:{fileName:ER,lineNumber:443},__self:this},t),"\u4e2a\u5206\u533a\u5587\u53ed\uff0c\u5feb\u6765\u53d1\u9001\u5e7f\u64ad\u5427",Ns.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closeTip",onClick:this.hideLeadTip,__source:{fileName:ER,lineNumber:444},__self:this},"\xd7")),Ns.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--result "+S,__source:{fileName:ER,lineNumber:447},__self:this},D),m?Ns.a.createElement("div",{className:"Horn4Category-popWrap "+y,__source:{fileName:ER,lineNumber:451},__self:this},Ns.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closePop",onClick:this.setPopShowState,__source:{fileName:ER,lineNumber:452},__self:this},"\xd7"),Ns.a.createElement("div",{className:"Horn4Category-header",__source:{fileName:ER,lineNumber:454},__self:this},Ns.a.createElement("i",{className:"Horn4Category-icon Horn4Category-icon--whiteHorn",__source:{fileName:ER,lineNumber:455},__self:this}),Ns.a.createElement("span",{className:"Horn4Category-title",__source:{fileName:ER,lineNumber:456},__self:this},"\u5206\u533a\u5587\u53ed"),Ns.a.createElement("div",{className:"Horn4Category-resultWrap",__source:{fileName:ER,lineNumber:457},__self:this},v?Ns.a.createElement("div",{className:"Horn4Category-cateName",title:v+"\u533a\u53ef\u89c1",__source:{fileName:ER,lineNumber:459},__self:this},v,"\u533a\u53ef\u89c1"):null,Ns.a.createElement("div",{className:"Horn4Category-result "+E.checkingClassName,title:l,__source:{fileName:ER,lineNumber:462},__self:this},Ns.a.createElement("i",{className:E.resultTipClassName,__source:{fileName:ER,lineNumber:463},__self:this}),l))),Ns.a.createElement("div",{className:"Horn4Category-inputorWrap",__source:{fileName:ER,lineNumber:468},__self:this},Ns.a.createElement("textarea",{disabled:N,className:"Horn4Category-inputor",placeholder:"\u8f93\u5165\u5587\u53ed\u5185\u5bb9",maxLength:f,onChange:this.handleInputorChange,onKeyDown:this.handleSend,value:h,__source:{fileName:ER,lineNumber:469},__self:this}),Ns.a.createElement("span",{className:"Horn4Category-wordsCount",__source:{fileName:ER,lineNumber:478},__self:this},f-d,"\u5b57"),i>-1?Ns.a.createElement("div",{className:"Horn4Category-mute",__source:{fileName:ER,lineNumber:481},__self:this},"\u60a8\u5df2\u88ab",n,"\u7981\u8a00",Ns.a.createElement("span",{className:"Horn4Category-muteType",__source:{fileName:ER,lineNumber:482},__self:this},"\uff08\u7c7b\u578b\uff1a0",i,"\uff09"),Ns.a.createElement("p",{__source:{fileName:ER,lineNumber:483},__self:this},"\u89e3\u7981\u65f6\u95f4\uff1a",P,Ns.a.createElement("a",{className:"Horn4Category-needToKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:ER,lineNumber:485},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"))):null),Ns.a.createElement("div",{className:"Horn4Category-footer",__source:{fileName:ER,lineNumber:492},__self:this},Ns.a.createElement("div",{className:"Horn4Category-info",__source:{fileName:ER,lineNumber:493},__self:this},"\u5269\u4f59",Ns.a.createElement("span",{className:"Horn4Category-hornCount",__source:{fileName:ER,lineNumber:494},__self:this},t),"\u4e2a\uff0c",Ns.a.createElement("span",{className:"Horn4Category-openNoble",onClick:this.handleOpenNoble,__source:{fileName:ER,lineNumber:495},__self:this},O,"\u8d35\u65cf",Ns.a.createElement("em",{className:"Horn4Category-openTip",__source:{fileName:ER,lineNumber:496},__self:this},"\u5206\u533a\u5587\u53ed\u4e0e\u8d35\u65cf\u9c7c\u7fc5\u8fd4\u8fd8\u65f6\u95f4\u76f8\u540c")),"\u53ef\u83b7\u5f97\u5587\u53ed"),Ns.a.createElement("div",{className:C,onClick:this.handleSend,__source:{fileName:ER,lineNumber:500},__self:this},b>0?b:w))):"")},Horn4Category}(Ns.a.Component),fR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"nobleBuyModalServices",[rR],{enumerable:!0,initializer:null}),mR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"horn4CategoryServices",[iR],{enumerable:!0,initializer:null}),dR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"nobleReminderService",[nR],{enumerable:!0,initializer:null}),bR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"chatToolBarService",[aR],{enumerable:!0,initializer:null}),hR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"firePowerService",[oR],{enumerable:!0,initializer:null}),vR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"common",[lR],{enumerable:!0,initializer:null}),gR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"localStorage",[sR],{enumerable:!0,initializer:null}),yR=Horn4Category_applyDecoratedDescriptor(pR.prototype,"store",[cR],{enumerable:!0,initializer:null}),Horn4Category_applyDecoratedDescriptor(pR.prototype,"handleIconClick",[uR],Object.getOwnPropertyDescriptor(pR.prototype,"handleIconClick"),pR.prototype),pR),TR=Object(yh.connect)(function mapStateToProps(e){return{horn4CategoryData:e.horn4CategoryData,isOnfire:e.firePowerData.isOnfire}})(RR),BR=r("1798d"),MR=(r("8b895"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageTips.js");function NobleBarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zR,LR,FR,AR,IR,xR,GR,UR,HR,WR,VR,$R,KR=Object(ee.log)(DR=function(e){function NobleBarrageTips(){return function NobleBarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageTips),function NobleBarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleBarrageTips_inherits(NobleBarrageTips,e),NobleBarrageTips.prototype.render=function render(){var e=this.props.isNobleBarrage?"\u542f\u7528":"\u5173\u95ed";return Ns.a.createElement("div",{className:"NobleBarrageTips",__source:{fileName:MR,lineNumber:18},__self:this},Ns.a.createElement("div",{className:"NobleBarrageTips-con",__source:{fileName:MR,lineNumber:19},__self:this},Ns.a.createElement("span",{__source:{fileName:MR,lineNumber:20},__self:this},"\u8d35\u65cf\u5f39\u5e55\u5df2",e)),Ns.a.createElement("div",{className:"NobleBarrageTips-arrow",__source:{fileName:MR,lineNumber:22},__self:this}))},NobleBarrageTips}(Ns.a.Component))||DR,JR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageSwitcher.js";function NobleBarrageSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleBarrageSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleBarrageSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleBarrageSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var QR,YR,XR,ZR,eT,tT,rT,iT,nT=n.a.Service,aT=(zR=nT(BR.a),LR=nT(Dk),FR=nT(ks.a),AR=nT(mn.a),IR=nT(Vn.a),Object(ee.log)((GR=function(e){function NobleBarrageSwitcher(){var t,r;!function NobleBarrageSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleBarrageSwitcher_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleBarrageSwitcher_initDefineProp(r,"chatNobleBarrageService",UR,r),NobleBarrageSwitcher_initDefineProp(r,"chatToolBarServices",HR,r),NobleBarrageSwitcher_initDefineProp(r,"matchSystemServices",WR,r),NobleBarrageSwitcher_initDefineProp(r,"chatCampService",VR,r),NobleBarrageSwitcher_initDefineProp(r,"chatRoleBarrageServices",$R,r),NobleBarrageSwitcher_possibleConstructorReturn(r,t)}return NobleBarrageSwitcher_inherits(NobleBarrageSwitcher,e),NobleBarrageSwitcher.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=JR({},e),r=t.btnStatus,i=t.nobleChatBarrage,n=t.isNobleBarrage;i&&r&&n&&this.matchSystemServices.closeMatchBarrage()},NobleBarrageSwitcher.prototype.openNobleBarrageBox=function openNobleBarrageBox(e){var t=e.isOpenReminder,r=e.toggleStatus,i=e.isNobleBarrage,n=e.nobleChatBarrage;t&&this.chatNobleBarrageService.openNobleBarrageBox(),r&&this.chatNobleBarrageService.toggleNobleBarrage(),n&&(i||(this.chatToolBarServices.closeFansBarrage(),this.matchSystemServices.closeMatchBarrage(),this.chatCampService.closeChatCamp(),this.chatRoleBarrageServices.clearRoleBarrage()))},NobleBarrageSwitcher.prototype.render=function render(){var e=this,t=JR({},this.props),r=t.btnStatus,i=t.isTipsShow,n=t.isOpenReminder,a=t.nobleChatBarrage,o=t.toggleStatus,l=t.isNobleBarrage,s=a&&r&&l?"is-active":"";return Ns.a.createElement("div",{className:"NobleBarrageSwitcher "+s,onClick:function onClick(){return e.openNobleBarrageBox({isOpenReminder:n,toggleStatus:o,isNobleBarrage:l,nobleChatBarrage:a})},__source:{fileName:qR,lineNumber:73},__self:this},i?Ns.a.createElement(KR,{isNobleBarrage:l,__source:{fileName:qR,lineNumber:79},__self:this}):"")},NobleBarrageSwitcher}(Ns.a.Component),UR=NobleBarrageSwitcher_applyDecoratedDescriptor(GR.prototype,"chatNobleBarrageService",[zR],{enumerable:!0,initializer:null}),HR=NobleBarrageSwitcher_applyDecoratedDescriptor(GR.prototype,"chatToolBarServices",[LR],{enumerable:!0,initializer:null}),WR=NobleBarrageSwitcher_applyDecoratedDescriptor(GR.prototype,"matchSystemServices",[FR],{enumerable:!0,initializer:null}),VR=NobleBarrageSwitcher_applyDecoratedDescriptor(GR.prototype,"chatCampService",[AR],{enumerable:!0,initializer:null}),$R=NobleBarrageSwitcher_applyDecoratedDescriptor(GR.prototype,"chatRoleBarrageServices",[IR],{enumerable:!0,initializer:null}),xR=GR))||xR),oT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},lT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/OpenNobleReminder.js";function OpenNobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function OpenNobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function OpenNobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function OpenNobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function OpenNobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sT,cT,uT,pT,fT,mT,dT,bT,hT,vT,gT=n.a.Service,yT=(QR=gT(BR.a),YR=gT(Ds.a),XR=gT(Ip),Object(ee.log)((eT=function(e){function OpenNobleReminder(){var t,r;!function OpenNobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OpenNobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=OpenNobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),OpenNobleReminder_initDefineProp(r,"chatNobleBarrageService",tT,r),OpenNobleReminder_initDefineProp(r,"nobleBuyModalServices",rT,r),OpenNobleReminder_initDefineProp(r,"chatRankServices",iT,r),OpenNobleReminder_possibleConstructorReturn(r,t)}return OpenNobleReminder_inherits(OpenNobleReminder,e),OpenNobleReminder.prototype.closeNobleBarrageBox=function closeNobleBarrageBox(){this.chatNobleBarrageService.closeNobleBarrageBox()},OpenNobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){Ts.a.check()?(this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleBarrageBox()):Ts.a.show()},OpenNobleReminder.prototype.getBtnTxt=function getBtnTxt(e){var t="\u5f00\u901a\u8d35\u65cf";switch(e){case 1:t="\u7eed\u8d39\u8d35\u65cf";break;case 2:t="\u5347\u7ea7\u8d35\u65cf";break;default:t="\u5f00\u901a\u8d35\u65cf"}return t},OpenNobleReminder.prototype.render=function render(){var e=this,t=this.props,r=t.openNobleBarrageBox,i=oT({},t.nobleInfo).remindStatus,n=this.getBtnTxt(i),a={left:this.props.btnOffsetLeft+4},o=r?{display:"block"}:{display:"none"};return Ns.a.createElement("div",{className:"OpenNobleReminder OpenNobleReminder--barrage",style:o,__source:{fileName:lT,lineNumber:73},__self:this},Ns.a.createElement("div",{className:"OpenNobleReminder-conWrap",__source:{fileName:lT,lineNumber:74},__self:this},Ns.a.createElement("span",{className:"OpenNobleReminder-close",onClick:function onClick(){return e.closeNobleBarrageBox()},__source:{fileName:lT,lineNumber:75},__self:this},"\xd7"),Ns.a.createElement("div",{className:"OpenNobleReminder-con",__source:{fileName:lT,lineNumber:76},__self:this},Ns.a.createElement("h3",{className:"OpenNobleReminder-title",__source:{fileName:lT,lineNumber:77},__self:this},"\u6211\u7684\u5f39\u5e55\uff0c\u8ddf\u4f60\u7684\u4e0d\u540c"),Ns.a.createElement("p",{className:"OpenNobleReminder-txt",__source:{fileName:lT,lineNumber:78},__self:this},"\u8d35\u65cf\u5f39\u5e55-\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),Ns.a.createElement("div",{className:"OpenNobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},__source:{fileName:lT,lineNumber:79},__self:this},n))),Ns.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--inner",style:a,__source:{fileName:lT,lineNumber:84},__self:this}),Ns.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--outer",style:a,__source:{fileName:lT,lineNumber:85},__self:this}))},OpenNobleReminder}(Ns.a.Component),tT=OpenNobleReminder_applyDecoratedDescriptor(eT.prototype,"chatNobleBarrageService",[QR],{enumerable:!0,initializer:null}),rT=OpenNobleReminder_applyDecoratedDescriptor(eT.prototype,"nobleBuyModalServices",[YR],{enumerable:!0,initializer:null}),iT=OpenNobleReminder_applyDecoratedDescriptor(eT.prototype,"chatRankServices",[XR],{enumerable:!0,initializer:null}),ZR=eT))||ZR),_T=Object(yh.connect)(function mapStateToProps(e){return{openNobleBarrageBox:e.openNobleBarrageBox,nobleInfo:e.nobleBarrageData.nobleInfo}})(yT),ST=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},NT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/ChatNobleBarrage.js";function ChatNobleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatNobleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatNobleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatNobleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var CT,wT,OT,ET,DT=n.a.Service,PT=n.a.Store,jT=(sT=DT(Dk),cT=DT(BR.a),uT=DT(ks.a),pT=PT(),Object(ee.log)((mT=function(e){function ChatNobleBarrage(t){!function ChatNobleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatNobleBarrage);var r=function ChatNobleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatNobleBarrage_initDefineProp(r,"chatToolBarServices",dT,r),ChatNobleBarrage_initDefineProp(r,"chatNobleBarrageService",bT,r),ChatNobleBarrage_initDefineProp(r,"matchSystemService",hT,r),ChatNobleBarrage_initDefineProp(r,"store",vT,r),r.nobleBarrageBtnRef=Ns.a.createRef(),r.state={left:0},r}return ChatNobleBarrage_inherits(ChatNobleBarrage,e),ChatNobleBarrage.prototype.componentDidMount=function componentDidMount(){this.chatNobleBarrageService.getEnterRoomData(),(this.store.getState().nobleBarrageData.isNobleBarrage?1:0)&&(this.chatToolBarServices.closeFansBarrage(),this.matchSystemService.closeMatchBarrage())},ChatNobleBarrage.prototype.render=function render(){var e=this.nobleBarrageBtnRef.current,t=0;if(e){var r=e.getBoundingClientRect().left;t=(void 0===r?0:r)-this.props.toolBarleft+6}return Ns.a.createElement("div",{className:"ChatNobleBarrage",ref:this.nobleBarrageBtnRef,__source:{fileName:NT,lineNumber:60},__self:this},Ns.a.createElement(aT,ST({},this.props.initData,{__source:{fileName:NT,lineNumber:61},__self:this})),Ns.a.createElement(_T,{btnOffsetLeft:t,__source:{fileName:NT,lineNumber:62},__self:this}))},ChatNobleBarrage}(Ns.a.Component),dT=ChatNobleBarrage_applyDecoratedDescriptor(mT.prototype,"chatToolBarServices",[sT],{enumerable:!0,initializer:null}),bT=ChatNobleBarrage_applyDecoratedDescriptor(mT.prototype,"chatNobleBarrageService",[cT],{enumerable:!0,initializer:null}),hT=ChatNobleBarrage_applyDecoratedDescriptor(mT.prototype,"matchSystemService",[uT],{enumerable:!0,initializer:null}),vT=ChatNobleBarrage_applyDecoratedDescriptor(mT.prototype,"store",[pT],{enumerable:!0,initializer:null}),fT=mT))||fT),kT=Object(yh.connect)(function mapStateToProps(e){return{initData:e.nobleBarrageData}})(jT);r("cbe5a");function ChatFansBarrageBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var RT,TT,BT,MT,zT=(CT=(0,n.a.Service)(Dk),Object(ee.log)((OT=function(e){function FansBarrageSwitcher(){var t,r;!function ChatFansBarrageBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageBtn_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarrageBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarService",ET,r),ChatFansBarrageBtn_possibleConstructorReturn(r,t)}return ChatFansBarrageBtn_inherits(FansBarrageSwitcher,e),FansBarrageSwitcher.prototype.render=function render(){var e=this,t=this.props.color,r=this.props.anchorMedalSwitch;return Ns.a.createElement("div",{key:"FansBarrageSwitcher-btn",className:"FansBarrageSwitcher is-color0"+t+" "+(+t>0?"is-active":""),title:"\u7c89\u4e1d\u5f39\u5e55",onClick:function onClick(){return e.props.closeNobleBarrage(t,r)},__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageBtn.js",lineNumber:24},__self:this})},FansBarrageSwitcher}(Ns.a.Component),ET=function ChatFansBarrageBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(OT.prototype,"chatToolBarService",[CT],{enumerable:!0,initializer:null}),wT=OT))||wT),LT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/FansBarrageColor.js";function FansBarrageColor_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansBarrageColor_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansBarrageColor_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var FT,AT,IT,xT,GT=(RT=(0,n.a.Service)(Dk),Object(ee.log)((BT=function(e){function FansBarrageColor(){var t,r;!function FansBarrageColor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageColor);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansBarrageColor_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansBarrageColor_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",MT,r),FansBarrageColor_possibleConstructorReturn(r,t)}return FansBarrageColor_inherits(FansBarrageColor,e),FansBarrageColor.prototype.render=function render(){var e=this,t=this.props.medalColorList;return Ns.a.createElement("ul",{className:"FansBarrageColor",__source:{fileName:LT,lineNumber:28},__self:this},t.map(function(t,r){var i=["FansBarrageColor-item",t.status?"":"is-lock",t.status&&e.props.selectedIndex===r?"is-selected":"",6===r?"is-last":""].join(" ");return Ns.a.createElement("li",{className:i,key:r,onClick:function onClick(){return e.props.switchColor(r,t.status,t.color)},__source:{fileName:LT,lineNumber:38},__self:e},Ns.a.createElement("div",{className:"FansBarrageColor-item-colorwrap is-color0"+t.color,__source:{fileName:LT,lineNumber:42},__self:e},Ns.a.createElement("i",{__source:{fileName:LT,lineNumber:43},__self:e})),0===r?Ns.a.createElement("span",{className:"FansBarrageColor-item-txt",__source:{fileName:LT,lineNumber:47},__self:e},"\u9ed8\u8ba4"):Ns.a.createElement("div",{className:"FansBarrageColor-item-tips",__source:{fileName:LT,lineNumber:48},__self:e},Ns.a.createElement("span",{__source:{fileName:LT,lineNumber:49},__self:e},"\u7c89\u4e1d\u7b49\u7ea7"+t.level+"\u7ea7\u514d\u8d39\u4f7f\u7528")))}))},FansBarrageColor}(Ns.a.Component),MT=function FansBarrageColor_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(BT.prototype,"chatToolBarServices",[RT],{enumerable:!0,initializer:null}),TT=BT))||TT),UT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarragePop.js";function ChatFansBarragePop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarragePop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarragePop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var HT,WT=(FT=(0,n.a.Service)(Dk),Object(ee.log)((IT=function(e){function ChatFansBarragePop(){var t,r;!function ChatFansBarragePop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarragePop);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarragePop_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarragePop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",xT,r),ChatFansBarragePop_possibleConstructorReturn(r,t)}return ChatFansBarragePop_inherits(ChatFansBarragePop,e),ChatFansBarragePop.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},ChatFansBarragePop.prototype.render=function render(){var e=this.props.fansBarrageLv;return Ns.a.createElement("div",{className:"ChatFansBarragePop",style:{display:""+this.props.openFansCss},onClick:this.onClickHandler.bind(this),__source:{fileName:UT,lineNumber:30},__self:this},Ns.a.createElement("div",{className:"ChatFansBarragePop-title",__source:{fileName:UT,lineNumber:32},__self:this},Ns.a.createElement("a",{className:"ChatFansBarragePop-title-right",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:UT,lineNumber:33},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u7279\u6743"),Ns.a.createElement("p",{__source:{fileName:UT,lineNumber:35},__self:this},"\u7c89\u4e1d\u4e13\u5c5e\u5f39\u5e55")),Ns.a.createElement(GT,{medalColorList:e,switchColor:this.props.switchColor,selectedIndex:this.props.selectedIndex,__source:{fileName:UT,lineNumber:37},__self:this}),Ns.a.createElement("div",{className:"ChatFansBarragePop-describe",__source:{fileName:UT,lineNumber:39},__self:this},1===e[1].status?Ns.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:UT,lineNumber:42},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u8fbe\u5230",Ns.a.createElement("span",{__source:{fileName:UT,lineNumber:42},__self:this},"15\u7ea7"),"\uff0c\u5f39\u5e55\u53ef\u5728\u804a\u5929\u533a",Ns.a.createElement("span",{__source:{fileName:UT,lineNumber:42},__self:this},"\u60ac\u6d6e\u5c55\u793a"),"\u5662~"):Ns.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:UT,lineNumber:44},__self:this},"\u6210\u4e3a\u4e3b\u64ad\u7684",Ns.a.createElement("span",{__source:{fileName:UT,lineNumber:44},__self:this},"6\u7ea7"),"\u7c89\u4e1d\u5373\u53ef",Ns.a.createElement("span",{__source:{fileName:UT,lineNumber:44},__self:this},"\u514d\u8d39"),"\u53d1\u9001\u7c89\u4e1d\u5f39\u5e55\u5566\uff01")),Ns.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--inner",style:{left:this.props.arrowLeft},__source:{fileName:UT,lineNumber:48},__self:this}),Ns.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--outer",style:{left:this.props.arrowLeft},__source:{fileName:UT,lineNumber:50},__self:this}))},ChatFansBarragePop}(Ns.a.Component),xT=function ChatFansBarragePop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(IT.prototype,"chatToolBarServices",[FT],{enumerable:!0,initializer:null}),AT=IT))||AT),VT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageTip.js";function ChatFansBarrageTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $T,KT,JT,qT,QT,YT,XT,ZT,eB,tB,rB,iB,nB,aB,oB,lB,sB=Object(ee.log)(HT=function(e){function ChatFansBarrageTip(){var t,r;!function ChatFansBarrageTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrageTip);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageTip_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.config={fansSpecialUrl:"//www.douyu.com/t/fans"},ChatFansBarrageTip_possibleConstructorReturn(r,t)}return ChatFansBarrageTip_inherits(ChatFansBarrageTip,e),ChatFansBarrageTip.prototype.render=function render(){return this.props.showFansTips?Ns.a.createElement("div",{className:"ChatFansBarrageTip",__source:{fileName:VT,lineNumber:20},__self:this},Ns.a.createElement("div",{className:"ChatFansBarrageTip-txt clearfix",__source:{fileName:VT,lineNumber:21},__self:this},Ns.a.createElement("p",{__source:{fileName:VT,lineNumber:22},__self:this},"\u8be5\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u65e0\u6cd5\u4f7f\u7528\u7c89\u4e1d\u5f39\u5e55"),Ns.a.createElement("a",{className:"ChatFansBarrageTip-intro",target:"_blank",href:this.config.fansSpecialUrl,__source:{fileName:VT,lineNumber:23},__self:this},"\u4e86\u89e3\u66f4\u591a\u203a\u203a")),Ns.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--inner",style:{left:this.props.tipsArrowLeft},__source:{fileName:VT,lineNumber:26},__self:this}),Ns.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--outer",style:{left:this.props.tipsArrowLeft},__source:{fileName:VT,lineNumber:28},__self:this})):""},ChatFansBarrageTip}(Ns.a.Component))||HT,cB="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrage.js";function ChatFansBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatFansBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatFansBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var uB,pB,fB,mB,dB=n.a.Service,bB=n.a.Service,hB=($T=bB(b.DataCenter.global),KT=bB(b.DataCenter.common),JT=dB(Dk),qT=dB(si.a),QT=dB(BR.a),YT=dB(Vn.a),XT=bB(b.DataCenter.localStorage),Object(ee.log)((eB=function(e){function ChatFansBarrage(t){!function ChatFansBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrage);var r=function ChatFansBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatFansBarrage_initDefineProp(r,"global",tB,r),ChatFansBarrage_initDefineProp(r,"common",rB,r),ChatFansBarrage_initDefineProp(r,"chatToolBarServices",iB,r),ChatFansBarrage_initDefineProp(r,"chatSendServices",nB,r),ChatFansBarrage_initDefineProp(r,"chatNobleBarrageServices",aB,r),ChatFansBarrage_initDefineProp(r,"chatRoleBarrageServices",oB,r),ChatFansBarrage_initDefineProp(r,"localStorage",lB,r),r.timer=null,r.state={openFansCss:"none",showFansTips:!1,selectedIndex:0,arrowLeft:0,tipsArrowLeft:0,is_set_fans_badge:!1},["openFansBarrageBox","onBlurHandler","switchColor","closeNobleBarrage"].forEach(function(e){r[e]=r[e].bind(r)}),r.fansBarrageBtnRef=Ns.a.createRef(),r}return ChatFansBarrage_inherits(ChatFansBarrage,e),ChatFansBarrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({is_set_fans_badge:t.get("room.is_set_fans_badge")})}),document.addEventListener("click",this.onBlurHandler,!1),this.chatToolBarServices.observerFansBarrage()},ChatFansBarrage.prototype.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("click",this.onBlurHandler,!1)},ChatFansBarrage.prototype.openFansBarrageBox=function openFansBarrageBox(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),"block"===this.state.openFansCss?this.setState({openFansCss:"none"}):this.setState({openFansCss:"block"});var r=this.props.toolBarleft,i=this.fansBarrageBtnRef.current.getBoundingClientRect().left;this.setState({showFansTips:!0,arrowLeft:i-r+12,tipsArrowLeft:i-r-10}),clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({showFansTips:!1})},3e3)},ChatFansBarrage.prototype.onBlurHandler=function onBlurHandler(){this.setState({openFansCss:"none"})},ChatFansBarrage.prototype.switchColor=function switchColor(e,t,r){t&&(this.chatSendServices.fansColorSet(),this.chatToolBarServices.setStorage(r),this.chatToolBarServices.updateColor(e,r))},ChatFansBarrage.prototype.closeNobleBarrage=function closeNobleBarrage(e,t){t&&(this.chatNobleBarrageServices.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage())},ChatFansBarrage.prototype.render=function render(){var e=!!this.props.chatToolBar.receiveSummerReward||this.state.is_set_fans_badge,t=this.props.chatToolBar.selectedIndex,r=e?this.props.chatToolBar.color:0;return Ns.a.createElement("div",{className:"ChatFansBarrage",onClick:this.openFansBarrageBox,ref:this.fansBarrageBtnRef,__source:{fileName:cB,lineNumber:142},__self:this},Ns.a.createElement(zT,{color:r,anchorMedalSwitch:e,closeNobleBarrage:this.closeNobleBarrage,__source:{fileName:cB,lineNumber:143},__self:this}),e?Ns.a.createElement(WT,{selectedIndex:t,openFansCss:this.state.openFansCss,switchColor:this.switchColor,arrowLeft:this.state.arrowLeft,fansBarrageLv:this.props.chatToolBar.fansBarrageLv,__source:{fileName:cB,lineNumber:148},__self:this}):Ns.a.createElement(sB,{showFansTips:this.state.showFansTips,tipsArrowLeft:this.state.tipsArrowLeft,__source:{fileName:cB,lineNumber:156},__self:this}))},ChatFansBarrage}(Ns.a.Component),tB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"global",[$T],{enumerable:!0,initializer:null}),rB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"common",[KT],{enumerable:!0,initializer:null}),iB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"chatToolBarServices",[JT],{enumerable:!0,initializer:null}),nB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"chatSendServices",[qT],{enumerable:!0,initializer:null}),aB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"chatNobleBarrageServices",[QT],{enumerable:!0,initializer:null}),oB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"chatRoleBarrageServices",[YT],{enumerable:!0,initializer:null}),lB=ChatFansBarrage_applyDecoratedDescriptor(eB.prototype,"localStorage",[XT],{enumerable:!0,initializer:null}),ZT=eB))||ZT),vB=Object(yh.connect)(function mapStateToProps(e){return{openFansBarrageBox:e.openFansBarrageBox,chatToolBar:e.chatToolBar}})(hB);r("ad4b9");function MatchSystemChatFansBarrageBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystemChatFansBarrageBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatFansBarrageBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gB,yB,_B,SB,NB=(uB=(0,n.a.Service)(Dk),Object(ee.log)((fB=function(e){function FansBarrageSwitcher(){var t,r;!function MatchSystemChatFansBarrageBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystemChatFansBarrageBtn_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MatchSystemChatFansBarrageBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarService",mB,r),MatchSystemChatFansBarrageBtn_possibleConstructorReturn(r,t)}return MatchSystemChatFansBarrageBtn_inherits(FansBarrageSwitcher,e),FansBarrageSwitcher.prototype.render=function render(){var e=this.props.color;return Ns.a.createElement("div",{className:"MatchSystemFansBarrageSwitcher is-color0"+e,title:"\u5f69\u8272\u5f39\u5e55",onClick:this.props.closeNobleBarrage,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatFansBarrage/MatchSystemChatFansBarrageBtn.js",lineNumber:23},__self:this})},FansBarrageSwitcher}(Ns.a.Component),mB=function MatchSystemChatFansBarrageBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(fB.prototype,"chatToolBarService",[uB],{enumerable:!0,initializer:null}),pB=fB))||pB),CB="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatFansBarrage/MatchSystemFansBarrageColor.js";function MatchSystemFansBarrageColor_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystemFansBarrageColor_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemFansBarrageColor_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var wB,OB,EB,DB,PB=(gB=(0,n.a.Service)(Dk),Object(ee.log)((_B=function(e){function FansBarrageColor(){var t,r;!function MatchSystemFansBarrageColor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageColor);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystemFansBarrageColor_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MatchSystemFansBarrageColor_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",SB,r),MatchSystemFansBarrageColor_possibleConstructorReturn(r,t)}return MatchSystemFansBarrageColor_inherits(FansBarrageColor,e),FansBarrageColor.prototype.render=function render(){var e=this,t=this.props.medalColorList;return Ns.a.createElement("ul",{className:"MatchSystemFansBarrageColor",__source:{fileName:CB,lineNumber:27},__self:this},t.map(function(t,r){var i=t.level>25?"\u66f4\u9ad8\u7b49\u7ea7\u656c\u8bf7\u671f\u5f85":"\u8363\u8000\u7b49\u7ea7"+t.level+"\u7ea7\u514d\u8d39\u4f7f\u7528",n=["MatchSystemFansBarrageColor-item",t.unlock?"":"is-lock",t.unlock&&e.props.selectedIndex===t.color_id?"is-selected":"",6===r?"is-last":""].join(" ");return Ns.a.createElement("li",{className:n,key:t.color_id,onClick:function onClick(){return e.props.switchColor(r,t.unlock,t.color_id)},__source:{fileName:CB,lineNumber:38},__self:e},Ns.a.createElement("div",{className:"MatchSystemFansBarrageColor-item-colorwrap is-color0"+t.color_id,__source:{fileName:CB,lineNumber:42},__self:e},Ns.a.createElement("i",{__source:{fileName:CB,lineNumber:43},__self:e})),0===r?Ns.a.createElement("span",{className:"MatchSystemFansBarrageColor-item-txt",__source:{fileName:CB,lineNumber:47},__self:e},"\u9ed8\u8ba4"):Ns.a.createElement("div",{className:"MatchSystemFansBarrageColor-item-tips",__source:{fileName:CB,lineNumber:48},__self:e},Ns.a.createElement("span",{__source:{fileName:CB,lineNumber:49},__self:e},i)))}))},FansBarrageColor}(Ns.a.Component),SB=function MatchSystemFansBarrageColor_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(_B.prototype,"chatToolBarServices",[gB],{enumerable:!0,initializer:null}),yB=_B))||yB),jB="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatFansBarrage/MatchSystemChatFansBarragePop.js";function MatchSystemChatFansBarragePop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystemChatFansBarragePop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatFansBarragePop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var kB,RB=(wB=(0,n.a.Service)(Dk),Object(ee.log)((EB=function(e){function ChatFansBarragePop(){var t,r;!function MatchSystemChatFansBarragePop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarragePop);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystemChatFansBarragePop_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MatchSystemChatFansBarragePop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",DB,r),MatchSystemChatFansBarragePop_possibleConstructorReturn(r,t)}return MatchSystemChatFansBarragePop_inherits(ChatFansBarragePop,e),ChatFansBarragePop.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},ChatFansBarragePop.prototype.render=function render(){var e=this.props.fansBarrageLv;return Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop",onClick:this.onClickHandler.bind(this),__source:{fileName:jB,lineNumber:29},__self:this},Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop-matchIcon",__source:{fileName:jB,lineNumber:31},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop-title",__source:{fileName:jB,lineNumber:32},__self:this},Ns.a.createElement("a",{className:"MatchSystemChatFansBarragePop-title-right",target:"_blank",href:"/topic/GloryCompetition?conf_id=1&anchor=guide",__source:{fileName:jB,lineNumber:33},__self:this},"\u4e86\u89e3\u66f4\u591a>"),Ns.a.createElement("p",{__source:{fileName:jB,lineNumber:35},__self:this},"\u8d5b\u4e8b\u5f69\u8272\u5f39\u5e55")),Ns.a.createElement(PB,{medalColorList:e,switchColor:this.props.switchColor,selectedIndex:this.props.selectedIndex,__source:{fileName:jB,lineNumber:37},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop-describe",__source:{fileName:jB,lineNumber:39},__self:this},Ns.a.createElement("p",{className:"MatchSystemChatFansBarragePop-txt",__source:{fileName:jB,lineNumber:40},__self:this},"\u8363\u8000\u7b49\u7ea7\u6216\u7c89\u4e1d\u7b49\u7ea7",Ns.a.createElement("span",{__source:{fileName:jB,lineNumber:40},__self:this},"6\u7ea7"),"\u514d\u8d39\u4f7f\u7528")),Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop-arrow MatchSystemChatFansBarragePop-arrow--inner",style:{left:this.props.arrowLeft},__source:{fileName:jB,lineNumber:42},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatFansBarragePop-arrow MatchSystemChatFansBarragePop-arrow--outer",style:{left:this.props.arrowLeft},__source:{fileName:jB,lineNumber:44},__self:this}))},ChatFansBarragePop}(Ns.a.Component),DB=function MatchSystemChatFansBarragePop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(EB.prototype,"chatToolBarServices",[wB],{enumerable:!0,initializer:null}),OB=EB))||OB),TB="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatFansBarrage/MatchSystemChatFansBarrageTip.js";function MatchSystemChatFansBarrageTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MatchSystemChatFansBarrageTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatFansBarrageTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}Object(ee.log)(kB=function(e){function ChatFansBarrageTip(){var t,r;!function MatchSystemChatFansBarrageTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrageTip);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MatchSystemChatFansBarrageTip_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.config={fansSpecialUrl:"//www.douyu.com/t/fans"},MatchSystemChatFansBarrageTip_possibleConstructorReturn(r,t)}return MatchSystemChatFansBarrageTip_inherits(ChatFansBarrageTip,e),ChatFansBarrageTip.prototype.render=function render(){return this.props.showFansTips?Ns.a.createElement("div",{className:"MatchSystemChatFansBarrageTip",__source:{fileName:TB,lineNumber:20},__self:this},Ns.a.createElement("div",{className:"MatchSystemChatFansBarrageTip-txt clearfix",__source:{fileName:TB,lineNumber:21},__self:this},Ns.a.createElement("p",{__source:{fileName:TB,lineNumber:22},__self:this},"\u8be5\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u65e0\u6cd5\u4f7f\u7528\u7c89\u4e1d\u5f39\u5e55"),Ns.a.createElement("a",{className:"MatchSystemChatFansBarrageTip-intro",target:"_blank",href:this.config.fansSpecialUrl,__source:{fileName:TB,lineNumber:23},__self:this},"\u4e86\u89e3\u66f4\u591a\u203a\u203a")),Ns.a.createElement("div",{className:"MatchSystemChatFansBarrageTip-arrow MatchSystemChatFansBarrageTip-arrow--inner",style:{left:this.props.tipsArrowLeft},__source:{fileName:TB,lineNumber:26},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatFansBarrageTip-arrow MatchSystemChatFansBarrageTip-arrow--outer",style:{left:this.props.tipsArrowLeft},__source:{fileName:TB,lineNumber:28},__self:this})):""},ChatFansBarrageTip}(Ns.a.Component));var BB,MB,zB,LB,FB,AB,IB,xB,GB,UB,HB,WB,VB,$B,KB,JB,qB,QB,YB="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatFansBarrage/MatchSystemChatFansBarrage.js";function MatchSystemChatFansBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MatchSystemChatFansBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatFansBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MatchSystemChatFansBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var XB,ZB=n.a.Service,eM=n.a.Service,tM=(BB=eM(b.DataCenter.global),MB=eM(b.DataCenter.common),zB=ZB(ks.a),LB=ZB(Dk),FB=ZB(si.a),AB=ZB(BR.a),IB=ZB(Vn.a),xB=eM(b.DataCenter.localStorage),Object(ee.log)((UB=function(e){function MatchSystemChatBarrage(t){!function MatchSystemChatFansBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemChatBarrage);var r=function MatchSystemChatFansBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return MatchSystemChatFansBarrage_initDefineProp(r,"global",HB,r),MatchSystemChatFansBarrage_initDefineProp(r,"common",WB,r),MatchSystemChatFansBarrage_initDefineProp(r,"matchSystemServices",VB,r),MatchSystemChatFansBarrage_initDefineProp(r,"chatToolBarServices",$B,r),MatchSystemChatFansBarrage_initDefineProp(r,"chatSendServices",KB,r),MatchSystemChatFansBarrage_initDefineProp(r,"chatNobleBarrageServices",JB,r),MatchSystemChatFansBarrage_initDefineProp(r,"chatRoleBarrageServices",qB,r),MatchSystemChatFansBarrage_initDefineProp(r,"localStorage",QB,r),r.timer=null,r.state={openFansCss:"none",showFansTips:!1,selectedIndex:0,arrowLeft:0,tipsArrowLeft:0,is_set_fans_badge:!0},["openMatchSystemBarrageBox","onBlurHandler","switchColor","closeNobleBarrage"].forEach(function(e){r[e]=r[e].bind(r)}),r.fansBarrageBtnRef=Ns.a.createRef(),r}return MatchSystemChatFansBarrage_inherits(MatchSystemChatBarrage,e),MatchSystemChatBarrage.prototype.componentDidMount=function componentDidMount(){document.addEventListener("click",this.onBlurHandler,!1),this.matchSystemServices.observerMatchSystemBarrage()},MatchSystemChatBarrage.prototype.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("click",this.onBlurHandler,!1)},MatchSystemChatBarrage.prototype.openMatchSystemBarrageBox=function openMatchSystemBarrageBox(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=this.props.showMatchColorPanel,r=this.props.toolBarleft,i=this.fansBarrageBtnRef.current.getBoundingClientRect().left;this.setState({arrowLeft:i-r+12,tipsArrowLeft:i-r-10}),this.matchSystemServices.toggleMatchSystemSuperPanel(0),t?this.matchSystemServices.toggleMatchSystemColorPanel(0):this.matchSystemServices.toggleMatchSystemColorPanel(1)},MatchSystemChatBarrage.prototype.onBlurHandler=function onBlurHandler(){this.matchSystemServices.toggleMatchSystemSuperPanel(0),this.matchSystemServices.toggleMatchSystemColorPanel(0)},MatchSystemChatBarrage.prototype.switchColor=function switchColor(e,t,r){t&&(this.chatSendServices.fansColorSet(),this.matchSystemServices.setStorage(r),this.matchSystemServices.updateColor(e,r))},MatchSystemChatBarrage.prototype.closeNobleBarrage=function closeNobleBarrage(e,t){this.chatNobleBarrageServices.closeNobleBarrage()},MatchSystemChatBarrage.prototype.render=function render(){var e=this.props,t=(e.userDetail,e.barrageColorList),r=e.showMatchColorPanel,i=this.props.currentSelectColorId;return Ns.a.createElement("div",{className:"MatchSystemChatFansBarrage",onClick:this.openMatchSystemBarrageBox,ref:this.fansBarrageBtnRef,__source:{fileName:YB,lineNumber:124},__self:this},Ns.a.createElement(NB,{color:i,closeNobleBarrage:this.closeNobleBarrage,__source:{fileName:YB,lineNumber:125},__self:this}),r?Ns.a.createElement(RB,{selectedIndex:i,openFansCss:this.state.openFansCss,switchColor:this.switchColor,arrowLeft:this.state.arrowLeft,fansBarrageLv:t,__source:{fileName:YB,lineNumber:131},__self:this}):"")},MatchSystemChatBarrage}(Ns.a.Component),HB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"global",[BB],{enumerable:!0,initializer:null}),WB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"common",[MB],{enumerable:!0,initializer:null}),VB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"matchSystemServices",[zB],{enumerable:!0,initializer:null}),$B=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"chatToolBarServices",[LB],{enumerable:!0,initializer:null}),KB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"chatSendServices",[FB],{enumerable:!0,initializer:null}),JB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"chatNobleBarrageServices",[AB],{enumerable:!0,initializer:null}),qB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"chatRoleBarrageServices",[IB],{enumerable:!0,initializer:null}),QB=MatchSystemChatFansBarrage_applyDecoratedDescriptor(UB.prototype,"localStorage",[xB],{enumerable:!0,initializer:null}),GB=UB))||GB),rM=Object(yh.connect)(function mapStateToProps(e){return{openMatchSystemBarrageBox:e.matchSystemData.openBarrageColorBox,userDetail:e.matchSystemData.userDetail,currentSelectColorId:e.matchSystemData.currentSelectColorId,barrageColorList:e.matchSystemData.barrageColorList,showMatchColorPanel:e.matchSystemData.showMatchColorPanel}})(tM);r("97319");function MatchSystemChatSuperBarrageBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatSuperBarrageBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var iM,nM=Object(ee.log)(XB=function(e){function MatchSystemSuperBarrageSwitcher(){return function MatchSystemChatSuperBarrageBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemSuperBarrageSwitcher),function MatchSystemChatSuperBarrageBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MatchSystemChatSuperBarrageBtn_inherits(MatchSystemSuperBarrageSwitcher,e),MatchSystemSuperBarrageSwitcher.prototype.render=function render(){var e=this.props,t=e.selectSuperBarrageType,r=e.closeNobleBarrage;return Ns.a.createElement("div",{className:"MatchSystemSuperBarrageSwitcher "+(t?"current":""),title:"\u8d85\u7ea7\u5f39\u5e55",onClick:r,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatSuperBarrage/MatchSystemChatSuperBarrageBtn.js",lineNumber:18},__self:this})},MatchSystemSuperBarrageSwitcher}(Ns.a.Component))||XB,aM="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatSuperBarrage/MatchSystemChatSuperBarragePop.js";function MatchSystemChatSuperBarragePop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatSuperBarragePop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var oM,lM,sM,cM,uM,pM,fM,mM,dM,bM,hM,vM,gM,yM,_M,SM,NM,CM,wM=Object(ee.log)(iM=function(e){function MatchSuperBarragePop(){return function MatchSystemChatSuperBarragePop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSuperBarragePop),function MatchSystemChatSuperBarragePop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MatchSystemChatSuperBarragePop_inherits(MatchSuperBarragePop,e),MatchSuperBarragePop.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},MatchSuperBarragePop.prototype.render=function render(){var e=this.props,t=e.userDetail,r=e.arrowLeft,i=(e.openFansCss,e.selectedSuperBarrageType),n=e.handleSelectSuperBarrage,a=t.privilege?t.privilege.super_danmu:0;return Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop",style:{display:"block"},onClick:this.onClickHandler.bind(this),__source:{fileName:aM,lineNumber:24},__self:this},Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop-matchIcon",__source:{fileName:aM,lineNumber:26},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop-title",__source:{fileName:aM,lineNumber:27},__self:this},Ns.a.createElement("a",{className:"MatchSystemChatSuperBarragePop-title-right",target:"_blank",href:"/topic/GloryCompetition?conf_id=1&anchor=guide",__source:{fileName:aM,lineNumber:28},__self:this},"\u4e86\u89e3\u66f4\u591a>"),Ns.a.createElement("span",{__source:{fileName:aM,lineNumber:30},__self:this},"\u8d5b\u4e8b\u8d85\u7ea7\u5f39\u5e55"),Ns.a.createElement("span",{className:"MatchSystemChatSuperBarragePop-title-superLimit",__source:{fileName:aM,lineNumber:31},__self:this},"\uff08\u5269\u4f59\uff1a",Ns.a.createElement("em",{__source:{fileName:aM,lineNumber:31},__self:this},a<0||!a?0:a,"\u6761"),"\uff09")),Ns.a.createElement("ul",{className:"MatchSystemChatSuperBarragePop-list",__source:{fileName:aM,lineNumber:33},__self:this},Ns.a.createElement("li",{onClick:function onClick(){n("")},__source:{fileName:aM,lineNumber:34},__self:this},Ns.a.createElement("div",{className:"superIcon default "+(i?"":"current"),__source:{fileName:aM,lineNumber:35},__self:this}),Ns.a.createElement("div",{className:"superTxt",__source:{fileName:aM,lineNumber:36},__self:this},"\u9ed8\u8ba4")),Ns.a.createElement("li",{onClick:function onClick(){n("zhiliu")},__source:{fileName:aM,lineNumber:38},__self:this},Ns.a.createElement("div",{className:"superIcon zhiliu "+("zhiliu"===i?"current":""),__source:{fileName:aM,lineNumber:39},__self:this}),Ns.a.createElement("div",{className:"superTxt",__source:{fileName:aM,lineNumber:40},__self:this},"\u6ede\u7559\u5f39\u5e55")),Ns.a.createElement("li",{onClick:function onClick(){n("super")},__source:{fileName:aM,lineNumber:42},__self:this},Ns.a.createElement("div",{className:"superIcon super "+("super"===i?"current":""),__source:{fileName:aM,lineNumber:43},__self:this}),Ns.a.createElement("div",{className:"superTxt",__source:{fileName:aM,lineNumber:44},__self:this},"\u8d85\u5927\u5f39\u5e55")),Ns.a.createElement("li",{onClick:function onClick(){n("pingbi")},__source:{fileName:aM,lineNumber:46},__self:this},Ns.a.createElement("div",{className:"superIcon pingbi "+("pingbi"===i?"current":""),__source:{fileName:aM,lineNumber:47},__self:this}),Ns.a.createElement("div",{className:"superTxt",__source:{fileName:aM,lineNumber:48},__self:this},"\u5c4f\u853d"))),Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop-describe",__source:{fileName:aM,lineNumber:51},__self:this},Ns.a.createElement("p",{className:"MatchSystemChatSuperBarragePop-txt",__source:{fileName:aM,lineNumber:52},__self:this},"\u8363\u8000\u7b49\u7ea7",Ns.a.createElement("span",{__source:{fileName:aM,lineNumber:52},__self:this},"6\u7ea7"),"\u514d\u8d39\u4f7f\u7528")),Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop-arrow MatchSystemChatSuperBarragePop-arrow--inner",style:{left:r},__source:{fileName:aM,lineNumber:54},__self:this}),Ns.a.createElement("div",{className:"MatchSystemChatSuperBarragePop-arrow MatchSystemChatSuperBarragePop-arrow--outer",style:{left:r},__source:{fileName:aM,lineNumber:56},__self:this}))},MatchSuperBarragePop}(Ns.a.Component))||iM,OM="/shark/live/src/pages/roomPage/playerAsideModule/components/MatchSystemChatSuperBarrage/MatchSystemChatSuperBarrage.js";function MatchSystemChatSuperBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MatchSystemChatSuperBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MatchSystemChatSuperBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MatchSystemChatSuperBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var EM=n.a.Service,DM=n.a.Service,PM=(oM=DM(b.DataCenter.global),lM=DM(b.DataCenter.common),sM=EM(ks.a),cM=EM(Dk),uM=EM(si.a),pM=EM(BR.a),fM=EM(Vn.a),mM=DM(b.DataCenter.localStorage),Object(ee.log)((bM=function(e){function ChatFansBarrage(t){!function MatchSystemChatSuperBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrage);var r=function MatchSystemChatSuperBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return MatchSystemChatSuperBarrage_initDefineProp(r,"global",hM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"common",vM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"matchSystemServices",gM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"chatToolBarServices",yM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"chatSendServices",_M,r),MatchSystemChatSuperBarrage_initDefineProp(r,"chatNobleBarrageServices",SM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"chatRoleBarrageServices",NM,r),MatchSystemChatSuperBarrage_initDefineProp(r,"localStorage",CM,r),r.timer=null,r.state={openFansCss:"none",showFansTips:!1,selectedIndex:0,arrowLeft:0,tipsArrowLeft:0,is_set_fans_badge:!1},["openSuperBarrageBox","onBlurHandler","switchColor","closeNobleBarrage","handleSelectSuperBarrage"].forEach(function(e){r[e]=r[e].bind(r)}),r.matchSuperBarrageBtnRef=Ns.a.createRef(),r}return MatchSystemChatSuperBarrage_inherits(ChatFansBarrage,e),ChatFansBarrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({is_set_fans_badge:t.get("room.is_set_fans_badge")})}),document.addEventListener("click",this.onBlurHandler,!1),this.chatToolBarServices.observerFansBarrage()},ChatFansBarrage.prototype.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("click",this.onBlurHandler,!1)},ChatFansBarrage.prototype.openSuperBarrageBox=function openSuperBarrageBox(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=this.props.showMatchSuperPanel,r=this.props.toolBarleft,i=this.matchSuperBarrageBtnRef.current.getBoundingClientRect().left;this.setState({showFansTips:!0,arrowLeft:i-r+12,tipsArrowLeft:i-r-10}),t?this.matchSystemServices.toggleMatchSystemSuperPanel(0):this.matchSystemServices.toggleMatchSystemSuperPanel(1),this.matchSystemServices.toggleMatchSystemColorPanel(0)},ChatFansBarrage.prototype.onBlurHandler=function onBlurHandler(){this.matchSystemServices.toggleMatchSystemSuperPanel(0),this.matchSystemServices.toggleMatchSystemColorPanel(0)},ChatFansBarrage.prototype.handleSelectSuperBarrage=function handleSelectSuperBarrage(e){this.matchSystemServices.selectMatchSuperBarrage(e)},ChatFansBarrage.prototype.switchColor=function switchColor(e,t,r){t&&(this.chatSendServices.fansColorSet(),this.chatToolBarServices.setStorage(r),this.chatToolBarServices.updateColor(e,r))},ChatFansBarrage.prototype.closeNobleBarrage=function closeNobleBarrage(e,t){this.chatNobleBarrageServices.closeNobleBarrage()},ChatFansBarrage.prototype.render=function render(){var e=this.props,t=e.selectedSuperBarrageType,r=e.userDetail,i=e.showMatchSuperPanel;return Ns.a.createElement("div",{className:"MatchSystemChatSuperBarrage",onClick:this.openSuperBarrageBox,ref:this.matchSuperBarrageBtnRef,__source:{fileName:OM,lineNumber:136},__self:this},Ns.a.createElement(nM,{selectSuperBarrageType:t,closeNobleBarrage:this.closeNobleBarrage,__source:{fileName:OM,lineNumber:137},__self:this}),i?Ns.a.createElement(wM,{selectedSuperBarrageType:t,arrowLeft:this.state.arrowLeft,userDetail:r,handleSelectSuperBarrage:this.handleSelectSuperBarrage,__source:{fileName:OM,lineNumber:142},__self:this}):"")},ChatFansBarrage}(Ns.a.Component),hM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"global",[oM],{enumerable:!0,initializer:null}),vM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"common",[lM],{enumerable:!0,initializer:null}),gM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"matchSystemServices",[sM],{enumerable:!0,initializer:null}),yM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"chatToolBarServices",[cM],{enumerable:!0,initializer:null}),_M=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"chatSendServices",[uM],{enumerable:!0,initializer:null}),SM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"chatNobleBarrageServices",[pM],{enumerable:!0,initializer:null}),NM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"chatRoleBarrageServices",[fM],{enumerable:!0,initializer:null}),CM=MatchSystemChatSuperBarrage_applyDecoratedDescriptor(bM.prototype,"localStorage",[mM],{enumerable:!0,initializer:null}),dM=bM))||dM),jM=Object(yh.connect)(function mapStateToProps(e){return{selectedSuperBarrageType:e.matchSystemData.selectedSuperBarrageType,userDetail:e.matchSystemData.userDetail,showMatchSuperPanel:e.matchSystemData.showMatchSuperPanel}})(PM),kM="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectTip.js",RM=function RoleSelectTip(e){var t=e.tip;return Ns.a.createElement("div",{className:"ChatRoleBarrage-tipWrapper",__source:{fileName:kM,lineNumber:11},__self:void 0},Ns.a.createElement("div",{className:"ChatRoleBarrage-tipContent",__source:{fileName:kM,lineNumber:12},__self:void 0},Ns.a.createElement("span",{__source:{fileName:kM,lineNumber:13},__self:void 0},t)))};RM.propTypes={tip:gh.a.string.isRequired};var TM=RM,BM="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectPane.js",MM=function RoleSelectPane(e){var t=e.isLoginUser,r=e.isRoleBarrageUser,i=e.roleList,n=e.selectedRole,a=e.contentHeight,o=e.toggleRoleSelect,l=e.toggleRoleBarragePane,s=e.roleBarrageFilter,c=e.toggleRoleBarrageFilter,u=e.mouseLeave,p=e.showTip,f=e.tip;return Ns.a.createElement("div",{className:"ChatRoleBarrage-pane",onMouseLeave:u,__source:{fileName:BM,lineNumber:26},__self:void 0},Ns.a.createElement("span",{className:"ChatRoleBarrage-close",onClick:l("off"),__source:{fileName:BM,lineNumber:27},__self:void 0}),Ns.a.createElement("h3",{__source:{fileName:BM,lineNumber:28},__self:void 0},"\u89d2\u8272\u5f39\u5e55"),Ns.a.createElement("div",{className:"ChatRoleBarrage-scrollWrap",style:{height:a},__source:{fileName:BM,lineNumber:29},__self:void 0},Ns.a.createElement(Cs.Scrollbars,{__source:{fileName:BM,lineNumber:30},__self:void 0},Ns.a.createElement("ul",{className:"ChatRoleBarrage-roleList "+(t&&r?"":"unLogin")+" clearFix",__source:{fileName:BM,lineNumber:31},__self:void 0},i.map(function(e){var t=e.roleId,r=e.name,i=e.img;return Ns.a.createElement("li",{key:t,onClick:o({roleId:t,name:r,img:i}),className:n&&n.roleId===t?"active":"",__source:{fileName:BM,lineNumber:33},__self:void 0},Ns.a.createElement("img",{src:i,alt:r,__source:{fileName:BM,lineNumber:38},__self:void 0}),Ns.a.createElement("p",{__source:{fileName:BM,lineNumber:39},__self:void 0},r))})))),Ns.a.createElement("div",{className:"ChatRoleBarrage-filter"+(s?" active":""),onClick:c,__source:{fileName:BM,lineNumber:45},__self:void 0},Ns.a.createElement("span",{__source:{fileName:BM,lineNumber:49},__self:void 0}),"\u5c4f\u853d\u89d2\u8272\u5f39\u5e55"),p?Ns.a.createElement(TM,{tip:f,__source:{fileName:BM,lineNumber:53},__self:void 0}):null)};MM.propTypes={isLoginUser:gh.a.number.isRequired,isRoleBarrageUser:gh.a.number.isRequired,roleList:gh.a.array.isRequired,selectedRole:gh.a.object,contentHeight:gh.a.number.isRequired,toggleRoleSelect:gh.a.func.isRequired,toggleRoleBarragePane:gh.a.func.isRequired,roleBarrageFilter:gh.a.number.isRequired,toggleRoleBarrageFilter:gh.a.func.isRequired,mouseLeave:gh.a.func.isRequired,showTip:gh.a.number.isRequired,tip:gh.a.string.isRequired};var zM,LM,FM,AM,IM,xM,GM,UM,HM,WM,VM,$M,KM,JM,qM,QM,YM,XM,ZM=MM,ez=(r("f1739"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/ChatRoleBarrage.js"),tz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function ChatRoleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rz=n.a.Service,iz=Si.a.socketStream,nz="roleBarrageFilter",az=void 0,oz=function dySubV2(e,t){Object(pr.dysub2)(tz({action_code:e,event_id:1,type:1},t))},lz=(zM=rz(Vn.a),LM=rz(BR.a),FM=rz(Dk),AM=rz(mn.a),IM=rz(b.DataCenter.common),xM=rz(b.DataCenter.global),GM=rz(b.DataCenter.acj),UM=rz(b.DataCenter.localStorage),Object(ee.log)((WM=function(e){function ChatRoleBarrage(){var t,r;!function ChatRoleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrage);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrage_initDefineProp(r,"chatRoleBarrageService",VM,r),ChatRoleBarrage_initDefineProp(r,"chatNobleBarrageServices",$M,r),ChatRoleBarrage_initDefineProp(r,"chatToolBarServices",KM,r),ChatRoleBarrage_initDefineProp(r,"chatCampService",JM,r),ChatRoleBarrage_initDefineProp(r,"common",qM,r),ChatRoleBarrage_initDefineProp(r,"global",QM,r),ChatRoleBarrage_initDefineProp(r,"acj",YM,r),ChatRoleBarrage_initDefineProp(r,"localStorage",XM,r),r.state={isRoleBarrageRoom:0,isRoleBarrageUser:0,roleBarragePaneShown:0,roleBarrageFilter:0,isLoginUser:0,showTip:0,tip:"",minLevel:0,dysExt:{}},r.toggleRoleBarragePane=function(e){return function(){var t=r.state,i=t.roleBarragePaneShown,n=t.dysExt,a=e?{on:1,off:0}[e]:!i;a&&oz("11010020D001",n),r.setState({roleBarragePaneShown:a})}},r.toggleRoleSelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=r.state,i=t.isLoginUser,n=t.isRoleBarrageUser,a=t.minLevel;if(i){if(!n)return r.setState({showTip:1,tip:"\u89d2\u8272\u5f39\u5e55\u529f\u80fd"+a+"\u7ea7\u4ee5\u540e\u53ef\u4ee5\u4f7f\u7528\uff0c\u52a0\u6cb9\u5347\u7ea7\u5427"}),void setTimeout(function(){r.setState({showTip:0})},3e3);var o=r.props.selectedRole;if(o&&+o.roleId===+e.roleId)r.chatRoleBarrageService.clearRoleBarrage();else{var l=r.state.dysExt,s=e.roleId;oz("110100206001",tz({},l,{ext:{_role_id:s}})),r.chatRoleBarrageService.setRoleBarrage(e),r.chatNobleBarrageServices.closeNobleBarrage(),r.chatToolBarServices.closeFansBarrage(),r.chatCampService.closeChatCamp()}}}},r.toggleRoleBarrageFilter=function(){var e=r.state,t=e.roleBarrageFilter,i=e.dysExt,n=!t;oz("110100206002",i),r.setState({roleBarrageFilter:+n}),r.setRoleBarrageFilter(+n)},r.setRoleBarrageFilter=function(e){r.acj.push(dn.c.JS_ROLE_BARRAGE_SWITCH,{data:e}),r.localStorage.set(nz,e)},r.mouseLeave=function(e){e.preventDefault(),az&&clearTimeout(az),az=setTimeout(r.toggleRoleBarragePane("off"),1500)},ChatRoleBarrage_possibleConstructorReturn(r,t)}return ChatRoleBarrage_inherits(ChatRoleBarrage,e),ChatRoleBarrage.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.global.get("USER_INFO.uid"),r=!!this.localStorage.get(nz);this.setState({isLoginUser:+!!t,roleBarrageFilter:+r}),this.setRoleBarrageFilter(+r),this.common.get("$DATA").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).room,r=(t=void 0===t?{}:t).cate1_id,i=t.cate2_id,n=t.cate3_id,a=t.room_id;e.setState({dysExt:{cate_id:r,child_id:n,tag_id:i,room_id:a}})}),this.common.get("$ROLE_BARRAGE_SWITCH").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roleBarrage,r=(t=void 0===t?{}:t).status,i=void 0===r?0:r,n=t.minLevel,a=void 0===n?0:n,o=e.global.get("$ROOM").room_id;iz.subscribe("memberinfores",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).level,r=void 0===t?1:t;+i&&e.chatRoleBarrageService.getRoleList(o),e.setState({isRoleBarrageRoom:+i,isRoleBarrageUser:+(+r>=+a),minLevel:a})})}),iz.subscribe("chatmsg",function(r){var i=r.roleid,n=r.uid,a=e.props.selectedRole;!i&&+n===+t&&a&&e.chatRoleBarrageService.clearRoleBarrage()})},ChatRoleBarrage.prototype.render=function render(){var e=this.state,t=e.isLoginUser,r=e.isRoleBarrageRoom,i=e.isRoleBarrageUser,n=e.roleBarragePaneShown,a=e.roleBarrageFilter,o=e.showTip,l=e.tip,s=this.props,c=s.selectedRole,u=s.roleList,p=["ChatRoleBarrage-switcher",(n||c)&&"active",a&&" disable"].filter(Boolean).join(" ");return r?Ns.a.createElement("div",{className:"ChatRoleBarrage",__source:{fileName:ez,lineNumber:194},__self:this},Ns.a.createElement("div",{className:p,onClick:this.toggleRoleBarragePane(),__source:{fileName:ez,lineNumber:195},__self:this}),n?Ns.a.createElement(ZM,{isLoginUser:t,isRoleBarrageUser:i,roleList:u,selectedRole:c,mouseLeave:this.mouseLeave,contentHeight:function setContentHeight(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>4?192:101}(u),toggleRoleBarragePane:this.toggleRoleBarragePane,toggleRoleSelect:this.toggleRoleSelect,roleBarrageFilter:a,toggleRoleBarrageFilter:this.toggleRoleBarrageFilter,showTip:o,tip:l,__source:{fileName:ez,lineNumber:198},__self:this}):null):null},ChatRoleBarrage}(Ns.a.Component),VM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"chatRoleBarrageService",[zM],{enumerable:!0,initializer:null}),$M=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"chatNobleBarrageServices",[LM],{enumerable:!0,initializer:null}),KM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"chatToolBarServices",[FM],{enumerable:!0,initializer:null}),JM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"chatCampService",[AM],{enumerable:!0,initializer:null}),qM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"common",[IM],{enumerable:!0,initializer:null}),QM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"global",[xM],{enumerable:!0,initializer:null}),YM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"acj",[GM],{enumerable:!0,initializer:null}),XM=ChatRoleBarrage_applyDecoratedDescriptor(WM.prototype,"localStorage",[UM],{enumerable:!0,initializer:null}),HM=WM))||HM);lz.propTypes={roleList:gh.a.array.isRequired,selectedRole:gh.a.object};var sz,cz,uz,pz=Object(yh.connect)(function mapStateToProps(e){var t=e.chatRoleBarrageData;return{roleList:t.roleList,selectedRole:t.selectedRole}})(lz);r("5e6e0");function ChatCampSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fz,mz,dz,bz,hz,vz,gz,yz,_z,Sz,Nz=(sz=(0,n.a.Service)(mn.a),cz=function(e){function ChatCampSwitcher(){!function ChatCampSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampSwitcher);var t=function ChatCampSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatCampSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatCampService",uz,t),t.switchChatCamp=t.switchChatCamp.bind(t),t}return ChatCampSwitcher_inherits(ChatCampSwitcher,e),ChatCampSwitcher.prototype.switchChatCamp=function switchChatCamp(){var e=this.props.isShow;this.chatCampService.switchChatCamp(!e)},ChatCampSwitcher.prototype.render=function render(){var e=this.props.color,t={};return e&&(t={backgroundColor:e}),Ns.a.createElement("div",{className:"ChatCampSwitcher",onClick:this.switchChatCamp,style:t,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampSwitcher.js",lineNumber:38},__self:this})},ChatCampSwitcher}(Ns.a.Component),uz=function ChatCampSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(cz.prototype,"chatCampService",[sz],{enumerable:!0,initializer:null}),cz),Cz=Object(yh.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,color:e.chatCamp.color}})(Nz),wz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampPop.js";function ChatCampPop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatCampPop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampPop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatCampPop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Oz,Ez,Dz,Pz,jz=n.a.Service,kz=(fz=jz(mn.a),mz=jz(Dk),dz=jz(BR.a),bz=jz(Vn.a),Object(ee.log)((vz=function(e){function ChatCampPop(){!function ChatCampPop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampPop);var t=function ChatCampPop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatCampPop_initDefineProp(t,"chatCampService",gz,t),ChatCampPop_initDefineProp(t,"chatToolBarService",yz,t),ChatCampPop_initDefineProp(t,"chatNobleBarrageService",_z,t),ChatCampPop_initDefineProp(t,"chatRoleBarrageServices",Sz,t),t.closeChatCamp=t.closeChatCamp.bind(t),t.selectCamp=t.selectCamp.bind(t),t}return ChatCampPop_inherits(ChatCampPop,e),ChatCampPop.prototype.closeChatCamp=function closeChatCamp(){this.chatCampService.switchChatCamp(!1)},ChatCampPop.prototype.selectCamp=function selectCamp(e){var t=e.camp_id,r=-1,i=[],n="",a=0;t!==this.props.selectIndex&&(r=t,i=e.gift_ids,n=e.barrage_color,a=e.barrage_color_code),this.chatCampService.selectChatCamp(r,i,n),this.chatToolBarService.updateCampColor(a,n),this.chatNobleBarrageService.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage()},ChatCampPop.prototype.render=function render(){var e=this,t=this.props,r=t.isShow,i=void 0!==r&&r,n=t.campList,a=void 0===n?[]:n,o=t.selectIndex,l=void 0===o?-1:o;return Ns.a.createElement("div",{className:"ChatCampPop"+(i?" is-active":""),__source:{fileName:wz,lineNumber:61},__self:this},Ns.a.createElement("div",{className:"ChatCampPop-title",__source:{fileName:wz,lineNumber:62},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61",Ns.a.createElement("div",{className:"ChatCampPop-close",onClick:this.closeChatCamp,__source:{fileName:wz,lineNumber:64},__self:this},Ns.a.createElement("div",{className:"ChatCampPop-closeIcon",__source:{fileName:wz,lineNumber:65},__self:this}))),Ns.a.createElement("div",{className:"ChatCampPop-content",__source:{fileName:wz,lineNumber:68},__self:this},Ns.a.createElement("ul",{__source:{fileName:wz,lineNumber:69},__self:this},a&&a.length>0?a.map(function(t){var r={borderColor:t.barrage_color};return r=l===t.camp_id?Object.assign(r,{backgroundColor:t.barrage_color}):r,Ns.a.createElement("li",{className:"ChatCampPop-item",key:t.camp_id,onClick:function onClick(){e.selectCamp(t)},__source:{fileName:wz,lineNumber:82},__self:e},Ns.a.createElement("div",{className:"ChatCampPop-input","data-campid":t.camp_id,"data-code":t.barrage_color_code,style:r,__source:{fileName:wz,lineNumber:85},__self:e}),Ns.a.createElement("div",{className:"ChatCampPop-text",style:{color:""+t.barrage_color},__source:{fileName:wz,lineNumber:90},__self:e},t.camp_name))}):"")),Ns.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--inner",__source:{fileName:wz,lineNumber:101},__self:this}),Ns.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--outer",__source:{fileName:wz,lineNumber:102},__self:this}))},ChatCampPop}(Ns.a.Component),gz=ChatCampPop_applyDecoratedDescriptor(vz.prototype,"chatCampService",[fz],{enumerable:!0,initializer:null}),yz=ChatCampPop_applyDecoratedDescriptor(vz.prototype,"chatToolBarService",[mz],{enumerable:!0,initializer:null}),_z=ChatCampPop_applyDecoratedDescriptor(vz.prototype,"chatNobleBarrageService",[dz],{enumerable:!0,initializer:null}),Sz=ChatCampPop_applyDecoratedDescriptor(vz.prototype,"chatRoleBarrageServices",[bz],{enumerable:!0,initializer:null}),hz=vz))||hz),Rz=Object(yh.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,selectIndex:e.chatCamp.selectIndex,campList:e.chatCamp.campList}})(kz),Tz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampRemind.js";function ChatCampRemind_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatCampRemind_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampRemind_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Bz=(Oz=(0,n.a.Service)(mn.a),Object(ee.log)((Dz=function(e){function ChatCampRemind(){var t,r;!function ChatCampRemind_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampRemind);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatCampRemind_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatCampRemind_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatCampService",Pz,r),ChatCampRemind_possibleConstructorReturn(r,t)}return ChatCampRemind_inherits(ChatCampRemind,e),ChatCampRemind.prototype.render=function render(){var e=this.props.remindIsShow;return Ns.a.createElement("div",{className:"ChatCampRemind"+(e?" is-active":""),__source:{fileName:Tz,lineNumber:24},__self:this},Ns.a.createElement("div",{className:"ChatCampRemind-container",__source:{fileName:Tz,lineNumber:25},__self:this},Ns.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:Tz,lineNumber:26},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61"),Ns.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:Tz,lineNumber:27},__self:this},"\u7528\u8272\u5f69\u8868\u660e\u4f60\u7684\u7acb\u573a")),Ns.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--inner",__source:{fileName:Tz,lineNumber:29},__self:this}),Ns.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--outer",__source:{fileName:Tz,lineNumber:30},__self:this}))},ChatCampRemind}(Ns.a.Component),Pz=function ChatCampRemind_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Dz.prototype,"chatCampService",[Oz],{enumerable:!0,initializer:null}),Ez=Dz))||Ez),Mz=Object(yh.connect)(function mapStateToProps(e){return{remindIsShow:e.chatCamp.remindIsShow}})(Bz),zz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCamp.js";function ChatCamp_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCamp_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Lz,Fz,Az,Iz,xz,Gz,Uz,Hz,Wz=function(e){function ChatCamp(){return function ChatCamp_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCamp),function ChatCamp_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatCamp_inherits(ChatCamp,e),ChatCamp.prototype.render=function render(){return Ns.a.createElement("div",{className:"ChatCamp",__source:{fileName:zz,lineNumber:17},__self:this},Ns.a.createElement(Cz,{__source:{fileName:zz,lineNumber:18},__self:this}),Ns.a.createElement(Rz,{__source:{fileName:zz,lineNumber:19},__self:this}),Ns.a.createElement(Mz,{__source:{fileName:zz,lineNumber:20},__self:this}))},ChatCamp}(Ns.a.Component),Vz=(r("21b33"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ShieldingTool/ShieldTool.js"),$z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function ShieldTool_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ShieldTool_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ShieldTool_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ShieldTool_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ShieldTool_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ShieldTool_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Kz,Jz,qz,Qz,Yz,Xz=n.a.Service,Zz=[106,107,108,105,110],eL=function dySubV2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split("."),i=r[0],n=r[1],a=r[2];Object(pr.dysub2)($z({action_code:i,event_id:n,type:a},t))},tL=(Lz=Xz(hu),Fz=function(e){function ShieldToolComponent(){ShieldTool_classCallCheck(this,ShieldToolComponent);var t=ShieldTool_possibleConstructorReturn(this,e.call(this));return ShieldTool_initDefineProp(t,"shieldToolServices",Az,t),t.hoverTimer=0,t.showTipTimer=0,t.isSetWeek=!1,t.state={tipShow:!1},t}return ShieldTool_inherits(ShieldToolComponent,e),ShieldToolComponent.prototype.componentDidMount=function componentDidMount(){this.shieldToolServices.init(),this.shieldToolServices.showShieldTip(this.showShieldTip.bind(this))},ShieldToolComponent.prototype.setWeekShow=function setWeekShow(){this.isSetWeek=!this.isSetWeek,this.shieldToolServices.setShieldTipShowExpired(this.isSetWeek?2:3)},ShieldToolComponent.prototype.showShieldTip=function showShieldTip(){var e=this;this.setState({tipShow:!0}),this.showTipTimer=setTimeout(function(){e.hideShieldTip()},1e4)},ShieldToolComponent.prototype.hideShieldTip=function hideShieldTip(){clearTimeout(this.showTipTimer),this.setState({tipShow:!1})},ShieldToolComponent.prototype.returnShieldList=function returnShieldList(e){var t=this;return Zz.map(function(r){var i=e[r];return i?Ns.a.createElement(rL,{key:i.type,type:i.type,config:i,__source:{fileName:Vz,lineNumber:70},__self:t}):null})},ShieldToolComponent.prototype.render=function render(){var e=this,t=this.props.shieldConfig,r=this.shieldToolServices.getToShieldData(t);return this.state.tipShow&&t[105]<=0&&(this.state.tipShow=!1),Ns.a.createElement("div",{className:"ShieldTool-content",__source:{fileName:Vz,lineNumber:83},__self:this},Ns.a.createElement("div",{className:"ShieldTool-enter",__source:{fileName:Vz,lineNumber:84},__self:this},Ns.a.createElement(rL,{config:r[999],__source:{fileName:Vz,lineNumber:85},__self:this}),Ns.a.createElement("div",{className:"ShieldTool-list",__source:{fileName:Vz,lineNumber:86},__self:this},Ns.a.createElement("a",{href:"http://www.douyu.com/client?platform=3",target:"_blank",className:"ShieldTool-PClient",__source:{fileName:Vz,lineNumber:87},__self:this},Ns.a.createElement("i",{className:"ShieldTool-PCIcon",__source:{fileName:Vz,lineNumber:87},__self:this}),"PC\u5ba2\u6237\u7aef"),this.returnShieldList(r))),this.state.tipShow&&t[105]?Ns.a.createElement("div",{className:"ShieldToolTip",__source:{fileName:Vz,lineNumber:96},__self:this},Ns.a.createElement("i",{className:"ShieldToolTip-close",onClick:this.hideShieldTip.bind(this),__source:{fileName:Vz,lineNumber:97},__self:this}),Ns.a.createElement("i",{className:"ShieldToolTip-arrow",__source:{fileName:Vz,lineNumber:98},__self:this}),Ns.a.createElement("h3",{className:"ShieldToolTip-desc1",__source:{fileName:Vz,lineNumber:99},__self:this},"\u9ca8\u9c7c\u5a18\u68c0\u6d4b\u5230\u60a8\u5c4f\u5e55\u5361\u987f\uff01"),Ns.a.createElement("h6",{className:"ShieldToolTip-desc2",__source:{fileName:Vz,lineNumber:100},__self:this},"\u5df2\u4e3a\u60a8\u5c4f\u853d\u5c0f\u793c\u7269\u7279\u6548"),Ns.a.createElement("div",{className:"ShieldToolTip-switch",__source:{fileName:Vz,lineNumber:101},__self:this},Ns.a.createElement("label",{className:"ShieldToolTip-switchLabel",onChange:function onChange(){return e.setWeekShow()},__source:{fileName:Vz,lineNumber:102},__self:this},Ns.a.createElement("input",{className:"ShieldToolTip-switchIcon",type:"checkbox",__source:{fileName:Vz,lineNumber:103},__self:this}),Ns.a.createElement("span",{className:"ShieldToolTip-switchText",__source:{fileName:Vz,lineNumber:104},__self:this},"\u672c\u5468\u4e0d\u518d\u63d0\u793a")))):null)},ShieldToolComponent}(Ns.a.Component),Az=ShieldTool_applyDecoratedDescriptor(Fz.prototype,"shieldToolServices",[Lz],{enumerable:!0,initializer:null}),Fz),rL=(Iz=Xz(hu),xz=Xz(b.DataCenter.common),Gz=function(e){function ShieldItemComponent(){var t,r;ShieldTool_classCallCheck(this,ShieldItemComponent);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ShieldTool_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ShieldTool_initDefineProp(r,"shieldToolServices",Uz,r),ShieldTool_initDefineProp(r,"common",Hz,r),r.state={ext:{}},ShieldTool_possibleConstructorReturn(r,t)}return ShieldTool_inherits(ShieldItemComponent,e),ShieldItemComponent.prototype.componentDidMount=function componentDidMount(){var e=this;"userEnter"===this.props.type&&this.common.get("$DATA").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).room,r=(t=void 0===t?{}:t).cate1_id,i=t.cate2_id,n=t.cate3_id,a=t.room_id;e.setState({ext:{cate_id:r,child_id:n,tag_id:i,room_id:a}})})},ShieldItemComponent.prototype.switchShield=function switchShield(e){var t=this.state.ext;this.userEnterShieldDys(e,t),this.shieldToolServices.switchShield(e)},ShieldItemComponent.prototype.userEnterShieldDys=function userEnterShieldDys(e,t){if(110===+e.id){var r=function getDysCode(e){return"11010020D00"+e+".1.1"};+e.state?eL(r("8"),t):eL(r("7"),t)}},ShieldItemComponent.prototype.getBgPos=function getBgPos(e){switch(+e.state){case 0:return"ShieldTool-listItem is-noChecked";case 1:return"ShieldTool-listItem is-checked";case 2:return"ShieldTool-listItem is-allChecked";default:return"ShieldTool-listItem is-noChecked"}},ShieldItemComponent.prototype.render=function render(){var e=this,t=this.props.config;if(!t)return null;var r=this.getBgPos(t);return Ns.a.createElement("div",{className:r,onClick:function onClick(){return e.switchShield(t)},key:t.type,__source:{fileName:Vz,lineNumber:184},__self:this},Ns.a.createElement("span",{className:"ShieldTool-checkIcon",__source:{fileName:Vz,lineNumber:188},__self:this}),Ns.a.createElement("h5",{className:"ShieldTool-checkText",__source:{fileName:Vz,lineNumber:190},__self:this},t.text))},ShieldItemComponent}(Ns.a.Component),Uz=ShieldTool_applyDecoratedDescriptor(Gz.prototype,"shieldToolServices",[Iz],{enumerable:!0,initializer:null}),Hz=ShieldTool_applyDecoratedDescriptor(Gz.prototype,"common",[xz],{enumerable:!0,initializer:null}),Gz),iL=Object(yh.connect)(function mapStateToProps(e){return{shieldConfig:e.shieldConfig}})(tL),nL=r("3cb5d");function barrageFilterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageFilterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageFilterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function barrageFilterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var aL,oL,lL,sL,cL=n.a.Service,uL=n.a.Store,pL=(Kz=cL(Os.a),Jz=uL(),qz=function(e){function BarrageFilterServices(){var t,r;!function barrageFilterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageFilterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),barrageFilterServices_initDefineProp(r,"userCardService",Qz,r),barrageFilterServices_initDefineProp(r,"store",Yz,r),barrageFilterServices_possibleConstructorReturn(r,t)}return barrageFilterServices_inherits(BarrageFilterServices,e),BarrageFilterServices.prototype.setFilterData=function setFilterData(e){this.store.dispatch(fl.setFilterData(e))},BarrageFilterServices}(d.Service),Qz=barrageFilterServices_applyDecoratedDescriptor(qz.prototype,"userCardService",[Kz],{enumerable:!0,initializer:null}),Yz=barrageFilterServices_applyDecoratedDescriptor(qz.prototype,"store",[Jz],{enumerable:!0,initializer:null}),qz),fL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/FilterSwitch.js",mL={0:"\u672a\u5f00\u542f",1:"\u5df2\u5f00\u542f"},dL=function isChecked(e){return e?"is-checked":""},bL=function FilterSwitchStatus(e){var t=e.title,r=e.checked,i=e.filterSwitch;return Ns.a.createElement("div",{className:"FilterSwitchStatus",__source:{fileName:fL,lineNumber:16},__self:void 0},Ns.a.createElement("h3",{__source:{fileName:fL,lineNumber:17},__self:void 0},t),Ns.a.createElement("div",{__source:{fileName:fL,lineNumber:18},__self:void 0},Ns.a.createElement("span",{className:"FilterSwitchStatus-status "+dL(r),__source:{fileName:fL,lineNumber:19},__self:void 0},mL[r]),Ns.a.createElement("span",{className:"FilterSwitchStatus-switch "+dL(r),onClick:i,__source:{fileName:fL,lineNumber:20},__self:void 0},Ns.a.createElement("span",{className:"FilterSwitchStatus-switch-inner",__source:{fileName:fL,lineNumber:24},__self:void 0}))))},hL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterLimit.js",vL=function LevelFilterLimit(e){var t=e.isOn,r=e.levelLimit,i=e.levelLimitInput,n=e.setLevelLimit,a=e.getLevelInput;return Ns.a.createElement("div",{className:"LevelFilterLimit",__source:{fileName:hL,lineNumber:10},__self:void 0},Ns.a.createElement("p",{__source:{fileName:hL,lineNumber:11},__self:void 0},"\u5c4f\u853d",Ns.a.createElement("input",{className:"LevelFilterLimit-input "+(t?"enabled":""),type:"text",placeholder:"1~30",maxLength:"2",value:r,onChange:i,onBlur:n,ref:a,__source:{fileName:hL,lineNumber:13},__self:void 0}),"\u7ea7\u53ca\u4ee5\u4e0b\u7528\u6237\u7684\u5f39\u5e55"))},gL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterTab.js";function KeywordFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yL,_L,SL,NL=(aL=(0,n.a.Service)(pL),Object(ee.log)((lL=function(e){function KeywordFilterHeader(){var t,r;!function KeywordFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilterHeader);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilterTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function KeywordFilterTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageFilterService",sL,r),r.switchNav=function(e){return function(){var t=r.props.roomId,i=Object(nL.d)(t),n=i.globalData,a={room:i.roomData,global:n}[e];r.barrageFilterService.setFilterData({type:e,keywords:a})}},KeywordFilterTab_possibleConstructorReturn(r,t)}return KeywordFilterTab_inherits(KeywordFilterHeader,e),KeywordFilterHeader.prototype.render=function render(){var e=this,t=this.props.type;return Ns.a.createElement("div",{className:"FilKeyTab",__source:{fileName:gL,lineNumber:35},__self:this},Object.keys(nL.a).map(function(r,i){return Ns.a.createElement("div",{className:"tab "+(t===r?"active":""),onClick:e.switchNav(r),key:"nav"+i,__source:{fileName:gL,lineNumber:38},__self:e},nL.a[r])}))},KeywordFilterHeader}(Ns.a.Component),sL=function KeywordFilterTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(lL.prototype,"barrageFilterService",[aL],{enumerable:!0,initializer:null}),oL=lL))||oL),CL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterTab.js";function LevelFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LevelFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var wL,OL,EL,DL,PL,jL,kL=Object(ee.log)((SL=_L=function(e){function LevelFilterTab(){return function LevelFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelFilterTab),function LevelFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return LevelFilterTab_inherits(LevelFilterTab,e),LevelFilterTab.prototype.render=function render(){var e=this,t=this.props,r=t.type,i=t.filterOn,n=t.changeTypeHandler;return Ns.a.createElement("div",{className:"LevelFilKeyTab "+(i?"on":""),__source:{fileName:CL,lineNumber:22},__self:this},Object.keys(nL.a).map(function(t,i){return Ns.a.createElement("div",{className:"tab "+(r===t?"active":""),onClick:function onClick(){n(t)},onMouseDown:function onMouseDown(e){e.preventDefault()},key:"nav"+i,__source:{fileName:CL,lineNumber:25},__self:e},nL.a[t])}))},LevelFilterTab}(Ns.a.Component),_L.defaultProps={changeTypeHandler:function changeTypeHandler(){}},yL=SL))||yL,RL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterItem.js",TL=function KeywordFilterItem(e){var t=e.text,r=e.type,i=e.deleteKeywords;return Ns.a.createElement("li",{className:"FKLiWrap",__source:{fileName:RL,lineNumber:9},__self:void 0},Ns.a.createElement("span",{className:"FKLiWrap-icon",__source:{fileName:RL,lineNumber:10},__self:void 0}),Ns.a.createElement("span",{className:"FKLiWrap-text",__source:{fileName:RL,lineNumber:11},__self:void 0},Ns.a.createElement("pre",{__source:{fileName:RL,lineNumber:12},__self:void 0},t)),Ns.a.createElement("span",{className:"FKLiWrap-deleteBtn",onClick:i({text:t,type:r}),__source:{fileName:RL,lineNumber:14},__self:void 0}))},BL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterContent.js",ML=function KeywordFilterContent(e){var t=e.keywords,r=e.type,i=e.deleteKeywords,n=t.length,a=nL.a[r],o=0,l=t.length;return o=l<=2?68:l<5?30*l:140,n?Ns.a.createElement("div",{className:"FKContent",__source:{fileName:BL,lineNumber:30},__self:void 0},Ns.a.createElement("p",{className:"FKContent-title",__source:{fileName:BL,lineNumber:31},__self:void 0},a,"\u8fc7\u6ee4\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\uff08",n,"/20\uff09"),Ns.a.createElement(Cs.Scrollbars,{className:"FKContent-mcbox",style:{height:o},__source:{fileName:BL,lineNumber:34},__self:void 0},Ns.a.createElement("ul",{className:"ulContent",__source:{fileName:BL,lineNumber:35},__self:void 0},t.map(function(e){return Ns.a.createElement(TL,{key:e,text:e,type:r,deleteKeywords:i,__source:{fileName:BL,lineNumber:37},__self:void 0})})))):Ns.a.createElement("div",{className:"FKNokeywords",__source:{fileName:BL,lineNumber:44},__self:void 0},Ns.a.createElement("p",{className:"FKNokeywords-title",__source:{fileName:BL,lineNumber:45},__self:void 0},a,"\u6ca1\u6709\u88ab\u8fc7\u6ee4\u7684\u5173\u952e\u8bcd"),Ns.a.createElement("p",{className:"FKNokeywords-tip",__source:{fileName:BL,lineNumber:46},__self:void 0},"\u8bbe\u7f6e\u540e",a,"\u5305\u542b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\u5bf9\u60a8\u4e0d\u53ef\u89c1"))},zL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterInput.js",LL=function KeywordFilterInput(e){var t=e.keywordInputting,r=e.keywordFilterInput,i=e.getKeywordInput,n=e.addKeywords,a=e.onBlur;return Ns.a.createElement("div",{className:"FilterKeywords-edit",__source:{fileName:zL,lineNumber:9},__self:void 0},Ns.a.createElement("input",{className:"FilterKeywords-edit-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\uff08\u652f\u6301\u901a\u914d\u7b26*\u3001\uff1f\uff09",maxLength:"10",onChange:r,ref:i,onBlur:a,__source:{fileName:zL,lineNumber:10},__self:void 0}),Ns.a.createElement("div",{className:"FilterKeywords-edit-addBtn "+(t?"active":""),onMouseDown:n,__source:{fileName:zL,lineNumber:19},__self:void 0},"\u6dfb\u52a0"))},FL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/TipRemind.js",AL=function FilKeyTipRemind(e){var t=e.isShowTip,r=e.tip;return t?Ns.a.createElement("div",{className:"FKRemind",__source:{fileName:FL,lineNumber:13},__self:void 0},Ns.a.createElement("div",{className:"FKRemind-content",__source:{fileName:FL,lineNumber:14},__self:void 0},Ns.a.createElement("span",{className:"contentTip",__source:{fileName:FL,lineNumber:15},__self:void 0},r))):null},IL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},xL="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilter.js";function KeywordFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function KeywordFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function KeywordFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var GL,UL,HL,WL,VL,$L,KL,JL,qL=n.a.Service,QL={most_rooms:"\u6700\u591a\u8bbe\u7f6e20\u4e2a\u76f4\u64ad\u95f4",most_words:"\u6700\u591a\u6dfb\u52a020\u4e2a\u5173\u952e\u8bcd",repeat_word:"\u8bf7\u52ff\u6dfb\u52a0\u91cd\u590d\u7684\u5173\u952e\u8bcd",level_limit:"\u5f53\u524d\u4ec5\u652f\u6301\u5c4f\u853d1~30\u7ea7\u7528\u6237"},YL=150,XL=function getStatus(e){return{0:2,1:1}[e]},ZL=(wL=qL(pL),OL=qL(b.DataCenter.global),Object(ee.log)((DL=function(e){function KeywordFilter(){var t,r;!function KeywordFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),KeywordFilter_initDefineProp(r,"barrageFilterService",PL,r),KeywordFilter_initDefineProp(r,"global",jL,r),r.state={isTip:!1,tip:"",keywordInputting:0},r.levelInput=null,r.keywordInput=null,r.dataRestructure=function(){},r.tipRemind=function(e){r.setState({isTip:!0,tip:e}),setTimeout(function(){r.setState({isTip:!1,tip:""})},2e3)},r.getLevelInput=function(e){r.levelInput=e},r.getKeywordInput=function(e){r.keywordInput=e},r.filterSwitch=function(e){return function(){var t,i=r.props,n=i.roomId,a=i.levelType,o=i.levelFilter,l=i.levelLimit,s=i.keywordsFilter,c=Object(nL.e)(),u={level:"levelFilter",keywords:"keywordsFilter"}[e],p=+!{level:o,keywords:s}[e],f=((t={})[u]=p,t);if("level"===e&&"room"===a?c=Object(nL.f)({data:c,rid:n,levelFilter:p,levelLimit:l}):c[u]=p,"keywords"===e&&Object(pr.dysub)("click_user_shieldkv_on",{stat:XL(s)}),p){var m={level:r.levelInput,keywords:r.keywordInput}[e];setTimeout(function(){m.focus()},YL)}b.DataCenter.localStorage.set(nL.b,JSON.stringify(c)),r.global.set("BARRAGE_FILTER",r.dataRestructure(c)),setTimeout(function(){r.barrageFilterService.setFilterData(IL({},f))},YL)}},r.autoToggleKeywordSwitch=function(e){var t=r.props.roomId,i=Object(nL.d)(t),n=i.keywordsFilter,a=i.globalData,o=Object(nL.e)().roomKw,l=[];Object.values(o).forEach(function(e){Array.isArray(e)&&(l=l.concat(e))});var s=a.length>0||l.length>0,c=!1;switch(e){case"open":c=s&&!n;break;case"close":c=!s&&n;break;default:c=s&&!n||!s&&n}c&&r.filterSwitch("keywords")()},r.levelLimitInput=function(e){var t=e.target.value;t&&(t=t.replace(/[^\d]/g,"")),r.barrageFilterService.setFilterData({levelLimit:t})},r.keywordFilterInput=function(e){var t=e.target;r.setState({keywordInputting:+!!t.value.trim()})},r.setLevelLimit=function(e){var t=e.target,i=Object(nL.e)(),n=+t.value.trim()||"",a=+!!n,o=r.props,l=o.roomId,s=o.levelType;n>30&&(r.tipRemind(QL.level_limit),n=30),"room"===s?i=Object(nL.f)({data:i,rid:l,levelLimit:n,levelFilter:a}):(i.levelLimit=n,i.levelFilter=a),b.DataCenter.localStorage.set(nL.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),setTimeout(function(){r.barrageFilterService.setFilterData({levelFilter:a,levelLimit:n})},YL)},r.addKeywords=function(){var e=r.props,t=e.type,i=e.roomId,n=Object(nL.e)(),a=r.keywordInput.value.trim(),o=Object(nL.d)(i),l=o.globalData,s={room:o.roomData,global:l}[t],c={room:"roomKw",global:"globalKw"}[t];if(a)if("room"===t&&Object.keys(n.roomKw).length>=20)r.tipRemind(QL.most_rooms);else if(s&&s.length>=20)r.tipRemind(QL.most_words);else if(s.filter(function(e){return e===a}).length>0)r.tipRemind(QL.repeat_word);else{var u=[].concat(s,[a]);Object(pr.dysub)("click_user_shieldkv_addkv",{kv:u,type:"room"===t?1:0}),"room"===t?n[c][i]=u:n[c]=u,r.keywordInput.value="",r.barrageFilterService.setFilterData({type:t,keywords:u}),b.DataCenter.localStorage.set(nL.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("open")}},r.deleteKeywords=function(e){var t=e.type,i=e.text;return function(){var e=r.props.roomId,n=Object(nL.e)(),a=Object(nL.d)(e),o=a.globalData,l={room:a.roomData,global:o}[t].filter(function(e){return e!==i}),s={room:"roomKw",global:"globalKw"}[t];Object(pr.dysub)("click_user_shieldkv_del",{kv:i,type:"room"===t?1:0}),"room"===t?n[s][e]=l:n[s]=l,r.barrageFilterService.setFilterData({type:t,keywords:l}),b.DataCenter.localStorage.set(nL.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("close")}},r.closeBarrageFilterPane=function(){var e=r.props,t=e.toggleBarrageFilterPane,i=e.levelFilter,n=e.levelLimit;Object(pr.dysub)("show_user_shieldle",{stat:XL(i),lev:n}),t()},r.changeLevelType=function(e){var t=r.props.roomId,i=Object(nL.e)(),n=Object(nL.d)(t),a=n.levelFilter,o=n.levelLimit,l=n.roomLevelSetting,s=n.levelType;if(e!==s){if("room"===s){var c=l.filter,u=l.level;c&&!u&&(i=Object(nL.f)({data:i,rid:t,levelLimit:u,levelFilter:0}))}else a&&!o&&(i.levelFilter=0);var p=("room"===e?l.filter:a)||0,f=("room"===e?l.level:o)||"";i.levelType=e,b.DataCenter.localStorage.set(nL.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),r.barrageFilterService.setFilterData({levelType:e,levelFilter:p,levelLimit:f})}},KeywordFilter_possibleConstructorReturn(r,t)}return KeywordFilter_inherits(KeywordFilter,e),KeywordFilter.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.roomId,r=e.type,i=Object(nL.d)(t),n=i.levelType,a=i.levelFilter,o=i.levelLimit,l=i.roomLevelSetting,s=i.keywordsFilter,c=i.globalData,u=i.roomData,p=Object(nL.e)(),f=("room"===n?l.filter:a)||0,m=("room"===n?l.level:o)||"",d={room:u,global:c}[r];this.dataRestructure=Object(nL.c)(t),this.global.set("BARRAGE_FILTER",this.dataRestructure(p)),this.barrageFilterService.setFilterData({type:r,keywords:d,levelFilter:f,keywordsFilter:s,levelLimit:m,levelType:n})},KeywordFilter.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.toggleMasterSwitchStatus;(void 0===e?function(){}:e)()},KeywordFilter.prototype.render=function render(){var e=this,t=this.props,r=t.roomId,i=t.levelFilter,n=t.levelLimit,a=t.levelType,o=t.keywordsFilter,l=t.type,s=t.keywords,c=this.state,u=c.isTip,p=c.tip,f=c.keywordInputting;return Ns.a.createElement("div",{className:"FilterKeywords",__source:{fileName:xL,lineNumber:362},__self:this},Ns.a.createElement("div",{className:"FilterKeywords-close",onClick:this.closeBarrageFilterPane,__source:{fileName:xL,lineNumber:363},__self:this}),Ns.a.createElement(bL,{title:"\u7b49\u7ea7\u5c4f\u853d",checked:i,filterSwitch:this.filterSwitch("level"),__source:{fileName:xL,lineNumber:364},__self:this}),Ns.a.createElement(kL,{type:a,filterOn:!!i,changeTypeHandler:this.changeLevelType,__source:{fileName:xL,lineNumber:369},__self:this}),Ns.a.createElement(vL,{isOn:i,levelLimit:n,levelLimitInput:this.levelLimitInput,setLevelLimit:this.setLevelLimit,getLevelInput:this.getLevelInput,__source:{fileName:xL,lineNumber:374},__self:this}),Ns.a.createElement(bL,{title:"\u5173\u952e\u8bcd\u5c4f\u853d",checked:o,filterSwitch:this.filterSwitch("keywords"),__source:{fileName:xL,lineNumber:381},__self:this}),Ns.a.createElement(NL,{type:l,roomId:r,__source:{fileName:xL,lineNumber:386},__self:this}),Ns.a.createElement(LL,{keywordInputting:f,keywordFilterInput:this.keywordFilterInput,getKeywordInput:this.getKeywordInput,addKeywords:this.addKeywords,onBlur:function onBlur(){return e.autoToggleKeywordSwitch("close")},__source:{fileName:xL,lineNumber:387},__self:this}),Ns.a.createElement(ML,{type:l,keywords:s,deleteKeywords:this.deleteKeywords,__source:{fileName:xL,lineNumber:394},__self:this}),Ns.a.createElement(AL,{isShowTip:u,tip:p,__source:{fileName:xL,lineNumber:395},__self:this}))},KeywordFilter}(Ns.a.Component),PL=KeywordFilter_applyDecoratedDescriptor(DL.prototype,"barrageFilterService",[wL],{enumerable:!0,initializer:null}),jL=KeywordFilter_applyDecoratedDescriptor(DL.prototype,"global",[OL],{enumerable:!0,initializer:null}),EL=DL))||EL),eF=Object(yh.connect)(function mapStateToProps(e){var t=e.barrageFilterReducers;return{levelFilter:t.levelFilter,levelLimit:t.levelLimit,levelType:t.levelType,keywordsFilter:t.keywordsFilter,type:t.type,keywords:t.keywords}})(ZL),tF=(r("7e3b1"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/BarrageFilter.js");function BarrageFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rF,iF,nF,aF=n.a.Service,oF=(GL=aF(b.DataCenter.common),UL=aF(b.DataCenter.global),HL=aF(OR.a),Object(ee.log)((VL=function(e){function BarrageFilter(){var t,r;!function BarrageFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageFilter_initDefineProp(r,"common",$L,r),BarrageFilter_initDefineProp(r,"global",KL,r),BarrageFilter_initDefineProp(r,"firePowerService",JL,r),r.state={isShowContent:!1,ROOM_ID:"0",isOn:!1},r.dataRestructure=function(){},r.toggleMasterSwitchStatus=function(){var e=Object(nL.e)(),t=r.dataRestructure(e),i=!(!+t.LEVEL_FILTER&&!t.KEYWORDS_FILTER.length);r.setState({isOn:i})},r.toggleBarrageFilterPane=function(){var e=r.props.isOnfire;if(void 0!==e&&e)r.firePowerService.showNotice(!0);else{var t=r.state.isShowContent;Object(pr.dysub)("click_user_shieldkv"),r.setState({isShowContent:!t}),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},BarrageFilter_possibleConstructorReturn(r,t)}return BarrageFilter_inherits(BarrageFilter,e),BarrageFilter.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.room,i=(r=void 0===r?{}:r).room_id,n=Object(nL.e)(),a=Object(nL.c)(i),o=n.levelLimit;e.dataRestructure=a,n.levelType=n.levelType||(+o?"global":"room"),e.setState({ROOM_ID:i}),b.DataCenter.localStorage.set(nL.b,JSON.stringify(n)),e.global.set("BARRAGE_FILTER",a(n)),e.toggleMasterSwitchStatus()}),this.common.get("firePowerStart").subscribe(function(){e.setState({isShowContent:!1})})},BarrageFilter.prototype.render=function render(){var e=this.state,t=e.isShowContent,r=e.ROOM_ID,i=e.isOn;return Ns.a.createElement("div",{className:"BarrageFilter",__source:{fileName:tF,lineNumber:92},__self:this},Ns.a.createElement("div",{className:"BarrageFilter-fkbutton "+(i?"on":""),onClick:this.toggleBarrageFilterPane,__source:{fileName:tF,lineNumber:93},__self:this},Ns.a.createElement("div",{className:"fkbutton-icon",__source:{fileName:tF,lineNumber:94},__self:this})),t?Ns.a.createElement(eF,{roomId:r,toggleBarrageFilterPane:this.toggleBarrageFilterPane,toggleMasterSwitchStatus:this.toggleMasterSwitchStatus,__source:{fileName:tF,lineNumber:98},__self:this}):null)},BarrageFilter}(Ns.a.Component),$L=BarrageFilter_applyDecoratedDescriptor(VL.prototype,"common",[GL],{enumerable:!0,initializer:null}),KL=BarrageFilter_applyDecoratedDescriptor(VL.prototype,"global",[UL],{enumerable:!0,initializer:null}),JL=BarrageFilter_applyDecoratedDescriptor(VL.prototype,"firePowerService",[HL],{enumerable:!0,initializer:null}),WL=VL))||WL),lF=Object(yh.connect)(function mapStateToProps(e){return{isOnfire:e.firePowerData.isOnfire}})(oF),sF=r("4c8cb"),cF=r("304af"),uF=r("ecc4a"),pF=(r("f8b66"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/pop/Pop.js");function Pop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Pop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fF,mF,dF,bF,hF,vF,gF,yF,_F,SF,NF,CF,wF,OF=(rF=(0,n.a.Service)(ui.a),iF=function(e){function BarrageSuperLinkPop(){!function Pop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkPop);var t=function Pop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Pop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageSuperLinkServices",nF,t),t.textArea=null,t}return Pop_inherits(BarrageSuperLinkPop,e),BarrageSuperLinkPop.prototype.componentDidMount=function componentDidMount(){this.changeAreaText()},BarrageSuperLinkPop.prototype.changeAreaText=function changeAreaText(){var e=this;Object(sF.fromEvent)(this.textArea,"keyup").pipe(Object(cF.debounceTime)(200),Object(c.map)(function(){return e.textArea.value.trim()}),Object(uF.distinctUntilChanged)()).subscribe(function(t){e.props.updateAreaText(t)}),Object(sF.fromEvent)(this.textArea,"blur").pipe(Object(c.map)(function(){return e.textArea.value.trim()})).subscribe(function(t){e.props.updateAreaText(t)}),Object(sF.fromEvent)(this.textArea,"focus").subscribe(function(){e.props.updateLinkError(0)})},BarrageSuperLinkPop.prototype.render=function render(){var e=this,t=this.props;return Ns.a.createElement("div",{className:"BarrageSuperLinkPop",style:{display:t.superLinkShow?"block":"none"},__source:{fileName:pF,lineNumber:72},__self:this},Ns.a.createElement("i",{className:"BarrageSuperLinkPop-close",onClick:function onClick(){t.togglePop(0)},__source:{fileName:pF,lineNumber:77},__self:this}),Ns.a.createElement("div",{className:"BarrageSuperLinkPop-header",__source:{fileName:pF,lineNumber:84},__self:this},Ns.a.createElement("i",{className:"BarrageSuperLinkPop-logo",__source:{fileName:pF,lineNumber:85},__self:this}),Ns.a.createElement("div",{className:"BarrageSuperLinkPop-title",__source:{fileName:pF,lineNumber:86},__self:this},Ns.a.createElement("h2",{className:"BarrageSuperLinkPop-bigTitle",__source:{fileName:pF,lineNumber:87},__self:this},"\u8d85\u94fe\u5f39\u5e55"),Ns.a.createElement("div",{className:"BarrageSuperLinkPop-smallTitle",__source:{fileName:pF,lineNumber:88},__self:this},Ns.a.createElement("span",{className:"BarrageSuperLinkPop-desc",__source:{fileName:pF,lineNumber:89},__self:this},"\u60f3\u53bb\u54ea\uff1f\u6211\u7684\u5f39\u5e55\u5f15\u5bfc\u4f60~"),Ns.a.createElement("a",{href:"https://www.douyu.com/cms/gong/201801/05/7017.shtml",target:"_blank",onClick:function onClick(){return e.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_intro")},className:"BarrageSuperLinkPop-link",__source:{fileName:pF,lineNumber:90},__self:this},"\u4ecb\u7ecd")))),Ns.a.createElement("div",{className:"BarrageSuperLinkPop-content",__source:{fileName:pF,lineNumber:100},__self:this},Ns.a.createElement("span",{className:"BarrageSuperLinkPop-tips",__source:{fileName:pF,lineNumber:101},__self:this},"\u8bbe\u7f6e\u4ee5\u4e0b\u8df3\u8f6c\u94fe\u63a5\uff0c\u5176\u4ed6\u4eba\u70b9\u51fb\u4f60\u7684\u5f39\u5e55\u53ef\u76f4\u63a5\u8fc7\u53bb\u54df~"),Ns.a.createElement("div",{className:"BarrageSuperLinkPop-from",__source:{fileName:pF,lineNumber:102},__self:this},Ns.a.createElement("textarea",{className:"BarrageSuperLinkPop-area",type:"text",placeholder:"\u623f\u95f4\u53f7/\u9c7c\u5427\u8d34\u5b50\u94fe\u63a5/\u89c6\u9891\u94fe\u63a5",ref:function ref(t){e.textArea=t},__source:{fileName:pF,lineNumber:103},__self:this}))),Ns.a.createElement("p",{className:["BarrageSuperLinkPop-errorDesc",t.superLinkError<=0?"is-noError":""].join(" "),__source:{fileName:pF,lineNumber:113},__self:this},function returnErrorDesc(e){switch(e.superLinkError){case 1:return"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5";case 2:return"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5\u4fe1\u606f";case 3:return"\u8bf7\u52ff\u91cd\u590d\u53d1\u9001\u5f39\u5e55\uff01";default:return""}}(t)))},BarrageSuperLinkPop}(Ns.a.Component),nF=function Pop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(iF.prototype,"barrageSuperLinkServices",[rF],{enumerable:!0,initializer:null}),iF),EF=(r("9de30"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),DF="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/BarrageSuperLink.js";function BarrageSuperLink_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageSuperLink_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageSuperLink_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageSuperLink_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageSuperLink_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var PF,jF,kF,RF,TF,BF=n.a.Service,MF=(fF=BF(ui.a),mF=BF(mn.a),dF=BF(Dk),bF=BF(Vn.a),hF=BF(OR.a),vF=BF(b.DataCenter.common),gF=function(e){function BarrageSuperLink(){var t,r;!function BarrageSuperLink_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLink);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageSuperLink_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageSuperLink_initDefineProp(r,"barrageSuperLinkServices",yF,r),BarrageSuperLink_initDefineProp(r,"chatCampService",_F,r),BarrageSuperLink_initDefineProp(r,"chatToolBarServices",SF,r),BarrageSuperLink_initDefineProp(r,"chatRoleBarrageServices",NF,r),BarrageSuperLink_initDefineProp(r,"firePowerService",CF,r),BarrageSuperLink_initDefineProp(r,"common",wF,r),BarrageSuperLink_possibleConstructorReturn(r,t)}return BarrageSuperLink_inherits(BarrageSuperLink,e),BarrageSuperLink.prototype.componentDidMount=function componentDidMount(){var e=this;this.barrageSuperLinkServices.init(),this.togglePop=this.togglePop.bind(this),this.updateAreaText=this.updateAreaText.bind(this),this.updateLinkError=this.updateLinkError.bind(this),this.common.get("firePowerStart").subscribe(function(){e.barrageSuperLinkServices.updateBarrageLinkData({superLinkShow:!1})})},BarrageSuperLink.prototype.togglePop=function togglePop(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkShow:e,type:"openPanel"}),e&&this.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon"),this.chatRoleBarrageServices.clearRoleBarrage(),this.chatCampService.closeChatCamp(),this.chatToolBarServices.updateCampColor(0,Wo.a.colorArr[0])},BarrageSuperLink.prototype.updateLinkError=function updateLinkError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.barrageSuperLinkServices.updateBarrageLinkData({superLinkError:e})},BarrageSuperLink.prototype.updateAreaText=function updateAreaText(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkContent:e})},BarrageSuperLink.prototype.render=function render(){var e=this,t=Object.assign({},this.props.BarrageSuperLinkData,{togglePop:this.togglePop,updateAreaText:this.updateAreaText,updateLinkError:this.updateLinkError});return t.superLinkSwitch<=0?null:Ns.a.createElement("div",{className:"BarrageSuperLink",__source:{fileName:DF,lineNumber:80},__self:this},Ns.a.createElement("i",{className:"BarrageSuperLink-icon",title:"\u8d85\u94fe\u5f39\u5e55",onClick:function onClick(){e.props.isOnfire?e.firePowerService.showNotice(!0):e.togglePop(1)},__source:{fileName:DF,lineNumber:81},__self:this}),Ns.a.createElement(OF,EF({},t,{__source:{fileName:DF,lineNumber:96},__self:this})))},BarrageSuperLink}(Ns.a.Component),yF=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"barrageSuperLinkServices",[fF],{enumerable:!0,initializer:null}),_F=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"chatCampService",[mF],{enumerable:!0,initializer:null}),SF=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"chatToolBarServices",[dF],{enumerable:!0,initializer:null}),NF=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"chatRoleBarrageServices",[bF],{enumerable:!0,initializer:null}),CF=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"firePowerService",[hF],{enumerable:!0,initializer:null}),wF=BarrageSuperLink_applyDecoratedDescriptor(gF.prototype,"common",[vF],{enumerable:!0,initializer:null}),gF),zF=Object(yh.connect)(function mapStateToProps(e){return{BarrageSuperLinkData:e.BarrageSuperLinkData,isOnfire:e.firePowerData.isOnfire}})(MF),LF=(r("7e550"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FirePower/components/FirePowerChatModal.js");function FirePowerChatModal_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FirePowerChatModal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FirePowerChatModal_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FirePowerChatModal_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FirePowerChatModal_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var FF,AF,IF,xF,GF,UF,HF=n.a.Service,WF=(PF=HF(OR.a),jF=HF(Er.a),kF=function(e){function FirePowerChatModal(){var t,r,i=this;!function FirePowerChatModal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirePowerChatModal);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=FirePowerChatModal_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),FirePowerChatModal_initDefineProp(r,"firePowerService",RF,r),FirePowerChatModal_initDefineProp(r,"titleService",TF,r),r.checkFollowStatus=function(){var e=r.props.actData,t=(void 0===e?{}:e).rid;r.firePowerService.checkFollow(t)},r.addFollow=function(){var e=r.props,t=e.roomId;e.followed||r.titleService.addFollowedAnchor({rid:t}),Object(pr.dysub2)({action_code:"11010020D004",event_id:1,type:1})},r.getCondition=function(e,t){var n=r.props,a=(n.actData,n.followed);switch(+e){case 0:return Ns.a.createElement("p",{className:"FirePowerChatModal-content",__source:{fileName:LF,lineNumber:44},__self:i},"\u53c2\u4e0e\u6761\u4ef6\uff1a\u5168\u90e8\u6c34\u53cb\u90fd\u53ef\u53c2\u4e0e");case 1:return t?Ns.a.createElement("p",{className:"FirePowerChatModal-content",__source:{fileName:LF,lineNumber:58},__self:i},"\u53c2\u4e0e\u6761\u4ef6\uff1a\u5173\u6ce8\u4e3b\u64ad\u3002\u4f60\u5df2\u7ecf\u6ee1\u8db3\u53c2\u4e0e\u6761\u4ef6 "):Ns.a.createElement("p",{className:"FirePowerChatModal-subscribe",__source:{fileName:LF,lineNumber:47},__self:i},Ns.a.createElement("span",{__source:{fileName:LF,lineNumber:48},__self:i},"\u53c2\u4e0e\u6761\u4ef6\uff1a\u5173\u6ce8\u4e3b\u64ad"),Ns.a.createElement("a",{className:"FirePowerChatModal-subscribeBtn "+(a?"is-subDisable":""),onClick:function onClick(){return r.addFollow()},__source:{fileName:LF,lineNumber:50},__self:i},a?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"));case 2:var o=t?"\u53c2\u4e0e\u6761\u4ef6\uff1a\u7c89\u4e1d\u56e2\u6210\u5458\u3002\u4f60\u5df2\u7ecf\u6ee1\u8db3\u53c2\u4e0e\u6761\u4ef6":"\u53c2\u4e0e\u6761\u4ef6\uff1a\u7c89\u4e1d\u56e2\u6210\u5458\u3002\u90016\u9c7c\u7fc5\u7684\u529e\u5361\u5c31\u53ef\u53c2\u4e0e\u5566";return Ns.a.createElement("p",{className:"FirePowerChatModal-content",__source:{fileName:LF,lineNumber:63},__self:i},o);default:return""}},r.renderTime=function(e){var t=e||r.props.time,i=Math.floor(t/60),n=t%60;return(i=i<10?"0"+i:i)+":"+(n=n<10?"0"+n:n)},FirePowerChatModal_possibleConstructorReturn(r,t)}return FirePowerChatModal_inherits(FirePowerChatModal,e),FirePowerChatModal.prototype.render=function render(){var e=this.props,t=e.visible,r=e.close,i=e.actData,n=void 0===i?{}:i,a=n.title,o=n.prize,l=n.num,s=(n.duration,n.left_time),c=void 0===s?0:s,u=(n.from,n.condition),p=n.joinCondition;return t?Ns.a.createElement("div",{className:"FirePowerChatModal-Notice",__source:{fileName:LF,lineNumber:95},__self:this},Ns.a.createElement("a",{className:"FirePowerChatModal-introduction",href:"https://www.douyu.com/cms/new_list/201903/04/9894.shtml",target:"_blank",__source:{fileName:LF,lineNumber:96},__self:this},"\u4f7f\u7528\u89c4\u5219"),Ns.a.createElement("a",{className:"FirePowerChatModal-close",onClick:function onClick(){return r()},__source:{fileName:LF,lineNumber:101},__self:this}),Ns.a.createElement("div",{className:"FirePowerChatModal-infoBox",__source:{fileName:LF,lineNumber:102},__self:this},Ns.a.createElement("h3",{className:"FirePowerChatModal-title",__source:{fileName:LF,lineNumber:103},__self:this},a||"\u53d1\u9001\u4efb\u610f\u5f39\u5e55\u53ef\u53c2\u4e0e\u6d3b\u52a8"),c>0?Ns.a.createElement("div",{className:"FirePowerChatModal-countdown",__source:{fileName:LF,lineNumber:106},__self:this},Ns.a.createElement("span",{className:"FirePowerChatModal-remainTime FirePowerChatModal-unitColor",__source:{fileName:LF,lineNumber:107},__self:this},this.renderTime(c)),Ns.a.createElement("span",{className:"FirePowerChatModal-status",__source:{fileName:LF,lineNumber:108},__self:this},"\u540e\u7ed3\u675f")):Ns.a.createElement("div",{className:"FirePowerChatModal-countdown",__source:{fileName:LF,lineNumber:111},__self:this},Ns.a.createElement("span",{className:"FirePowerChatModal-remainTime FirePowerChatModal-unitColor",__source:{fileName:LF,lineNumber:112},__self:this},"\u5f00\u5956\u4e2d...")),Ns.a.createElement("p",{className:"FirePowerChatModal-detail",__source:{fileName:LF,lineNumber:116},__self:this},"\u4e3b\u64ad\u5c06\u9009\u62e9",Ns.a.createElement("span",{className:"FirePowerChatModal-unitColor",__source:{fileName:LF,lineNumber:117},__self:this},l,"\u6761"),"\u4f18\u8d28\u5f39\u5e55\uff0c\u8d60\u9001",Ns.a.createElement("span",{className:"FirePowerChatModal-unitColor",__source:{fileName:LF,lineNumber:117},__self:this},o)),Ns.a.createElement("div",{className:"FirePowerChatModal-joinCondition",__source:{fileName:LF,lineNumber:119},__self:this},this.getCondition(u,p)))):null},FirePowerChatModal}(Ns.a.Component),RF=FirePowerChatModal_applyDecoratedDescriptor(kF.prototype,"firePowerService",[PF],{enumerable:!0,initializer:null}),TF=FirePowerChatModal_applyDecoratedDescriptor(kF.prototype,"titleService",[jF],{enumerable:!0,initializer:null}),kF),VF=(r("9fe53"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FirePower/components/FirePowerNotice.js"),$F=function FirePowerNotice(e){var t=e.showNotice,r=e.text,i=void 0===r?"\u706b\u529b\u5168\u5f00\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7528":r;return t?Ns.a.createElement("div",{className:"FirePowerNotice",__source:{fileName:VF,lineNumber:5},__self:void 0},Ns.a.createElement("span",{className:"FirePowerNotice-ctn",__source:{fileName:VF,lineNumber:6},__self:void 0},i)):""},KF=(r("95008"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FirePower/FirePower.js");function FirePower_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FirePower_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FirePower_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FirePower_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FirePower_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var JF,qF,QF,YF,XF=n.a.Service,ZF=(FF=XF(OR.a),AF=XF(b.DataCenter.common),Object(ee.log)((xF=function(e){function FirePower(){var t,r;!function FirePower_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirePower);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FirePower_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),FirePower_initDefineProp(r,"firePowerService",GF,r),FirePower_initDefineProp(r,"common",UF,r),r.state={roomId:0},r.switchStatus=function(){var e=r.props.firePowerData,t=void 0===e?{}:e,i=t.isOnfire,n=t.joinCondition,a=(t.condition,t.showChatModal);if(Object(pr.dysub2)({action_code:"11010020D005",event_id:1,type:1}),n)i?r.firePowerService.turnOff():r.firePowerService.turnOn();else{var o=!a;r.firePowerService.updateFirePowerData({showChatModal:o})}},FirePower_possibleConstructorReturn(r,t)}return FirePower_inherits(FirePower,e),FirePower.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({roomId:t.get("room.room_id")}),e.firePowerService.updateJoinCondition(t.get("room.room_id"))}),this.firePowerService.firePowerStartMSListener(),this.firePowerService.firePowerResMSListener()},FirePower.prototype.closeChatModal=function closeChatModal(){this.firePowerService.toggleChatModal(!1)},FirePower.prototype.closeRewardModal=function closeRewardModal(){this.firePowerService.toggleRewardModal(!1)},FirePower.prototype.render=function render(){var e=this,t=this.props,r=t.firePowerData,i=void 0===r?{}:r,n=t.titleData,a=void 0===n?{}:n,o=this.state.roomId,l=i.isOnfire,s=i.showChatModal,c=(i.showResult,i.showFirePowerIcon),u=i.joinCondition,p=i.showNotice,f=i.noticeCtx,m=a.followed;return Ns.a.createElement("div",{className:"FirePower",__source:{fileName:KF,lineNumber:89},__self:this},c?Ns.a.createElement("span",{className:"FirePower-icon  "+(l&&u?"on-fire":""),onClick:function onClick(){return e.switchStatus()},__source:{fileName:KF,lineNumber:90},__self:this}):"",Ns.a.createElement(WF,{roomId:o,visible:s,actData:i,followed:m,close:function close(){return e.closeChatModal()},__source:{fileName:KF,lineNumber:95},__self:this}),Ns.a.createElement($F,{showNotice:p,text:f,__source:{fileName:KF,lineNumber:102},__self:this}))},FirePower}(Ns.a.Component),GF=FirePower_applyDecoratedDescriptor(xF.prototype,"firePowerService",[FF],{enumerable:!0,initializer:null}),UF=FirePower_applyDecoratedDescriptor(xF.prototype,"common",[AF],{enumerable:!0,initializer:null}),IF=xF))||IF),eA=Object(yh.connect)(function mapStateToProps(e){return{firePowerData:e.firePowerData,titleData:e.titleData}})(ZF),tA=(r("5d14d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatToolBar/ChatToolBar.js");function ChatToolBar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatToolBar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rA=(JF=(0,n.a.Service)(ks.a),Object(ee.log)((QF=function(e){function ChatToolBar(){!function ChatToolBar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBar);var t=function ChatToolBar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));!function ChatToolBar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"matchSystemServices",YF,t),t.componentWillReceiveProps=function(e){t.state.isMatchSystemRoom&&!t.props.isFirstSeizeMedal&&e.isFirstSeizeMedal&&t.matchSystemServices.getMatchSystemUserDetail()};var r=b.DataCenter.global.get("$ROOM");return t.state={left:0,isMatchSystemRoom:Mj.a.indexOf(parseInt(r.room_id,10))>-1},t.chatToolBarDom=Ns.a.createRef(),t}return ChatToolBar_inherits(ChatToolBar,e),ChatToolBar.prototype.componentDidMount=function componentDidMount(){var e=Ts.a.check();this.setState({left:this.chatToolBarDom.current.getBoundingClientRect().left}),this.state.isMatchSystemRoom&&(e?(this.matchSystemServices.getMatchConfig(),this.matchSystemServices.getStorageColor(),this.matchSystemServices.getStorageSuperBarrage(),this.matchSystemServices.getMatchSystemUserDetail(),this.matchSystemServices.observerMatchSystemBarrage()):this.matchSystemServices.showFirstJoinSystemPanel())},ChatToolBar.prototype.render=function render(){var e=this.props.isInit,t=void 0!==e&&e,r=this.state,i=r.left,n=r.isMatchSystemRoom,a=t?Ns.a.createElement(Wz,{__source:{fileName:tA,lineNumber:76},__self:this}):Ns.a.createElement(vB,{toolBarleft:i,__source:{fileName:tA,lineNumber:76},__self:this}),o=Ns.a.createElement(pz,{__source:{fileName:tA,lineNumber:77},__self:this});return n&&(a=Ns.a.createElement(rM,{toolBarleft:i,__source:{fileName:tA,lineNumber:81},__self:this}),o=Ns.a.createElement(jM,{toolBarleft:i,__source:{fileName:tA,lineNumber:82},__self:this})),Ns.a.createElement("div",{className:"ChatToolBar",ref:this.chatToolBarDom,__source:{fileName:tA,lineNumber:86},__self:this},Ns.a.createElement(Ik,{__source:{fileName:tA,lineNumber:87},__self:this}),Ns.a.createElement(tR,{__source:{fileName:tA,lineNumber:88},__self:this}),Ns.a.createElement(TR,{__source:{fileName:tA,lineNumber:89},__self:this}),Ns.a.createElement(kT,{toolBarleft:i,__source:{fileName:tA,lineNumber:90},__self:this}),a,o,Ns.a.createElement(lF,{__source:{fileName:tA,lineNumber:93},__self:this}),Ns.a.createElement(zF,{__source:{fileName:tA,lineNumber:94},__self:this}),Ns.a.createElement(eA,{__source:{fileName:tA,lineNumber:95},__self:this}),Ns.a.createElement(iL,{__source:{fileName:tA,lineNumber:96},__self:this}))},ChatToolBar}(Ns.a.Component),YF=function ChatToolBar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(QF.prototype,"matchSystemServices",[JF],{enumerable:!0,initializer:null}),qF=QF))||qF),iA=Object(yh.connect)(function mapStateToProps(e){return{isInit:e.chatCamp.isInit,isFirstSeizeMedal:e.matchSystemData.isFirstSeizeMedal}})(rA),nA="/shark/live/src/pages/roomPage/playerAsideModule/components/Chat/Chat.js";function Chat_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Chat_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var aA,oA,lA,sA,cA,uA,pA,fA=function(e){function Chat(){return function Chat_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Chat),function Chat_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return Chat_inherits(Chat,e),Chat.prototype.render=function render(){var e=this.props,t=e.isOnfire,r=e.joinCondition;return Ns.a.createElement("div",{className:"Chat "+(t&&r?"on-firePower":""),__source:{fileName:nA,lineNumber:21},__self:this},Ns.a.createElement(iA,{className:"Chat-toolbar",__source:{fileName:nA,lineNumber:22},__self:this}),Ns.a.createElement(xj,{className:"Chat-speak",__source:{fileName:nA,lineNumber:23},__self:this}))},Chat}(Ns.a.Component),mA=Object(yh.connect)(function mapStateToProps(e){return{isOnfire:e.firePowerData.isOnfire,joinCondition:e.firePowerData.joinCondition}})(fA),dA=(r("3b2b1"),r("3c011"),r("fdf11")),bA=r("e5b33"),hA=r.n(bA),vA=(r("2d60f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),gA="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterLevel120/EnterLevel120.js";function EnterLevel120_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var yA=n.a.Service,_A=(aA=yA(At),oA=yA(im),lA=yA(b.DataCenter.global),sA=function(e){function EnterLevel120(t){!function EnterLevel120_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120);var r=function EnterLevel120_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return EnterLevel120_initDefineProp(r,"enterLevel120Service",cA,r),EnterLevel120_initDefineProp(r,"enterEffectService",uA,r),EnterLevel120_initDefineProp(r,"global",pA,r),r.width=336,r.deirect="bottom",r.reset=r.reset.bind(r),r.imgOnload=r.imgOnload.bind(r),r.state={isRender:!0,isOnload:!1},r}return EnterLevel120_inherits(EnterLevel120,e),EnterLevel120.prototype.componentWillMount=function componentWillMount(){this.enterLevel120Service.findEnterLevel120ByEpic()},EnterLevel120.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0,isOnload:!1})},EnterLevel120.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer)),this.imgTimer&&clearTimeout(this.imgTimer)},EnterLevel120.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(jo)},e))},EnterLevel120.prototype.matchEid=function matchEid(e){var t=void 0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return+r.ceid===+e&&(t=r),+r.ceid===+e}),t},EnterLevel120.prototype.imgOnload=function imgOnload(e){var t=this;return!(!this.imgBg||!this.imgSwf)||(this.imgBg=new Image,this.imgSwf=new Image,!!this.imgSwf.complete||(this.imgSwf.onload=function(){t.callback()},this.imgTimer&&clearTimeout(this.imgTimer),this.imgTimer=setTimeout(function(){t.callback()},500),this.imgBg.src=e.webImg,this.imgSwf.src=e.webImgSwf,!1))},EnterLevel120.prototype.callback=function callback(){this.setState({isOnload:!0})},EnterLevel120.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=window.location.protocol+"//"+window.location.host+"/",r=vA({},this.props.data),i=r.ceid,n=r.ic,a=r.nn,o=this.matchEid(i,this.props.config);if(o&&(this.state.isOnload||this.imgOnload(o))){var l=vA({},o),s=l.bgHeight,c=l.webImg,u=l.webImgSwf,p=l.imgHeight,f=l.fontColor,m=l.fontHeight,d=l.nameColor,b=vA({},o),h=b.welcomeContent,v=void 0===h?"":h,g=b.occurrenceMode,y=void 0===g?1:g,_=v.split("%username%")||[],S=_[0],N=void 0===S?"":S,C=_[1],w=void 0===C?"":C,O=["bottom","top","left","right"][y-1]||"bottom",E={},D={};return E[O]=3===+y||4===+y?-parseInt(this.width,10)||1:-parseInt(s,10)||1,D[O]=Object(dA.spring)(0,{stiffness:30,damping:10}),this.reset(4e3),Ns.a.createElement(dA.Motion,{defaultStyle:E,style:D,__source:{fileName:gA,lineNumber:150},__self:this},function(r){return Ns.a.createElement("div",{className:"EnterLevel120",style:vA({height:s+"px"},r),__source:{fileName:gA,lineNumber:156},__self:e},Ns.a.createElement("div",{className:"EnterLevel120-content",__source:{fileName:gA,lineNumber:157},__self:e},Ns.a.createElement("img",{className:"EnterLevel120-flashbg",src:"//sta-op.douyucdn.cn/"+c,__source:{fileName:gA,lineNumber:158},__self:e}),Ns.a.createElement("object",{autoPlay:"autoPlay",className:"EnterLevel120-object",__source:{fileName:gA,lineNumber:159},__self:e},Ns.a.createElement("embed",{className:"EnterLevel120-embed",type:"application/x-shockwave-flash",src:t+u,wmode:"transparent",__source:{fileName:gA,lineNumber:160},__self:e})),Ns.a.createElement("div",{className:"EnterLevel120-icon",style:{top:p+"px"},__source:{fileName:gA,lineNumber:164},__self:e},Ns.a.createElement(Dw.a,{className:"EnterLevel120-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:gA,lineNumber:165},__self:e})),Ns.a.createElement("div",{className:"EnterLevel120-introWrap",style:{color:f,top:m+"px"},__source:{fileName:gA,lineNumber:169},__self:e},Ns.a.createElement("div",{className:"EnterLevel120-intro",__source:{fileName:gA,lineNumber:171},__self:e},Ns.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:gA,lineNumber:172},__self:e},N),Ns.a.createElement("span",{className:"EnterLevel120-name",style:{color:d},__source:{fileName:gA,lineNumber:173},__self:e},a||"\u865a\u4f4d\u4ee5\u5f85"),Ns.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:gA,lineNumber:175},__self:e},w)))))})}return this.reset(0),null}return null},EnterLevel120}(Ns.a.Component),cA=EnterLevel120_applyDecoratedDescriptor(sA.prototype,"enterLevel120Service",[aA],{enumerable:!0,initializer:null}),uA=EnterLevel120_applyDecoratedDescriptor(sA.prototype,"enterEffectService",[oA],{enumerable:!0,initializer:null}),pA=EnterLevel120_applyDecoratedDescriptor(sA.prototype,"global",[lA],{enumerable:!0,initializer:null}),sA),SA=Object(yh.connect)(function mapStateToProps(e){return{config:e.chatEnterLevel120.config}})(_A),NA=r("15e46"),CA=r.n(NA),wA=r("81755"),OA=r.n(wA),EA=r("8cce4"),DA=r.n(EA),PA=r("48ac7"),jA=r.n(PA),kA=r("2c973"),RA=r.n(kA),TA=r("78dab"),BA=r.n(TA),MA=r("261f2"),zA=r.n(MA),LA=r("89614"),FA=r.n(LA),AA=r("52bb5"),IA=r.n(AA),xA={enterBg4:CA.a,enterBg5:OA.a,enterBg6:DA.a,video4:jA.a,video5:RA.a,video6:BA.a,swf4:zA.a,swf5:FA.a,swf6:IA.a},GA=(r("f7bd8"),r("acaf5"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNobleCard/EnterNobleCard.js"),UA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterNobleCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNobleCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var HA,WA,VA,$A,KA,JA=function(e){function EnterNobleCard(){return function EnterNobleCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNobleCard),function EnterNobleCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterNobleCard_inherits(EnterNobleCard,e),EnterNobleCard.prototype.render=function render(){var e=UA({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.nobleName,o=void 0===a?"":a;return Ns.a.createElement("div",{className:"EnterNobleCard is-level"+t,__source:{fileName:GA,lineNumber:17},__self:this},Ns.a.createElement("div",{className:"EnterNobleCard-icon",__source:{fileName:GA,lineNumber:18},__self:this},Ns.a.createElement("div",{className:"EnterNobleCard-bd is-level"+t,__source:{fileName:GA,lineNumber:19},__self:this}),Ns.a.createElement(Dw.a,{className:"EnterNobleCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:GA,lineNumber:20},__self:this})),Ns.a.createElement("h2",{className:"EnterNobleCard-nickName is-level"+t,__source:{fileName:GA,lineNumber:23},__self:this},i),Ns.a.createElement("p",{className:"EnterNobleCard-nobleName",__source:{fileName:GA,lineNumber:24},__self:this},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))},EnterNobleCard}(Ns.a.Component),qA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},QA="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNoble.js";function EnterNoble_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterNoble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNoble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterNoble_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var YA=n.a.Service,XA=(HA=YA(im),WA=YA(b.DataCenter.common),VA=function(e){function EnterNoble(){!function EnterNoble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNoble);var t=function EnterNoble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterNoble_initDefineProp(t,"enterEffectService",$A,t),EnterNoble_initDefineProp(t,"common",KA,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterNoble_inherits(EnterNoble,e),EnterNoble.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(ko)},5e3))},EnterNoble.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNoble.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNoble.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterNoble.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=qA({},this.props.data).nl,r=this.state.config[t]&&this.state.config[t].noble_name||"";return this.reset(),Ns.a.createElement(dA.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(dA.spring)(225,{stiffness:30,damping:10}),opacity:Object(dA.spring)(1,{stiffness:30,damping:10})},__source:{fileName:QA,lineNumber:77},__self:this},function(i){return Ns.a.createElement("div",{className:"EnterNoble",style:i,__source:{fileName:QA,lineNumber:89},__self:e},Ns.a.createElement("div",{className:"EnterNoble-main is-level"+t,__source:{fileName:QA,lineNumber:90},__self:e},Ns.a.createElement("img",{className:"EnterNoble-bg is-level"+t,src:xA["enterBg"+t],__source:{fileName:QA,lineNumber:91},__self:e}),Ns.a.createElement("video",{className:"EnterNoble-video is-level"+t,autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:QA,lineNumber:92},__self:e},Ns.a.createElement("source",{src:xA["video"+t],type:"video/mp4",__source:{fileName:QA,lineNumber:94},__self:e})),Ns.a.createElement(JA,qA({},e.props.data,{nobleName:r,__source:{fileName:QA,lineNumber:96},__self:e}))))})}return null},EnterNoble}(Ns.a.Component),$A=EnterNoble_applyDecoratedDescriptor(VA.prototype,"enterEffectService",[HA],{enumerable:!0,initializer:null}),KA=EnterNoble_applyDecoratedDescriptor(VA.prototype,"common",[WA],{enumerable:!0,initializer:null}),VA),ZA=(r("f04d2"),r("66d15"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloudCard/EnterWindCloudCard.js"),eI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterWindCloudCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloudCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tI,rI,iI,nI,aI,oI=function(e){function EnterWindCloudCard(){return function EnterWindCloudCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloudCard),function EnterWindCloudCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterWindCloudCard_inherits(EnterWindCloudCard,e),EnterWindCloudCard.prototype.render=function render(){var e=eI({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.wcConfig,o=void 0===a?{}:a,l=o.wText,s={color:o.nkColor},c={color:o.nColor};return Ns.a.createElement("div",{className:"EnterWindCloudCard is-level"+t,__source:{fileName:ZA,lineNumber:26},__self:this},Ns.a.createElement("div",{className:"EnterWindCloudCard-icon",__source:{fileName:ZA,lineNumber:27},__self:this},Ns.a.createElement(Dw.a,{className:"EnterWindCloudCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:ZA,lineNumber:28},__self:this})),Ns.a.createElement("h2",{className:"EnterWindCloudCard-nickName is-level"+t,style:s,__source:{fileName:ZA,lineNumber:31},__self:this},i),Ns.a.createElement("p",{className:"EnterWindCloudCard-nobleName",style:c,__source:{fileName:ZA,lineNumber:32},__self:this},l))},EnterWindCloudCard}(Ns.a.Component),lI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},sI="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloud.js";function EnterWindCloud_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterWindCloud_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloud_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterWindCloud_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cI,uI,pI,fI=n.a.Service,mI=(tI=fI(im),rI=fI(b.DataCenter.common),iI=function(e){function EnterWindCloud(){!function EnterWindCloud_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloud);var t=function EnterWindCloud_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterWindCloud_initDefineProp(t,"enterEffectService",nI,t),EnterWindCloud_initDefineProp(t,"common",aI,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterWindCloud_inherits(EnterWindCloud,e),EnterWindCloud.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Ro)},5e3))},EnterWindCloud.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterWindCloud.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterWindCloud.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterWindCloud.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=lI({},this.props.data),r=t.nl,i=t.wcConfig,n=this.state.config[r]&&this.state.config[r].noble_name||"",a=i.enterBg;return this.reset(),Ns.a.createElement(dA.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(dA.spring)(405,{stiffness:30,damping:10}),opacity:Object(dA.spring)(1,{stiffness:30,damping:10})},__source:{fileName:sI,lineNumber:77},__self:this},function(t){return Ns.a.createElement("div",{className:"EnterWindCloud",style:t,__source:{fileName:sI,lineNumber:89},__self:e},Ns.a.createElement("div",{className:"EnterWindCloud-main is-level"+r,__source:{fileName:sI,lineNumber:90},__self:e},Ns.a.createElement("img",{className:"EnterWindCloud-bg is-level"+r,src:a,__source:{fileName:sI,lineNumber:91},__self:e}),Ns.a.createElement(oI,lI({},e.props.data,{nobleName:n,__source:{fileName:sI,lineNumber:92},__self:e}))))})}return null},EnterWindCloud}(Ns.a.Component),nI=EnterWindCloud_applyDecoratedDescriptor(iI.prototype,"enterEffectService",[tI],{enumerable:!0,initializer:null}),aI=EnterWindCloud_applyDecoratedDescriptor(iI.prototype,"common",[rI],{enumerable:!0,initializer:null}),r("0abdc"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),dI="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterCharge/EnterCharge.js";function EnterCharge_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterCharge_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bI,hI,vI,gI=(cI=(0,n.a.Service)(b.DataCenter.common),uI=function(e){function EnterCharge(){!function EnterCharge_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterCharge);var t=function EnterCharge_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterCharge_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"common",pI,t),t.state={config:{}},t}return EnterCharge_inherits(EnterCharge,e),EnterCharge.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.effectInfo")||{}})})},EnterCharge.prototype.render=function render(){var e=this,t=this.props,r=t.data,i=t.eid,n=this.state.config[i];if(n){var a=r.nn,o=void 0===a?"":a,l=r.ic,s=mI({},n),c=s.icon,u=void 0===c?"":c,p=s.txt,f=(void 0===p?"":p).replace("{uname}",'<span class="EnterCharge-username" title='+o+">"+o+"</span>").replace("|","<br/>");return Ns.a.createElement(dA.Motion,{defaultStyle:{bottom:-150},style:{bottom:Object(dA.spring)(0,{stiffness:30,damping:10})},__source:{fileName:dI,lineNumber:45},__self:this},function(t){return Ns.a.createElement("div",{className:"EnterCharge",style:t,__source:{fileName:dI,lineNumber:55},__self:e},Ns.a.createElement(Dw.a,{className:"EnterCharge-avatar",src:"//apic.douyucdn.cn/upload/"+l+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:dI,lineNumber:56},__self:e}),Ns.a.createElement("div",{className:"EnterCharge-info",__source:{fileName:dI,lineNumber:60},__self:e},Ns.a.createElement("p",{className:"EnterCharge-detail",dangerouslySetInnerHTML:{__html:f},__source:{fileName:dI,lineNumber:61},__self:e})),Ns.a.createElement("img",{className:"EnterCharge-icon",src:"//res.douyucdn.cn/resource/"+u,__source:{fileName:dI,lineNumber:63},__self:e}))})}return null},EnterCharge}(Ns.a.Component),pI=function EnterCharge_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(uI.prototype,"common",[cI],{enumerable:!0,initializer:null}),uI);r("51fe3");function EnterNormal_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNormal_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yI,_I,SI,NI=(bI=(0,n.a.Service)(im),hI=function(e){function EnterNormal(){!function EnterNormal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNormal);var t=function EnterNormal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterNormal_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",vI,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterNormal_inherits(EnterNormal,e),EnterNormal.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(To)},e))},EnterNormal.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNormal.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNormal.prototype.render=function render(){if(this.state.isRender&&this.props.data){var e=this.props.data||{},t=e.el,r=t.etp,i=t.ef,n=t.eid;return 2===+r&&1===+i?(this.reset(3e3),Ns.a.createElement(gI,{data:e,eid:n,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNormal/EnterNormal.js",lineNumber:63},__self:this})):(this.reset(0),null)}return null},EnterNormal}(Ns.a.Component),vI=function EnterNormal_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(hI.prototype,"enterEffectService",[bI],{enumerable:!0,initializer:null}),hI),CI=(r("25ab8"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),wI="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterMotorcade/EnterMotorcade.js";function EnterMotorcade_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterMotorcade_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var OI,EI,DI,PI,jI,kI=(yI=(0,n.a.Service)(im),_I=function(e){function EnterMotorcade(){!function EnterMotorcade_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterMotorcade);var t=function EnterMotorcade_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterMotorcade_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",SI,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterMotorcade_inherits(EnterMotorcade,e),EnterMotorcade.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Bo)},5e3))},EnterMotorcade.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterMotorcade.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterMotorcade.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=CI({},this.props.data),r=t.icon,i=t.nn,n=void 0===i?"":i;return this.reset(),Ns.a.createElement(dA.Motion,{defaultStyle:{bottom:30},style:{bottom:Object(dA.spring)(0,{stiffness:30,damping:10})},__source:{fileName:wI,lineNumber:63},__self:this},function(t){return Ns.a.createElement("div",{className:"EnterMotorcade",style:t,__source:{fileName:wI,lineNumber:73},__self:e},Ns.a.createElement("div",{className:"EnterMotorcade-icon",__source:{fileName:wI,lineNumber:74},__self:e},Ns.a.createElement(Dw.a,{className:"EnterMotorcade-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:wI,lineNumber:75},__self:e})),Ns.a.createElement("div",{className:"EnterMotorcade-info",__source:{fileName:wI,lineNumber:80},__self:e},Ns.a.createElement("div",{className:"EnterMotorcade-main",__source:{fileName:wI,lineNumber:81},__self:e},Ns.a.createElement("h2",{className:"EnterMotorcade-nickName",title:n,__source:{fileName:wI,lineNumber:82},__self:e},n),Ns.a.createElement("p",{className:"EnterMotorcade-describe",__source:{fileName:wI,lineNumber:83},__self:e},"\u6b63\u5728\u53ec\u5524\u8f66\u961f\u6210\u5458"))))})}return null},EnterMotorcade}(Ns.a.Component),SI=function EnterMotorcade_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(_I.prototype,"enterEffectService",[yI],{enumerable:!0,initializer:null}),_I),RI=r("a230a"),TI=r.n(RI),BI=r("2c62f"),MI=r.n(BI),zI=r("e963c"),LI=r.n(zI),FI=r("62f85"),AI=r.n(FI),II=r("8f5d3"),xI=r.n(II),GI=r("3431e"),UI=r.n(GI),HI={enterBg4:TI.a,enterBg5:MI.a,enterBg6:LI.a,video4:AI.a,video5:xI.a,video6:UI.a},WI=(r("2b4fd"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),VI="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterShark/EnterShark.js";function EnterShark_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterShark_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterShark_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterShark_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $I=n.a.Service,KI=(OI=$I(im),EI=$I(b.DataCenter.common),DI=function(e){function EnterShark(){!function EnterShark_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterShark);var t=function EnterShark_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterShark_initDefineProp(t,"enterEffectService",PI,t),EnterShark_initDefineProp(t,"common",jI,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterShark_inherits(EnterShark,e),EnterShark.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Mo)},5e3))},EnterShark.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterShark.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterShark.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterShark.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=WI({},this.props.data),r=t.ic,i=t.nn,n=void 0===i?"":i,a=t.nl,o=this.state.config[a]&&this.state.config[a].noble_name||"";return this.reset(),Ns.a.createElement(dA.Motion,{defaultStyle:{bottom:-405},style:{bottom:Object(dA.spring)(0,{stiffness:30,damping:10})},__source:{fileName:VI,lineNumber:76},__self:this},function(t){return a>3&&a<7?Ns.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:VI,lineNumber:88},__self:e},Ns.a.createElement("video",{className:"EnterShark-video",autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:VI,lineNumber:89},__self:e},Ns.a.createElement("source",{src:HI["video"+a],type:"video/mp4",__source:{fileName:VI,lineNumber:90},__self:e})),Ns.a.createElement("div",{className:"EnterShark-content is-noble"+a,__source:{fileName:VI,lineNumber:92},__self:e},Ns.a.createElement(Dw.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:VI,lineNumber:93},__self:e}),Ns.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:VI,lineNumber:97},__self:e},n),Ns.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:VI,lineNumber:98},__self:e},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))):Ns.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:VI,lineNumber:105},__self:e},Ns.a.createElement("div",{className:"EnterShark-content",__source:{fileName:VI,lineNumber:106},__self:e},Ns.a.createElement(Dw.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:VI,lineNumber:107},__self:e}),Ns.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:VI,lineNumber:111},__self:e},n),Ns.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:VI,lineNumber:112},__self:e},"\u6b22\u8fce\u5e74\u5ea6\u795e\u8c6a\u5149\u4e34\u76f4\u64ad\u95f4")))})}return null},EnterShark}(Ns.a.Component),PI=EnterShark_applyDecoratedDescriptor(DI.prototype,"enterEffectService",[OI],{enumerable:!0,initializer:null}),jI=EnterShark_applyDecoratedDescriptor(DI.prototype,"common",[EI],{enumerable:!0,initializer:null}),r("7912b")),JI=(r("0a037"),r("decdc"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterProperty/EnterPropertyCard/EnterPropertyCard.js"),qI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterPropertyCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterPropertyCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var QI,YI,XI,ZI,ex,tx=function(e){function EnterPropertyCard(){return function EnterPropertyCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterPropertyCard),function EnterPropertyCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterPropertyCard_inherits(EnterPropertyCard,e),EnterPropertyCard.prototype.render=function render(){var e=qI({},this.props),t=e.nl,r=void 0===t?0:t,i=e.nn,n=void 0===i?"":i,a=e.ic,o=e.currentProperty,l=(void 0===o?{}:o).desc;return Ns.a.createElement("div",{className:"EnterPropertyCard is-level"+r,__source:{fileName:JI,lineNumber:18},__self:this},Ns.a.createElement("div",{className:"EnterPropertyCard-icon",__source:{fileName:JI,lineNumber:19},__self:this},Ns.a.createElement(Dw.a,{className:"EnterPropertyCard-avatar",src:"//apic.douyucdn.cn/upload/"+a+"_middle.jpg",defaultSrc:hA.a,__source:{fileName:JI,lineNumber:20},__self:this})),Ns.a.createElement("h2",{className:"EnterPropertyCard-nickName is-level"+r,__source:{fileName:JI,lineNumber:23},__self:this},n),Ns.a.createElement("p",{className:"EnterPropertyCard-nobleName",__source:{fileName:JI,lineNumber:24},__self:this},l))},EnterPropertyCard}(Ns.a.Component),rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ix="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterProperty/EnterProperty.js";function EnterProperty_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterProperty_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterProperty_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterProperty_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nx,ax,ox,lx=n.a.Service,sx=(QI=lx(im),YI=lx(b.DataCenter.common),XI=function(e){function EnterProperty(){!function EnterProperty_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterProperty);var t=function EnterProperty_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterProperty_initDefineProp(t,"enterEffectService",ZI,t),EnterProperty_initDefineProp(t,"common",ex,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterProperty_inherits(EnterProperty,e),EnterProperty.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Lo)},5e3))},EnterProperty.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterProperty.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterProperty.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterProperty.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=rx({},this.props.data),r=t.nl,i=void 0===r?0:r,n=t.currentProperty,a=this.state.config[i]&&this.state.config[i].noble_name||"",o=n.web_pic;return this.reset(),Ns.a.createElement(dA.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(dA.spring)(405,{stiffness:30,damping:10}),opacity:Object(dA.spring)(1,{stiffness:30,damping:10})},__source:{fileName:ix,lineNumber:76},__self:this},function(t){return Ns.a.createElement("div",{className:"EnterProperty",style:t,__source:{fileName:ix,lineNumber:87},__self:e},Ns.a.createElement("div",{className:"EnterProperty-main is-level"+i,__source:{fileName:ix,lineNumber:88},__self:e},Ns.a.createElement("div",{className:"EnterProperty-fixedBg is-level"+i,__source:{fileName:ix,lineNumber:89},__self:e}),Ns.a.createElement(KI.a,{className:"EnterProperty-bg is-level"+i,src:o,__source:{fileName:ix,lineNumber:90},__self:e}),Ns.a.createElement(tx,rx({},e.props.data,{nobleName:a,__source:{fileName:ix,lineNumber:93},__self:e}))))})}return null},EnterProperty}(Ns.a.Component),ZI=EnterProperty_applyDecoratedDescriptor(XI.prototype,"enterEffectService",[QI],{enumerable:!0,initializer:null}),ex=EnterProperty_applyDecoratedDescriptor(XI.prototype,"common",[YI],{enumerable:!0,initializer:null}),XI),cx="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterEffect/EnterEffect.js";function EnterEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ux=(nx=(0,n.a.Service)(im),ax=function(e){function EnterEffect(){var t,r;!function EnterEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EnterEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"enterEffectService",ox,r),EnterEffect_possibleConstructorReturn(r,t)}return EnterEffect_inherits(EnterEffect,e),EnterEffect.prototype.componentDidMount=function componentDidMount(){this.enterEffectService.init()},EnterEffect.prototype.render=function render(){var e=this.props.enterEffecUenter||{},t=e.normalQueue,r=void 0===t?[]:t,i=e.level120Queue,n=void 0===i?[]:i,a=e.nobleQueue,o=void 0===a?[]:a,l=(e.windCloudQueue,e.motorcadeQueue),s=void 0===l?[]:l,c=(e.sharkQueue,e.propertyQueue),u=void 0===c?[]:c;return Ns.a.createElement("div",{className:"EnterEffect",__source:{fileName:cx,lineNumber:42},__self:this},Ns.a.createElement(NI,{data:r[0],__source:{fileName:cx,lineNumber:43},__self:this}),Ns.a.createElement(SA,{data:n[0],__source:{fileName:cx,lineNumber:44},__self:this}),o.length?Ns.a.createElement(XA,{data:o[0],__source:{fileName:cx,lineNumber:45},__self:this}):"",Ns.a.createElement(kI,{data:s[0],__source:{fileName:cx,lineNumber:46},__self:this}),u.length?Ns.a.createElement(sx,{data:u[0],__source:{fileName:cx,lineNumber:47},__self:this}):"")},EnterEffect}(Ns.a.Component),ox=function EnterEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ax.prototype,"enterEffectService",[nx],{enumerable:!0,initializer:null}),ax),px=Object(yh.connect)(function mapStateToProps(e){return{enterEffecUenter:e.enterEffecUenter}})(ux),fx=(r("2bcfd"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),mx="/shark/live/src/common/components/Grayscale/Grayscale.js";function Grayscale_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Grayscale_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}!function insertGrayscaleSvg(){var e="js-svg-grayscale";if(!document.querySelector("#"+e)){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg"),i=document.createElementNS(t,"filter"),n=document.createElementNS(t,"feColorMatrix");r.setAttributeNS(null,"version","1.1"),r.setAttributeNS(null,"style","position:absolute;left:-1000px;top:-1000px;"),i.setAttributeNS(null,"id",e),n.setAttributeNS(null,"type","matrix"),n.setAttributeNS(null,"values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(n),r.appendChild(i),(document.body||document.documentElement).appendChild(r)}}();var dx,bx,hx,vx,gx,yx,_x=function(e){function Grayscale(t){!function Grayscale_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Grayscale);var r=function Grayscale_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state=t,r}return Grayscale_inherits(Grayscale,e),Grayscale.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props,r=t.width,i=t.height;if("undefined"===typeof r||"undefined"===typeof i){var n=new Image;n.onerror=function(){t.errorSrc&&e.setState({src:t.errorSrc}),e.onerror=null},n.onload=function(){e.setState({width:n.width,height:n.height})},n.src=t.src}},Grayscale.prototype.render=function render(){var e=this.state,t=e.width,r=e.height;return window.navigator.msPointerEnabled||window.navigator.pointerEnabled?Ns.a.createElement("svg",{width:t,height:r,__source:{fileName:mx,lineNumber:76},__self:this},Ns.a.createElement("g",{__source:{fileName:mx,lineNumber:77},__self:this},Ns.a.createElement("title",{__source:{fileName:mx,lineNumber:78},__self:this},e.title),Ns.a.createElement("image",{xlinkHref:e.src,x:"0",y:"0",filter:"url(#js-svg-grayscale)",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"none meet",width:t,height:r,__source:{fileName:mx,lineNumber:79},__self:this}))):Ns.a.createElement("img",fx({className:"Grayscale"},e,{__source:{fileName:mx,lineNumber:92},__self:this}))},Grayscale}(Ns.a.Component),Sx=(r("69b06"),r("9e210")),Nx=r.n(Sx),Cx="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleExpiredTip/NobleExpiredTip.js";function NobleExpiredTip_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTip_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var wx=n.a.Service,Ox=(dx=wx(Ds.a),bx=wx(Ai),Object(ee.log)((vx=function(e){function NobleExpiredTip(t){!function NobleExpiredTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTip);var r=function NobleExpiredTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return NobleExpiredTip_initDefineProp(r,"nobleBuyModalServices",gx,r),NobleExpiredTip_initDefineProp(r,"nobleExpiredTipServices",yx,r),r.state={isActive:0},r.openNobleBuyModal=r.openNobleBuyModal.bind(r),r.closeTip=r.closeTip.bind(r),r}return NobleExpiredTip_inherits(NobleExpiredTip,e),NobleExpiredTip.prototype.componentDidMount=function componentDidMount(){this.nobleExpiredTipServices.initSocket()},NobleExpiredTip.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;e.nobleExpiredTipData.nobleName&&e.nobleExpiredTipData.unfreezeDate&&(this.setState({isActive:1}),setTimeout(function(){t.closeTip()},2e4))},NobleExpiredTip.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeTip()},NobleExpiredTip.prototype.closeTip=function closeTip(){this.setState({isActive:0})},NobleExpiredTip.prototype.render=function render(){var e=this.props.nobleExpiredTipData,t=e.nobleImg,r=void 0===t?Nx.a:t,i=e.nobleName,n=e.frozenNobleYc,a=e.savedMoney,o=this.state.isActive;return o&&this.nobleExpiredTipServices.setLocalStorage(),o?Ns.a.createElement("div",{className:"NobleExpiredTip is-active",__source:{fileName:Cx,lineNumber:79},__self:this},Ns.a.createElement("div",{className:"NobleExpiredTip-badge--large",__source:{fileName:Cx,lineNumber:80},__self:this},Ns.a.createElement(_x,{src:r,width:"100",height:"100",__source:{fileName:Cx,lineNumber:81},__self:this})),Ns.a.createElement("div",{className:"NobleExpiredTip-content",__source:{fileName:Cx,lineNumber:83},__self:this},Ns.a.createElement("h3",{className:"NobleExpiredTip-identity",__source:{fileName:Cx,lineNumber:84},__self:this},"\u60a8\u7684",i,"\u8eab\u4efd\u5df2\u8fc7\u671f"),n>0?Ns.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Cx,lineNumber:90},__self:this},Ns.a.createElement("span",{className:"NobleExpiredTip-yc--noble",__source:{fileName:Cx,lineNumber:91},__self:this},n,"\u8d35\u65cf\u9c7c\u7fc5"),"\u5df2\u88ab\u51bb\u7ed3"):Ns.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Cx,lineNumber:92},__self:this}),a>0?Ns.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Cx,lineNumber:95},__self:this},Ns.a.createElement("p",{__source:{fileName:Cx,lineNumber:96},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5\uff0c"),Ns.a.createElement("p",{__source:{fileName:Cx,lineNumber:97},__self:this},"\u4eab\u7eed\u8d39\u4ef7\u683c",Ns.a.createElement("span",{className:"NobleExpiredTip-savedMoney",__source:{fileName:Cx,lineNumber:97},__self:this},"\u8282\u7701",a,"\u5143"))):Ns.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Cx,lineNumber:98},__self:this},Ns.a.createElement("p",{__source:{fileName:Cx,lineNumber:98},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5")),Ns.a.createElement("div",{className:"NobleExpiredTip-btn--renew",onClick:this.openNobleBuyModal,__source:{fileName:Cx,lineNumber:100},__self:this},"\u7eed\u8d39\u8d35\u65cf"),Ns.a.createElement("div",{className:"NobleExpiredTip-btn--close",onClick:this.closeTip,__source:{fileName:Cx,lineNumber:101},__self:this},"\xd7"))):null},NobleExpiredTip}(Ns.a.Component),gx=NobleExpiredTip_applyDecoratedDescriptor(vx.prototype,"nobleBuyModalServices",[dx],{enumerable:!0,initializer:null}),yx=NobleExpiredTip_applyDecoratedDescriptor(vx.prototype,"nobleExpiredTipServices",[bx],{enumerable:!0,initializer:null}),hx=vx))||hx),Ex=Object(yh.connect)(function mapStateToProps(e){return{nobleExpiredTipData:e.nobleExpiredTipData}})(Ox),Dx="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/ChatEffect.js";function ChatEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Px,jx,kx,Rx,Tx,Bx,Mx,zx,Lx,Fx,Ax=function(e){function ChatEffect(){return function ChatEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffect),function ChatEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatEffect_inherits(ChatEffect,e),ChatEffect.prototype.render=function render(){return Ns.a.createElement("div",{className:"ChatEffect",__source:{fileName:Dx,lineNumber:16},__self:this},Ns.a.createElement(px,{__source:{fileName:Dx,lineNumber:17},__self:this}),Ns.a.createElement(Ex,{__source:{fileName:Dx,lineNumber:18},__self:this}))},ChatEffect}(Ns.a.Component),Ix=r("3c9da"),xx=r("9a499"),Gx=(r("d5382"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Ux="/shark/live/src/pages/roomPage/playerAsideModule/components/FollowTips/FollowTips.js";function FollowTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FollowTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FollowTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FollowTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Hx=n.a.Service,Wx={barrage:"13010020D003",gift:"13010020D002"},Vx=(Px=Hx(b.DataCenter.global),jx=Hx(b.DataCenter.common),kx=Hx(Ix.a),Rx=Hx(xx.a),Object(ee.log)((Bx=function(e){function FollowTips(){!function FollowTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FollowTips);var t=function FollowTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FollowTips_initDefineProp(t,"global",Mx,t),FollowTips_initDefineProp(t,"common",zx,t),FollowTips_initDefineProp(t,"followServices",Lx,t),FollowTips_initDefineProp(t,"followTipsServices",Fx,t),t.showDys=function(e){Object(pr.dysub2)(Gx({action_code:Wx[e],event_id:2},t.dysParams))},t.followed=function(e){return function(){Object(pr.dysub2)(Gx({action_code:Wx[e],event_id:1},t.dysParams)),t.followServices.follow({type:"followTips"})}},t.dysParams={},t.isAnchor=+t.global.get("USER_INFO.uid")===+t.global.get("$ROOM.owner_uid"),t}return FollowTips_inherits(FollowTips,e),FollowTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.dysParams={room_id:t.get("room.room_id"),tag_id:t.get("room.cate_id"),type:1}})},FollowTips.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=(e.titleData||{}).followed;(this.props.titleData||{}).followed&&!t&&(this.followTipsServices.clearTimer(),this.followTipsServices.hide())},FollowTips.prototype.render=function render(){var e=this.props.titleData,t=e.followed,r=void 0===t?0:t,i=e.type,n=this.props.followTipsData,a=n.type,o=n.visible;if(this.isAnchor||r&&"followTips"!==i||!a||!o)return null;if(r&&"followTips"===i)return this.followTipsServices.followHideCountDown(),Ns.a.createElement("div",{className:"FollowTips",__source:{fileName:Ux,lineNumber:93},__self:this},"\u5df2\u5173\u6ce8");var l=null;if(o)switch(this.showDys(a),a){case"barrage":l=Ns.a.createElement("div",{className:"FollowTips FollowTips--barrage",onClick:this.followed(a),__source:{fileName:Ux,lineNumber:103},__self:this},Ns.a.createElement("i",{__source:{fileName:Ux,lineNumber:107},__self:this}),"+ \u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def");break;case"gift":l=Ns.a.createElement("div",{className:"FollowTips",__source:{fileName:Ux,lineNumber:112},__self:this},Ns.a.createElement("span",{className:"FollowTips-text",__source:{fileName:Ux,lineNumber:113},__self:this},"\u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def"),Ns.a.createElement("div",{className:"FollowTips-btn",onClick:this.followed(a),__source:{fileName:Ux,lineNumber:116},__self:this},"\u5173\u6ce8"))}return l},FollowTips}(Ns.a.Component),Mx=FollowTips_applyDecoratedDescriptor(Bx.prototype,"global",[Px],{enumerable:!0,initializer:null}),zx=FollowTips_applyDecoratedDescriptor(Bx.prototype,"common",[jx],{enumerable:!0,initializer:null}),Lx=FollowTips_applyDecoratedDescriptor(Bx.prototype,"followServices",[kx],{enumerable:!0,initializer:null}),Fx=FollowTips_applyDecoratedDescriptor(Bx.prototype,"followTipsServices",[Rx],{enumerable:!0,initializer:null}),Tx=Bx))||Tx);Vx.propTypes={followTipsData:gh.a.object.isRequired,titleData:gh.a.object.isRequired};var $x,Kx,Jx,qx=Object(yh.connect)(function mapStateToProps(e){return{followTipsData:e.followTipsData,titleData:e.titleData}})(Vx);r("b7ad9");function chatRankAllServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankAllServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Qx,Yx,Xx,Zx,eG,tG,rG,iG,nG=($x=(0,n.a.Store)(),Kx=function(e){function ChatRankAllServices(){var t,r;!function chatRankAllServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankAllServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function chatRankAllServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Jx,r),chatRankAllServices_possibleConstructorReturn(r,t)}return chatRankAllServices_inherits(ChatRankAllServices,e),ChatRankAllServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(il.openAllRank(!1))},ChatRankAllServices}(d.Service),Jx=function chatRankAllServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Kx.prototype,"store",[$x],{enumerable:!0,initializer:null}),Kx),aG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oG="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankAll/ChatRankAll.js";function ChatRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var lG=n.a.Service,sG=(Qx=lG(b.DataCenter.global),Yx=lG(nG),Xx=lG(ws.a),Object(ee.log)((eG=function(e){function RankAllMain(){!function ChatRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankAllMain);var t=function ChatRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankAll_initDefineProp(t,"global",tG,t),ChatRankAll_initDefineProp(t,"chatRankAllServices",rG,t),ChatRankAll_initDefineProp(t,"userCardModuleService",iG,t),t.state={isShow:!1},t.showUserCard=t.showUserCard.bind(t),t}return ChatRankAll_inherits(RankAllMain,e),RankAllMain.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:1===this.props.isCloseMonthRank?"month":"all"})},RankAllMain.prototype.close=function close(){this.chatRankAllServices.closeRankAll()},RankAllMain.prototype.render=function render(){var e=this,t=this.props||{},r=t.rankAllList||[],i=t.rankMonthData||[],n=this.props.defaultConfig,a=this.global.get("$SYS.avatar_url"),o=r,l=1===t.isCloseMonthRank;return l&&(o=i),t.isRankAllShow?Ns.a.createElement("div",{className:"RankAllMain "+(this.props.isRankAllShow?"is-active":""),key:1,__source:{fileName:oG,lineNumber:83},__self:this},Ns.a.createElement("div",{className:"RankAllMain-container",__source:{fileName:oG,lineNumber:84},__self:this},Ns.a.createElement("div",{className:l?"RankAllMain-monthHeader RankAllMain-header":"RankAllMain-header",__source:{fileName:oG,lineNumber:85},__self:this},Ns.a.createElement("a",{className:"RankAllMain-close",onClick:this.close.bind(this),__source:{fileName:oG,lineNumber:86},__self:this})),l?Ns.a.createElement("div",{className:"RankAllMain-yzmonth-rankInfo",__source:{fileName:oG,lineNumber:88},__self:this},"\u6309\u7167\u6700\u8fd1",Ns.a.createElement("span",{className:"highlight-color",__source:{fileName:oG,lineNumber:88},__self:this},"30\u5929"),"\u7d2f\u8ba1\u8d21\u732e\u503c\u8fdb\u884c\u6392\u540d"):"",Ns.a.createElement("div",{className:"RankAllMain-content",__source:{fileName:oG,lineNumber:89},__self:this},Ns.a.createElement(Cs.Scrollbars,{autoHeight:!0,autoHeightMax:412,__source:{fileName:oG,lineNumber:90},__self:this},Ns.a.createElement("ul",{className:"RankAllMain-list",__source:{fileName:oG,lineNumber:94},__self:this},o.length?o.map(function(t,r){return r<3?Ns.a.createElement(uC,{key:r,data:t,index:r,defaultConfig:n,class:l?"ChatRankWeek-yzmonthTop3Item":"",__source:{fileName:oG,lineNumber:99},__self:e}):Ns.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem "+(l?"RankAllMain-monthItem":""),__source:{fileName:oG,lineNumber:106},__self:e},Ns.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:oG,lineNumber:108},__self:e},r+1),+t.nobleLevel>0?Ns.a.createElement(tC.a,{level:t.nobleLevel,__source:{fileName:oG,lineNumber:110},__self:e}):"",t.isShowMedal?Ns.a.createElement(HN.a,{userLevel:+t.userLevel,__source:{fileName:oG,lineNumber:113},__self:e}):"",Ns.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":"")+" "+(l?"ChatRankWeek-yzmonthNickname":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,aG({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:oG,lineNumber:115},__self:e},t.isShowInvisible?Ns.a.createElement("span",{className:"r-nickname",__source:{fileName:oG,lineNumber:128},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),Ns.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:oG,lineNumber:132},__self:e}),n.isFaceScore?Ns.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:oG,lineNumber:137},__self:e},t.fgold,"\u8d21\u732e"):"")}):Ns.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:oG,lineNumber:142},__self:this})))))):""},RankAllMain}(Ns.a.Component),tG=ChatRankAll_applyDecoratedDescriptor(eG.prototype,"global",[Qx],{enumerable:!0,initializer:null}),rG=ChatRankAll_applyDecoratedDescriptor(eG.prototype,"chatRankAllServices",[Yx],{enumerable:!0,initializer:null}),iG=ChatRankAll_applyDecoratedDescriptor(eG.prototype,"userCardModuleService",[Xx],{enumerable:!0,initializer:null}),Zx=eG))||Zx);sG.propTypes={};var cG,uG,pG,fG,mG,dG,bG,hG=Object(yh.connect)(function mapStateToProps(e){return{isRankAllShow:e.chatRankAllData.isRankAllShow,rankAllList:e.chatRankAllData.rankAllData,rankMonthData:e.chatRankAllData.rankMonthData,isCloseMonthRank:e.chatRank.isCloseMonthRank,defaultConfig:e.chatRankAllData.defaultConfig}})(sG),vG=r("37822"),gG=r.n(vG),yG=(r("fb5ef"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),_G="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAllList/FansRankAllList.js";function FansRankAllList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankAllList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAllList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankAllList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var SG,NG,CG,wG=n.a.Service,OG=(cG=wG(b.DataCenter.global),uG=wG(b.DataCenter.common),pG=wG(ws.a),fG=function(e){function FansRankAllList(){!function FansRankAllList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAllList);var t=function FansRankAllList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankAllList_initDefineProp(t,"global",mG,t),FansRankAllList_initDefineProp(t,"common",dG,t),FansRankAllList_initDefineProp(t,"userCardModuleService",bG,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankAllList_inherits(FansRankAllList,e),FansRankAllList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankAllList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":gG.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=gG.a),n})},FansRankAllList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankAllList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankAllList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankAllList);return a.length>0?Ns.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:_G,lineNumber:131},__self:this},a.map(function(a,o){var l=yG({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=yG({},a),f=p.isVisibility,m=p.isOwn;return!f||f&&(m||i||n)?Ns.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:_G,lineNumber:141},__self:e},Ns.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:_G,lineNumber:143},__self:e},o+1),o<3?Ns.a.createElement(Dw.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:gG.a,__source:{fileName:_G,lineNumber:147},__self:e}):"",Ns.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,yG({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:_G,lineNumber:152},__self:e},f?s+"\uff08\u5df2\u9690\u8eab\uff09":s),Ns.a.createElement(AO.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:_G,lineNumber:163},__self:e})):Ns.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:_G,lineNumber:170},__self:e},Ns.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:_G,lineNumber:172},__self:e},o+1),o<3?Ns.a.createElement(Dw.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:gG.a,__source:{fileName:_G,lineNumber:176},__self:e}):"",Ns.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,yG({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:_G,lineNumber:182},__self:e},s))})):Ns.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:_G,lineNumber:201},__self:this},Ns.a.createElement("div",{className:"FansRankAllList-noresulet",__source:{fileName:_G,lineNumber:202},__self:this}))},FansRankAllList}(Ns.a.Component),mG=FansRankAllList_applyDecoratedDescriptor(fG.prototype,"global",[cG],{enumerable:!0,initializer:null}),dG=FansRankAllList_applyDecoratedDescriptor(fG.prototype,"common",[uG],{enumerable:!0,initializer:null}),bG=FansRankAllList_applyDecoratedDescriptor(fG.prototype,"userCardModuleService",[pG],{enumerable:!0,initializer:null}),fG),EG=Object(yh.connect)(function mapStateProps(e){return{fansRankAllList:e.getFansRank.fansRankAllList,roomFansMedal:e.getFansRank.roomFansMedal}})(OG),DG=(r("15857"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansUserInfo/FansUserInfo.js");function FansUserInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansUserInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansUserInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var PG,jG,kG,RG=(SG=(0,n.a.Service)(b.DataCenter.global),NG=function(e){function FansUserInfo(){var t,r;!function FansUserInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansUserInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansUserInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansUserInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"global",CG,r),FansUserInfo_possibleConstructorReturn(r,t)}return FansUserInfo_inherits(FansUserInfo,e),FansUserInfo.prototype.render=function render(){var e=this.global.get("$ROOM.room_id"),t=this.props||{},r=t.ownerFansRank,i=void 0===r?"--":r,n=t.ownerMedalLevel,a=t.roomFansMedal;return i&&n&&a?Ns.a.createElement("div",{className:"FansUserInfo",__source:{fileName:DG,lineNumber:26},__self:this},Ns.a.createElement("div",{className:"FansUserInfo-txt",__source:{fileName:DG,lineNumber:27},__self:this},"\u6211\u7684\u6392\u540d\uff1a",Ns.a.createElement("div",{className:"FansUserInfo-rank",__source:{fileName:DG,lineNumber:29},__self:this},i>500?"500+":i)),Ns.a.createElement(AO.a,{type:"normal",name:a,medalId:e,lev:+n,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:DG,lineNumber:31},__self:this})):null},FansUserInfo}(Ns.a.Component),CG=function FansUserInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(NG.prototype,"global",[SG],{enumerable:!0,initializer:null}),NG),TG=Object(yh.connect)(function mapStateProps(e){return{ownerFansRank:e.getFansRank.ownerFansRank,ownerMedalLevel:e.getFansRank.ownerMedalLevel,roomFansMedal:e.getFansRank.roomFansMedal}})(RG),BG=(r("e8a9e"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAll.js");function FansRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var MG,zG,LG,FG,AG,IG,xG=(PG=(0,n.a.Service)(EO),jG=function(e){function FansRankAll(){!function FansRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAll);var t=function FansRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function FansRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"fansRankService",kG,t),t.hideFansRankAll=t.hideFansRankAll.bind(t),t}return FansRankAll_inherits(FansRankAll,e),FansRankAll.prototype.hideFansRankAll=function hideFansRankAll(){this.fansRankService.toggleFansRankAll(!1)},FansRankAll.prototype.render=function render(){return this.props.isShowFansRankAll?Ns.a.createElement("div",{className:"FansRankAll "+(this.props.isShowFansRankAll?"is-show":""),__source:{fileName:BG,lineNumber:31},__self:this},Ns.a.createElement("div",{className:"FansRankAll-wrap",__source:{fileName:BG,lineNumber:32},__self:this},Ns.a.createElement("div",{className:"FansRankAll-header",__source:{fileName:BG,lineNumber:33},__self:this},Ns.a.createElement("div",{className:"FansRankAll-close",onClick:this.hideFansRankAll,__source:{fileName:BG,lineNumber:34},__self:this})),Ns.a.createElement(EG,{__source:{fileName:BG,lineNumber:36},__self:this}),Ns.a.createElement(TG,{__source:{fileName:BG,lineNumber:37},__self:this}))):""},FansRankAll}(Ns.a.Component),kG=function FansRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(jG.prototype,"fansRankService",[PG],{enumerable:!0,initializer:null}),jG),GG=Object(yh.connect)(function mapStateProps(e){return{isShowFansRankAll:e.getFansRank.isShowFansRankAll}})(xG),UG=(r("ae788"),"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleReminder/NobleReminder.js");function NobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var HG,WG,VG,$G,KG,JG=n.a.Service,qG=(MG=JG(eC),zG=JG(Ds.a),Object(ee.log)((FG=function(e){function NobleReminder(){var t,r;!function NobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleReminder_initDefineProp(r,"nobleReminderService",AG,r),NobleReminder_initDefineProp(r,"nobleBuyModalServices",IG,r),NobleReminder_possibleConstructorReturn(r,t)}return NobleReminder_inherits(NobleReminder,e),NobleReminder.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder()},NobleReminder.prototype.closeNobleReminder=function closeNobleReminder(){this.nobleReminderService.closeNobleReminder()},NobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleReminder()},NobleReminder.prototype.componentDidMount=function componentDidMount(){this.nobleReminderService.init()},NobleReminder.prototype.render=function render(){var e=this,t=this.props.openNobleReminder,r=this.props.nobleReminderType,i=t?Ns.a.createElement("div",{className:"NobleReminder NobleReminder--mistery",__source:{fileName:UG,lineNumber:46},__self:this},Ns.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:UG,lineNumber:47},__self:this},Ns.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:UG,lineNumber:48},__self:this},"\xd7"),Ns.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:UG,lineNumber:49},__self:this},Ns.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:UG,lineNumber:50},__self:this},"\u6211\u662f\u795e\u79d8\u4eba\uff0c\u731c\u731c\u6211\u662f\u8c01\uff1f"),Ns.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:UG,lineNumber:51},__self:this},"\u8d21\u732e\u699c\u9690\u8eab\u2014\u56fd\u738b\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),Ns.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:UG,lineNumber:52},__self:this},"\u5f00\u901a\u8d35\u65cf")))):"",n=t?Ph.a.createPortal(Ns.a.createElement("div",{className:"NobleReminder NobleReminder--pk",__source:{fileName:UG,lineNumber:60},__self:this},Ns.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:UG,lineNumber:61},__self:this},Ns.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:UG,lineNumber:62},__self:this}),Ns.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:UG,lineNumber:63},__self:this},Ns.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:UG,lineNumber:64},__self:this},"\u53d1\u5f39\u5e55\u5f88\u7d2f\uff1f\u8fde\u9ea6\u4e92\u52a8\u4e00\u4e0b"),Ns.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:UG,lineNumber:65},__self:this},"\u8fde\u9ea6\u2014\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),Ns.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:UG,lineNumber:66},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.body):"",a=t?Ph.a.createPortal(Ns.a.createElement("div",{className:"NobleReminder NobleReminder--gift",__source:{fileName:UG,lineNumber:74},__self:this},Ns.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:UG,lineNumber:75},__self:this},Ns.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:UG,lineNumber:76},__self:this},"\xd7"),Ns.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:UG,lineNumber:77},__self:this},Ns.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:UG,lineNumber:78},__self:this},"\u60a8\u8fd8\u4e0d\u662f\u8d35\u65cf\u7528\u6237"),Ns.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:UG,lineNumber:79},__self:this},"\u8d35\u65cf\u793c\u7269-\u4f60\u7684\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),Ns.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:UG,lineNumber:80},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.getElementById("js-player-toolbar")):"",o=t?Ph.a.createPortal(Ns.a.createElement("div",{__source:{fileName:UG,lineNumber:88},__self:this},Ns.a.createElement("div",{className:"NobleReminder-mask",__source:{fileName:UG,lineNumber:89},__self:this}),Ns.a.createElement("div",{className:"NobleReminder NobleReminder--boardcast",__source:{fileName:UG,lineNumber:90},__self:this},Ns.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:UG,lineNumber:91},__self:this},Ns.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:UG,lineNumber:92},__self:this},"\xd7"),Ns.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:UG,lineNumber:93},__self:this},Ns.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:UG,lineNumber:94},__self:this},"\u627f\u5305\u6574\u4e2a\u533a\uff0c\u5927\u58f0\u8bf4\u51fa\u7231"),Ns.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:UG,lineNumber:95},__self:this},"\u5206\u533a\u5587\u53ed--\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),Ns.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:UG,lineNumber:96},__self:this},"\u5f00\u901a\u8d35\u65cf"))))),document.body):"";switch(+r){case 0:return i;case 1:return n;case 2:return a;case 3:return o;default:return null}},NobleReminder}(Ns.a.Component),AG=NobleReminder_applyDecoratedDescriptor(FG.prototype,"nobleReminderService",[MG],{enumerable:!0,initializer:null}),IG=NobleReminder_applyDecoratedDescriptor(FG.prototype,"nobleBuyModalServices",[zG],{enumerable:!0,initializer:null}),LG=FG))||LG),QG=Object(yh.connect)(function mapStateToProps(e){return{openNobleReminder:e.openNobleReminder,nobleReminderType:e.updateNobleReminderType.nobleReminderType}})(qG),YG="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureGee.js";function TreasureGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TreasureGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TreasureGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var XG=n.a.Service,ZG=n.a.StoreFactory,eU=(HG=(0,n.a.Store)(ZG),WG=XG(Zi.a),VG=function(e){function TreasureGee(){!function TreasureGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureGee);var t=function TreasureGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TreasureGee_initDefineProp(t,"store",$G,t),TreasureGee_initDefineProp(t,"treasureService",KG,t),t.state={hideGee:!1},t.timerRunning=!0,t.timer=null,t.geeFn=null,t}return TreasureGee_inherits(TreasureGee,e),TreasureGee.prototype.toggleGeeTips=function toggleGeeTips(){this.setState({hideGee:!0}),this.changePanelsStatus(0)},TreasureGee.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){(e.treasureDrawResult||{}).isShowGee&&this.setState({hideGee:!1})},TreasureGee.prototype.componentDidUpdate=function componentDidUpdate(){var e=this,t=(this.props.treasureDrawResult||{}).data||{},r=t.geetest||{};Object.keys(t).length?(1===t.validate||-2===parseInt(t.code,10))&&0===parseInt(r.code,10)?(this.geeFn?"function"===typeof this.geeFn.refresh&&this.geeFn.refresh():this.geeFn=Object(gc.a)({geeInitParams:{isNeedCheck:!1,data:JSON.parse(r.validate_str)},geeOptions:{id:"TreasureGee-captcha",area:".treasure-captcha-gt"},success:function success(t){e.treasureService.drawTreasure(t,"check")},error:function error(){e.treasureService.showDrawTips(t),e.treasureService.cancelTreasure()}}),this.changePanelsStatus(1)):(this.treasureService.showDrawTips(t),this.treasureService.cancelTreasure(),this.setState({hideGee:!1})):this.geeFn&&this.geeFn.destroy&&(this.geeFn.destroy(),this.geeFn=null)},TreasureGee.prototype.changePanelsStatus=function changePanelsStatus(e){this.treasureService.changePanelsStatus(e)},TreasureGee.prototype.render=function render(){var e=(this.props.treasureDrawResult||{}).data||{},t=!0;return Object.keys(e).length&&!this.state.hideGee||(t=!1),Ns.a.createElement("div",{className:"TreasureGee "+(t?"":"is-hide"),__source:{fileName:YG,lineNumber:116},__self:this},Ns.a.createElement("span",{className:"TreasureGee-switch",onClick:this.toggleGeeTips.bind(this),__source:{fileName:YG,lineNumber:117},__self:this},"\xd7"),Ns.a.createElement("span",{className:"TreasureGee-icon",__source:{fileName:YG,lineNumber:118},__self:this}),Ns.a.createElement("p",{className:"TreasureGeeTitle",__source:{fileName:YG,lineNumber:119},__self:this},Ns.a.createElement("span",{className:"TreasureGeeTitle-cff6700",__source:{fileName:YG,lineNumber:120},__self:this},"\u9a8c\u8bc1\u901a\u8fc7"),"\u540e\u53ef\u4ee5\u83b7\u5f97\u5b9d\u7bb1\u793c\u7269"),Ns.a.createElement("div",{className:"TreasureGee-area",id:"TreasureGee-captcha",__source:{fileName:YG,lineNumber:122},__self:this},Ns.a.createElement("div",{className:"treasure-captcha-gt",__source:{fileName:YG,lineNumber:123},__self:this})),Ns.a.createElement("span",{className:"TreasureGee-arrow1",__source:{fileName:YG,lineNumber:125},__self:this}),Ns.a.createElement("span",{className:"TreasureGee-arrow2",__source:{fileName:YG,lineNumber:126},__self:this}))},TreasureGee}(Ns.a.Component),$G=TreasureGee_applyDecoratedDescriptor(VG.prototype,"store",[HG],{enumerable:!0,initializer:null}),KG=TreasureGee_applyDecoratedDescriptor(VG.prototype,"treasureService",[WG],{enumerable:!0,initializer:null}),VG);eU.propTypes={treasureDrawResult:gh.a.any};var tU=Object(yh.connect)(function mapStateToProps(e){return{treasureDrawResult:e.treasureDrawResult}})(eU),rU="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureInfo.js";function TreasureInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var iU,nU,aU,oU=function(e){function TreasureInfo(){!function TreasureInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureInfo);var t=function TreasureInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isShow:0},t.timerRunning=!0,t.timer=null,t}return TreasureInfo_inherits(TreasureInfo,e),TreasureInfo.prototype.render=function render(){var e=this,t=this.props.resource,r=t.source,i=t.isShowTips,n=t.isFinish;return r.length&&r[0]?Ns.a.createElement("div",{className:"TreasureTips "+(i?"is-show":""),__source:{fileName:rU,lineNumber:25},__self:this},Ns.a.createElement("img",{className:"TreasureTips-avatar",src:r[0].senderAvatar,__source:{fileName:rU,lineNumber:26},__self:this}),Ns.a.createElement("div",{className:"TreasureInfo",__source:{fileName:rU,lineNumber:27},__self:this},Ns.a.createElement("p",{className:"TreasureInfo-name",__source:{fileName:rU,lineNumber:28},__self:this},r[0].senderName),n?r[0].finishDesc.map(function(t,r){return Ns.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:rU,lineNumber:34},__self:e},t)}):r[0].readyDesc.map(function(t,r){return Ns.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:rU,lineNumber:41},__self:e},t)})),Ns.a.createElement("i",{className:"TreasureTips-arrow",__source:{fileName:rU,lineNumber:46},__self:this})):null},TreasureInfo}(Ns.a.Component),lU="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureDetail.js";function TreasureDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sU,cU,uU,pU=(iU=(0,n.a.Service)(Zi.a),nU=function(e){function TreasureDetail(){!function TreasureDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureDetail);var t=function TreasureDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureDetail_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",aU,t),t.state={curPosition:650,loadingWidth:0,statusText:"loading...",isShowTips:!1,isFinish:!1,isBindPanelsShow:!1,isLoading:!0},t.resetAllConfig(),t}return TreasureDetail_inherits(TreasureDetail,e),TreasureDetail.prototype.resetAllConfig=function resetAllConfig(){this.config={startWidth:0,endWidth:1,startPosition:0,endPosition:484,isPollTimerRun:!1,isCanDraw:!1,countDownTimer:null,isLoading:!1,isGeeShow:!1,isExecuteNobind:!1,isMouseDown:0,isMouseUp:0,isAutoHidetips:0}},TreasureDetail.prototype.resetLoadingStatus=function resetLoadingStatus(){var e=this.config;this.setState({loadingWidth:0,statusText:"loading...",isFinish:!1,isLoading:!0}),Object.assign(this.config,{isCanDraw:!1}),clearTimeout(e.countDownTimer)},TreasureDetail.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,r=this.config,i=e.treasureData||{},n=i.isDestory||!1;i.isBanUser&&1===i.isBanUser&&this.props.treasureData.data&&this.props.treasureData.data.length&&this.treasureService.showDrawFailTips(),i.bindStatus&&!r.isExecuteNobind&&(r.isExecuteNobind=!0,this.setState({isBindPanelsShow:!0}),r.isAutoHidetips=setTimeout(function(){t.hideNobindPanels()},1e4)),r.isPollTimerRun&&n&&this.checkLoadingView()},TreasureDetail.prototype.runMapData=function runMapData(){var e=(this.props.treasureData||{}).type,t=this.config;this.setState({isShowTips:!1}),"Establish"===e?(this.setState({curPosition:t.startPosition}),this.dropDownView()):"Entrance"===e&&(this.setState({curPosition:t.endPosition}),this.checkLoadingView())},TreasureDetail.prototype.dropDownView=function dropDownView(){var e=this,t=null,r=this.config;t=setTimeout(function(){var i=r.startPosition;clearTimeout(t),(i=e.state.curPosition+60)>=r.endPosition&&(i=r.endPosition),e.setState({curPosition:i}),i<r.endPosition?e.dropDownView():e.checkLoadingView()},40)},TreasureDetail.prototype.checkLoadingView=function checkLoadingView(){var e=(this.props.treasureData.data||[])[0]||{};this.resetLoadingStatus(),Object.keys(e).length?this.loadingView():this.rejectUselessData()},TreasureDetail.prototype.loadingView=function loadingView(){var e=this,t=null,r=((this.props.treasureData.data||[])[0]||{}).delayTime||3,i=this.config;i.isLoading=!0,t=setTimeout(function(){var n=i.startWidth;clearTimeout(t),(n=e.state.loadingWidth+.1/r)>1&&(n=1),n<i.endWidth?(e.setState({loadingWidth:n,isLoading:!0}),e.loadingView()):(e.setState({loadingWidth:n}),i.isLoading=!1,e.countDownView())},40)},TreasureDetail.prototype.countDownView=function countDownView(){var e=this,t=this.props.treasureData.data||[],r=this.config;r.countDownTimer=null,r.countDownTimer=setTimeout(function(){clearTimeout(r.countDownTimer);var i=t[0]||{},n=parseInt((new Date).getTime()/1e3,10),a=parseInt(i.surplusTime-n,10),o=parseInt(i.destroyTime-n,10);return!r.isLoading&&(o>0?(a>0?(e.setState({statusText:bo.a.formatSecond(a,"m:s"),isFinish:!1,isLoading:!1}),r.isCanDraw=!1):(e.setState({statusText:"\u9886\u53d6",isFinish:!0,isLoading:!1}),r.isCanDraw=!0),e.countDownView()):e.rejectUselessData(),!0)},1e3)},TreasureDetail.prototype.rejectUselessData=function rejectUselessData(){var e=this.props.treasureData.data||[],t=this.config;e&&e.length?this.treasureService.cancelTreasure():(this.setState({curPosition:t.startPosition}),this.resetAllConfig())},TreasureDetail.prototype.drawTreaure=function drawTreaure(){var e=this,t=this.config.isCanDraw,r=this.config,i=(this.props.treasureData.data||[])[0];r.isMouseDown = 1;r.isMouseUp = 1;return this.props.treasureData.bindStatus||0?(this.setState({isBindPanelsShow:!0}),r.isAutoHidetips=setTimeout(function(){e.hideNobindPanels()},1e4),!1):!(!r.isMouseDown||!r.isMouseUp)&&(r.isMouseDown=0,r.isMouseUp=0,t&&i&&this.treasureService.drawTreasure(i,"init"),!0)},TreasureDetail.prototype.toggleUserInfo=function toggleUserInfo(e){var t=this.props.treasureData.bindStatus||0,r=this.props.treasureData.isGeePanelsShow||0,i=e;t&&(i=!1),r&&(i=!1),this.setState({isShowTips:i})},TreasureDetail.prototype.hideNobindPanels=function hideNobindPanels(){this.setState({isBindPanelsShow:!1}),clearTimeout(this.config.isAutoHidetips)},TreasureDetail.prototype.render=function render(){var e=this,t=this.state,r=this.props.treasureData.data||[],i=this.config,n=this.props.treasureData.bindStatus||0;return r.length?(i.isPollTimerRun||setTimeout(function(){i.isPollTimerRun=!0,e.runMapData()},20),Ns.a.createElement("div",{className:"TreasureDetail",onMouseEnter:function onMouseEnter(){return e.toggleUserInfo(1)},onMouseLeave:function onMouseLeave(){return e.toggleUserInfo(0)},onMouseDown:function onMouseDown(){return e.config.isMouseDown=1},onMouseUp:function onMouseUp(){return e.config.isMouseUp=1},style:{top:this.state.curPosition+"px"},__source:{fileName:lU,lineNumber:325},__self:this},Ns.a.createElement(oU,{resource:{source:r,isShowTips:t.isShowTips,isFinish:t.isFinish},__source:{fileName:lU,lineNumber:334},__self:this}),Ns.a.createElement("div",{className:"BindPanels "+(t.isBindPanelsShow?"is-show":""),__source:{fileName:lU,lineNumber:339},__self:this},Ns.a.createElement("span",{className:"BindPanels-close BindPanels-colf76300",onClick:function onClick(){return e.hideNobindPanels()},__source:{fileName:lU,lineNumber:340},__self:this}),Ns.a.createElement("div",{className:"BindPanels-desc",__source:{fileName:lU,lineNumber:341},__self:this},"\u7ed1\u5b9a",Ns.a.createElement("span",{className:"BindPanels-colf76300",__source:{fileName:lU,lineNumber:342},__self:this},"\u624b\u673a"),"\u540e\uff0c\u624d\u53ef\u4ee5\u9886\u53d6\u5b9d\u7bb1\u91cc\u7684\u9c7c\u4e38\u54e6\uff01"),Ns.a.createElement("div",{className:"BindPanels-link",__source:{fileName:lU,lineNumber:344},__self:this},Ns.a.createElement("a",{href:"/member/cp/cpBindPhone",className:"BindPanels-colf76300",__source:{fileName:lU,lineNumber:344},__self:this},"\u7acb\u5373\u7ed1\u5b9a"))),Ns.a.createElement("div",{className:"Treasure "+(t.isFinish?"is-finish":"is-ready")+" "+(t.isLoading?"is-loading":""),style:{backgroundImage:"url("+(t.isFinish?r[0].treasureOpenBg:r[0].treasureCloseBg)+")"},onClick:this.drawTreaure.bind(this),__source:{fileName:lU,lineNumber:346},__self:this},r.length>1?Ns.a.createElement("div",{className:"TreasureNum",__source:{fileName:lU,lineNumber:354},__self:this},Ns.a.createElement("i",{className:"TreasureNum-rate",__source:{fileName:lU,lineNumber:355},__self:this},"x"),Ns.a.createElement("span",{className:"TreasureNum-val",__source:{fileName:lU,lineNumber:356},__self:this},r.length),Ns.a.createElement("i",{className:"TreasureNum-arrow",__source:{fileName:lU,lineNumber:357},__self:this})):"",Ns.a.createElement("div",{className:"TreasureStatus "+(t.isFinish?"is-open":"")+" "+(n?"is-noBind":"")+" "+(t.isLoading?"is-loading":""),__source:{fileName:lU,lineNumber:362},__self:this},Ns.a.createElement("div",{className:"TreasureStatus-bg "+(t.isFinish?"is-open":""),style:{width:100*this.state.loadingWidth+"%"},__source:{fileName:lU,lineNumber:363},__self:this}),Ns.a.createElement("div",{className:"TreasureStatus-text "+(t.isLoading?"is-loading":""),__source:{fileName:lU,lineNumber:366},__self:this},this.state.statusText))))):null},TreasureDetail}(Ns.a.Component),aU=function TreasureDetail_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(nU.prototype,"treasureService",[iU],{enumerable:!0,initializer:null}),nU),fU=Object(yh.connect)(function mapStateToProps(e){return{treasureData:e.treasureData}})(pU),mU=(r("b020d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureIdent.js");function TreasureIdent_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function TreasureIdent_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureIdent_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dU=(sU=(0,n.a.Service)(Zi.a),cU=function(e){function TreasureIdent(){var t,r;!function TreasureIdent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureIdent);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=TreasureIdent_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function TreasureIdent_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"treasureService",uU,r),r.handleCancel=function(){r.treasureService.hideTreasureIdent()},r.handleGo=function(){location.href="/member/cp/changeIdent"},TreasureIdent_possibleConstructorReturn(r,t)}return TreasureIdent_inherits(TreasureIdent,e),TreasureIdent.prototype.render=function render(){var e=this.props.showIdent;return Ns.a.createElement(Ns.a.Fragment,{__source:{fileName:mU,lineNumber:27},__self:this},Ns.a.createElement(hS.a,{visible:e,center:!0,title:"\u63d0\u793a",width:336,footer:null,onCancel:this.handleCancel,__source:{fileName:mU,lineNumber:28},__self:this},Ns.a.createElement("div",{className:"TreasureIdent-dlg",__source:{fileName:mU,lineNumber:36},__self:this},Ns.a.createElement("p",{__source:{fileName:mU,lineNumber:37},__self:this},"\u60a8\u9700\u8981\u5148\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\u624d\u80fd\u9886\u53d6\u5b9d\u7bb1\uff1f")),Ns.a.createElement("div",{className:"TreasureIdent-oper",__source:{fileName:mU,lineNumber:39},__self:this},Ns.a.createElement("div",{className:"TreasureIdent-btn",onClick:this.handleGo,__source:{fileName:mU,lineNumber:40},__self:this},"\u524d\u5f80"),Ns.a.createElement("div",{className:"TreasureIdent-btn",onClick:this.handleCancel,__source:{fileName:mU,lineNumber:41},__self:this},"\u53d6\u6d88"))))},TreasureIdent}(Ns.a.Component),uU=function TreasureIdent_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(cU.prototype,"treasureService",[sU],{enumerable:!0,initializer:null}),cU);dU.propTypes={showIdent:gh.a.bool};var bU,hU,vU,gU=Object(yh.connect)(function mapStateToProps(e){return{showIdent:e.treasureIdent.showIdent}})(dU),yU="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/Treasure.js";function Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var _U,SU=(bU=(0,n.a.Service)(Zi.a),hU=function(e){function Treasure(){!function Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Treasure);var t=function Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Treasure_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",vU,t),t.state={isGeePanelsShow:!1},t}return Treasure_inherits(Treasure,e),Treasure.prototype.componentDidMount=function componentDidMount(){this.treasureService.initSocket()},Treasure.prototype.render=function render(){return Ns.a.createElement("div",{className:"TreasureWrap",__source:{fileName:yU,lineNumber:26},__self:this},Ns.a.createElement(tU,{__source:{fileName:yU,lineNumber:27},__self:this}),Ns.a.createElement(fU,{__source:{fileName:yU,lineNumber:28},__self:this}),Ns.a.createElement(gU,{__source:{fileName:yU,lineNumber:29},__self:this}))},Treasure}(Ns.a.Component),vU=function Treasure_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(hU.prototype,"treasureService",[bU],{enumerable:!0,initializer:null}),hU);r("c11be");function components_Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function components_Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var NU,CU,wU,OU=Object(d.ErrorHandler)()(_U=function(e){function Index(){return function components_Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index),function components_Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return components_Treasure_inherits(Index,e),Index.prototype.render=function render(){return Ns.a.createElement(SU,{__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/index.js",lineNumber:10},__self:this})},Index}(Ns.a.Component))||_U,EU="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureLuckyTips.js";function TreasureLuckyTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureLuckyTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DU=(NU=(0,n.a.Service)(Zi.a),CU=function(e){function TreasureLuckyTips(){!function TreasureLuckyTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureLuckyTips);var t=function TreasureLuckyTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureLuckyTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",wU,t),t.timer=null,t.state={data:{}},t}return TreasureLuckyTips_inherits(TreasureLuckyTips,e),TreasureLuckyTips.prototype.reset=function reset(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.treasureService.destoryTips()},5e3)},TreasureLuckyTips.prototype.render=function render(){var e=this.props.treasureLuckyTips;return Object.keys(e).length?(this.reset(),Ns.a.createElement("div",{className:"TreasureLuckyTips",__source:{fileName:EU,lineNumber:37},__self:this},e.isBestLucky?Ns.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:EU,lineNumber:40},__self:this},Ns.a.createElement("div",{className:"TreasureLuckyDesc-bestIcon",__source:{fileName:EU,lineNumber:41},__self:this}),"\u606d\u559c",Ns.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:EU,lineNumber:42},__self:this},e.drawName),"\u9886\u53d6\u4e86",Ns.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:EU,lineNumber:43},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\u83b7\u5f97",Ns.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:EU,lineNumber:44},__self:this},e.goldNum,"\u9c7c\u4e38"),"\uff0c\u6210\u4e3a\u672c\u573a\u624b\u6c14\u738b\uff01"):Ns.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:EU,lineNumber:47},__self:this},"\u606d\u559c",Ns.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:EU,lineNumber:48},__self:this},e.drawName),"\u9886\u53d6\u4e86",Ns.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:EU,lineNumber:49},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\u89e6\u53d1",Ns.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:EU,lineNumber:50},__self:this},"\u66b4\u51fb",e.luckRate>1?"X"+e.luckRate:""),"\u83b7\u5f97",Ns.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:EU,lineNumber:55},__self:this},e.goldNum,"\u9c7c\u4e38")))):null},TreasureLuckyTips}(Ns.a.Component),wU=function TreasureLuckyTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(CU.prototype,"treasureService",[NU],{enumerable:!0,initializer:null}),CU);DU.propTypes={treasureLuckyTips:gh.a.any};var PU,jU,kU,RU,TU=Object(yh.connect)(function mapStateToProps(e){return{treasureLuckyTips:e.treasureLuckyTips}})(DU),BU=(r("8d4fd"),"/shark/live/src/pages/roomPage/playerAsideModule/components/AnchorAnnounce/AnchorAnnounce.js");function AnchorAnnounce_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function AnchorAnnounce_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function AnchorAnnounce_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var MU,zU,LU,FU=(PU=(0,n.a.Service)(b.DataCenter.common),Object(ee.log)((kU=function(e){function AnchorAnnounce(){var t,r;!function AnchorAnnounce_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnchorAnnounce);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=AnchorAnnounce_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function AnchorAnnounce_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"common",RU,r),r.state={room:{}},AnchorAnnounce_possibleConstructorReturn(r,t)}return AnchorAnnounce_inherits(AnchorAnnounce,e),AnchorAnnounce.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.room,i=void 0===r?{}:r;e.setState({room:i})})},AnchorAnnounce.prototype.render=function render(){var e=this.state.room.show_details,t=void 0===e?"":e;return Ns.a.createElement("div",{className:"layout-Player-announce",__source:{fileName:BU,lineNumber:32},__self:this},Ns.a.createElement("div",{className:"AnchorAnnounce",__source:{fileName:BU,lineNumber:33},__self:this},Ns.a.createElement("h3",{dangerouslySetInnerHTML:{__html:t||"\u4e3b\u64ad\u5f88\u61d2\uff0c\u4ec0\u4e48\u4e5f\u6ca1\u6709\u7559\u4e0b......"},__source:{fileName:BU,lineNumber:34},__self:this})))},AnchorAnnounce}(Ns.a.Component),RU=function AnchorAnnounce_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(kU.prototype,"common",[PU],{enumerable:!0,initializer:null}),jU=kU))||jU),AU="/shark/live/src/pages/roomPage/playerAsideModule/components/PlayerAside/PlayerAside.js";function PlayerAside_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function PlayerAside_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function PlayerAside_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var IU=n.a.Region,xU=(MU=(0,n.a.Service)(zc.a),zU=function(e){function PlayerAside(){var t,r;!function PlayerAside_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayerAside);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=PlayerAside_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function PlayerAside_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"userRoleService",LU,r),PlayerAside_possibleConstructorReturn(r,t)}return PlayerAside_inherits(PlayerAside,e),PlayerAside.prototype.componentWillMount=function componentWillMount(){this.userRoleService.init()},PlayerAside.prototype.render=function render(){return Ns.a.createElement("div",{__source:{fileName:AU,lineNumber:36},__self:this},Ns.a.createElement("div",{className:"layout-Player-asideMainTop",__source:{fileName:AU,lineNumber:37},__self:this},Ns.a.createElement(FU,{__source:{fileName:AU,lineNumber:38},__self:this}),Ns.a.createElement(QG,{__source:{fileName:AU,lineNumber:39},__self:this}),Ns.a.createElement("div",{className:"layout-Player-rankAll",__source:{fileName:AU,lineNumber:40},__self:this},Ns.a.createElement(hG,{__source:{fileName:AU,lineNumber:41},__self:this}),Ns.a.createElement(GG,{__source:{fileName:AU,lineNumber:42},__self:this})),Ns.a.createElement("div",{className:"layout-Player-rank",__source:{fileName:AU,lineNumber:44},__self:this},Ns.a.createElement(jE,{__source:{fileName:AU,lineNumber:45},__self:this})),Ns.a.createElement("div",{className:"layout-Player-barrage",id:"js-player-barrage",__source:{fileName:AU,lineNumber:47},__self:this},Ns.a.createElement(UN,{__source:{fileName:AU,lineNumber:48},__self:this})),Ns.a.createElement("div",{className:"layout-Player-effect",__source:{fileName:AU,lineNumber:50},__self:this},Ns.a.createElement(TU,{__source:{fileName:AU,lineNumber:51},__self:this}),Ns.a.createElement(OU,{__source:{fileName:AU,lineNumber:52},__self:this}),Ns.a.createElement(Ax,{__source:{fileName:AU,lineNumber:53},__self:this}),Ns.a.createElement(qx,{__source:{fileName:AU,lineNumber:54},__self:this}))),Ns.a.createElement("div",{className:"layout-Player-chat",__source:{fileName:AU,lineNumber:57},__self:this},Ns.a.createElement(mA,{__source:{fileName:AU,lineNumber:58},__self:this})),Ns.a.createElement("div",{className:"layout-Player-userCard",__source:{fileName:AU,lineNumber:60},__self:this},Ns.a.createElement(IU,{name:"userCard",belongTo:"PlayerAsideApp",__source:{fileName:AU,lineNumber:61},__self:this})))},PlayerAside}(Ns.a.Component),LU=function PlayerAside_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(zU.prototype,"userRoleService",[MU],{enumerable:!0,initializer:null}),zU),GU=n.a.StoreFactory,UU=new(n.a.createApp({name:"PlayerAsideApp",providers:[{name:"component",useFactory:function useFactory(){return xU}},{name:"store",useFactory:function useFactory(){return GU.getInstance(window.__INITIAL_STATE__,_s,va)}}]}));window.PlayerAsideApp=UU,UU.push=function(e){return UU.registerApp.apply(UU,e)},n.a.render(UU,document.getElementById("js-player-asideMain"))},"1bed5":function(e,t,r){},"1dcf0":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/BLG_f1845b1.png"},"20c84":function(e,t,r){},"21b33":function(e,t,r){},"21eef":function(e,t,r){},23913:function(e,t,r){},"25ab8":function(e,t,r){},"261f2":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf4_558b296.swf"},"2af9b":function(e,t,r){},"2b4fd":function(e,t,r){},"2b9d3":function(e,t,r){},"2bcfd":function(e,t,r){},"2c04c":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/JDG_8bbfb93.png"},"2c62f":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},"2c973":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"},"2d60f":function(e,t,r){},"3431e":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},"343db":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/9_8df3991.png"},37119:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/3_356a05f.png"},37822:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},38171:function(e,t,r){},"398c4":function(e,t,r){},"3b2b1":function(e,t,r){},"3c011":function(e,t,r){},"3c1f8":function(e,t,r){},"40efb":function(e,t,r){},"414bd":function(e,t,r){},"434a1":function(e,t,r){},"43fdc":function(e,t,r){},"440e6":function(e,t,r){e.exports=r("5af57")("5f94a")},"4823c":function(e,t,r){},48769:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/RNG_07257a7.png"},"48ac7":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},"490b6":function(e,t,r){},"4a6d1":function(e,t,r){},"4b937":function(e,t,r){},"4d960":function(e,t,r){},"4dcd2":function(e,t,r){},"4fd46":function(e,t,r){},"51fe3":function(e,t,r){},"52ba2":function(e,t,r){},"52bb5":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf6_8efb6a0.swf"},"53e07":function(e,t,r){},"59aab":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/VG_e0c1296.png"},"5af57":function(e,t){e.exports=sdk1758623b23445099c17c},"5d14d":function(e,t,r){},"5e6e0":function(e,t,r){},"5f613":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/7_e6a9200.png"},6:function(e,t,r){e.exports=r("19981")},61772:function(e,t,r){},"62f85":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},"63bf6":function(e,t,r){},"6491c":function(e,t,r){},"65e4c":function(e,t,r){},"66d15":function(e,t,r){},"69b06":function(e,t,r){},"6b4e4":function(e,t,r){},"6f7e8":function(e,t,r){},70921:function(e,t,r){},"759e0":function(e,t,r){},"762d9":function(e,t,r){},"7719b":function(e,t,r){},"7735f":function(e,t,r){},"78dab":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},"7e3b1":function(e,t,r){},"7e550":function(e,t,r){},81755:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},"824fc":function(e,t,r){},"82c73":function(e,t,r){},"8394a":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/0_038666c.png"},"852bb":function(e,t,r){},87467:function(e,t,r){},"883b0":function(e,t,r){},"890af":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/SDG_5e29cd1.png"},89356:function(e,t,r){},89614:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf5_56be92d.swf"},89631:function(e,t,r){},89892:function(e,t,r){},"8b895":function(e,t,r){},"8cce4":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},"8d4fd":function(e,t,r){},"8d648":function(e,t,r){},"8e7bc":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/tab_256f1db.png"},"8f352":function(e,t,r){},"8f5d3":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"},"93c95":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/8_a859edb.png"},94812:function(e,t,r){},95008:function(e,t,r){},97319:function(e,t,r){},"99c69":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/6_aee90ed.png"},"9de30":function(e,t,r){},"9e210":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/noble-icon-default_ad8c0a1.png"},"9fe53":function(e,t,r){},a191e:function(e,t,r){},a230a:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},a55bd:function(e,t,r){},a568c:function(e,t,r){},a8489:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/5_797c2df.png"},a86b3:function(e,t,r){},a8e2a:function(e,t,r){},ab59c:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/TOP_9e494c4.png"},acaf5:function(e,t,r){},ad4b9:function(e,t,r){},ae788:function(e,t,r){},af849:function(e,t,r){},b020d:function(e,t,r){},b5317:function(e,t,r){},b5cb0:function(e,t,r){},b6a65:function(e,t,r){},b7115:function(e,t,r){},b7ad9:function(e,t,r){},b8374:function(e,t,r){},ba125:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/EDG_35ee321.png"},bb7ed:function(e,t,r){},c11be:function(e,t,r){},c15bb:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},c6d85:function(e,t,r){},cbe5a:function(e,t,r){},cf4ff:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/OMG_d793b17.png"},cfe72:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/dy-tab_a446a04.png"},d0e63:function(e,t){e.exports=vendorfb2fa32ced5174f6f0ec},d3112:function(e,t,r){},d3dfa:function(e,t,r){},d4ac7:function(e,t,r){},d5382:function(e,t,r){},d62f7:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/SS_120fbb2.png"},d845f:function(e,t,r){},da697:function(e,t,r){},db978:function(e,t,r){},decdc:function(e,t,r){},e18f1:function(e,t,r){},e26f6:function(e,t,r){},e2a4f:function(e,t,r){},e5b33:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},e60c6:function(e,t,r){},e8231:function(e,t,r){},e8a9e:function(e,t,r){},e963c:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},edb7b:function(e,t,r){},ef00f:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/FPX_f477e9b.png"},efa87:function(e,t,r){},f04d2:function(e,t,r){},f1289:function(e,t,r){},f1739:function(e,t,r){},f280b:function(e,t,r){},f6407:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/RW_b3dd474.png"},f7bd8:function(e,t,r){},f8b66:function(e,t,r){},f8b89:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/V5_f5ee296.png"},fa750:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/IG_eba000a.png"},fb5ef:function(e,t,r){},fe6e7:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},ff8ff:function(e,t,r){}},[[6,0,1]]]);
//# sourceMappingURL=http://fedci.dz11.com:4567/room/online/sourcemaps/playerAside_724a6e6.js.map