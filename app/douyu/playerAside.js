(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([[9],{"00265":function(e,t,r){},"02c94":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},"04004":function(e,t,r){},"088e8":function(e,t,r){},"0b0db":function(e,t,r){},"0b551":function(e,t,r){},"0c7af":function(e,t,r){},"0f1fe":function(e,t,r){},"0f328":function(e,t,r){},"0ff16":function(e,t,r){},"10fbf":function(e,t,r){},"12d1c":function(e,t,r){},14755:function(e,t,r){},"15f78":function(e,t,r){},"16f1e":function(e,t,r){},"17caf":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf4_558b296.swf"},"1bcca":function(e,t,r){},"1d8f0":function(e,t,r){},"22dd9":function(e,t,r){},"23ead":function(e,t,r){},"2977f":function(e,t,r){},29783:function(e,t,r){},"2ecd5":function(e,t,r){},"2f58e":function(e,t,r){},30567:function(e,t,r){},"332a2":function(e,t,r){},34649:function(e,t,r){},"38c54":function(e,t,r){e.exports=r("a0591")("38c54")},"3b420":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},"3cfd2":function(e,t,r){},"3dcc5":function(e,t,r){},"3e6fd":function(e,t,r){},"3fb05":function(e,t,r){},"3fc33":function(e,t,r){},"40a09":function(e,t,r){},"40b17":function(e,t,r){},"42c63":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},43126:function(e,t,r){},"46d97":function(e,t,r){},"4cd83":function(e,t,r){},"52d06":function(e,t,r){},"54fe2":function(e,t,r){},"5958e":function(e,t,r){},"5ac8e":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf5_56be92d.swf"},"5bb61":function(e,t,r){"use strict";var i=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=r("a6646"),a=r("dbf8a"),o=r("ab109");t.take=function take(e){return function(t){return 0===e?new o.EmptyObservable:t.lift(new l(e))}};var l=function(){function TakeOperator(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},TakeOperator}(),s=function(e){function TakeSubscriber(t,r){e.call(this,t),this.total=r,this.count=0}return i(TakeSubscriber,e),TakeSubscriber.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(n.Subscriber)},"5e1b7":function(e,t,r){},"5e1fa":function(e,t,r){},"5f63d":function(e,t,r){},"5f94a":function(e,t,r){e.exports=r("a0591")("5f94a")},6:function(e,t,r){e.exports=r("c8c37")},"6066b":function(e,t,r){},"61df2":function(e,t,r){},"64c1f":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},"65b06":function(e,t,r){},"65e8a":function(e,t,r){},"6a5cb":function(e,t,r){},"6b3a2":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"},"6c92a":function(e,t,r){},"6dc98":function(e,t,r){},"719f0":function(e,t,r){},"72b37":function(e,t,r){},"736a7":function(e,t,r){},"745b2":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},76531:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/dy-tab_a446a04.png"},77855:function(e,t,r){},"7a6d1":function(e,t,r){},"7b832":function(e,t,r){},"7cd2d":function(e,t,r){},"7e34b":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},"7e944":function(e,t,r){},"7ee03":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},"7f84e":function(e,t,r){},81833:function(e,t,r){},"84e07":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/noble-icon-default_ad8c0a1.png"},88060:function(e,t,r){},"8921f":function(e,t,r){},"8b3dc":function(e,t,r){},"8dc58":function(e,t,r){},"8e6e5":function(e,t,r){},"8f68e":function(e,t,r){},"8fa72":function(e,t,r){},"90c4f":function(e,t,r){},"90ecf":function(e,t,r){},"932af":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},97227:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},"993ee":function(e,t,r){},"9cdeb":function(e,t,r){},"9cf12":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},"9dd83":function(e,t,r){},"9e3bf":function(e,t,r){},"9f697":function(e,t,r){},"9f9d1":function(e,t,r){},"9fa56":function(e,t,r){},a0591:function(e,t){e.exports=sdk9eecb9526ff2f13a6112},a1b94:function(e,t,r){},a2371:function(e,t,r){},a4682:function(e,t,r){},a469f:function(e,t,r){},a4e02:function(e,t,r){},a8286:function(e,t,r){},ab109:function(e,t,r){e.exports=r("a0591")("ab109")},abccf:function(e,t,r){},acc11:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},adc0e:function(e,t,r){},b26a7:function(e,t,r){},b338d:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},b42a6:function(e,t,r){},b6666:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},b70a2:function(e,t,r){},bc903:function(e,t,r){},c1db1:function(e,t,r){},c357d:function(e,t,r){},c8c37:function(e,t,r){"use strict";r.r(t);r("5a4da"),r("a26e5");var i=r("f0df9"),n=r.n(i),a=r("8e846"),o=r.n(a),l=r("5371a"),s=r("c9c82"),c=r("53a00"),u=r("86f8b"),p=r("d4f18"),f=r("59ded"),d=r("4c853"),b=r("9ae18"),m=r("e55c4");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var h,v,g,y,_,N=function(e){function medalDroppingActions(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,medalDroppingActions),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(medalDroppingActions,e),medalDroppingActions.medalDroppingList=function medalDroppingList(e){return{type:"MEDAL_DROPPING_LIST",payload:e}},medalDroppingActions.closeMedalDropping=function closeMedalDropping(e){return{type:"MEDAL_DROPPING_CLOSE",payload:e}},medalDroppingActions.changeMedalDroppingRemain=function changeMedalDroppingRemain(e){return{type:"MEDAL_DROPPING_REMAIN_SWITCH",payload:e}},medalDroppingActions}(b.Action);function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalDroppingServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function medalDroppingServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function medalDroppingServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S,C,w,O,E,D,k,j,R,P,T,B,L,z,M,A,I,F,x,G,U,H,W,V,$,K,q,Q=n.a.Store,J=n.a.Service,Y=function getLocalStorage(e){return m.DataCenter.localStorage.get(e)},X=[],Z=(h=Q(),v=J(m.DataCenter.global),g=function(e){function MedalDroppingServices(){var t,r;!function medalDroppingServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=medalDroppingServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(r,"store",y,r),_initDefineProp(r,"global",_,r),medalDroppingServices_possibleConstructorReturn(r,t)}return medalDroppingServices_inherits(MedalDroppingServices,e),MedalDroppingServices.prototype.medalDroppingList=function medalDroppingList(e){var t=e.filter(function(e){return e.todayExp<0});X=Y(this.returnCacheFlag())||[],this.store.dispatch(N.medalDroppingList(function shellSort(e){for(var t=e.slice(0),r=t.length,i=void 0,n=1;n<r/3;)n=3*n+1;for(;n>0;n=Math.floor(n/3))for(var a=n;a<r;a++){i=t[a];for(var o=a-n;o>0&&t[o].allExp>i.allExp;o-=n)t[o+n]=t[o];t[o+n]=i}return t}(t))),this.cacheDroppingList(t)},MedalDroppingServices.prototype.medalDroppingClose=function medalDroppingClose(){this.store.dispatch(N.closeMedalDropping())},MedalDroppingServices.prototype.changeMedalDroppingRemain=function changeMedalDroppingRemain(){this.store.dispatch(N.changeMedalDroppingRemain())},MedalDroppingServices.prototype.returnCacheFlag=function returnCacheFlag(){return"MedalDroppingListFlag_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.cacheDroppingList=function cacheDroppingList(e){!function setLocalStorage(e,t,r){m.DataCenter.localStorage.set(e,t,r)}(this.returnCacheFlag(),e)},MedalDroppingServices.prototype.dealDroppingList=function dealDroppingList(e){var t=[],r=[];return e&&e.length&&e.forEach(function(e){X.some(function(t){return t.medalRid===e.medalRid})?r.push(e):t.push(e)}),{newDroppingMedals:t,oldDroppingMedals:r}},MedalDroppingServices.prototype.returnRemainCacheFlag=function returnRemainCacheFlag(){return"dropingDialogShow_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.getRemainSwitchState=function getRemainSwitchState(){return parseInt(Y(this.returnRemainCacheFlag()),10)||0},MedalDroppingServices}(b.Service),y=_applyDecoratedDescriptor(g.prototype,"store",[h],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(g.prototype,"global",[v],{enumerable:!0,initializer:null}),g),ee=r("b3557");function MedalListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MedalListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var te,re,ie,ne,ae,oe,le,se,ce,ue,pe,fe=m.basicTypes.string,de=m.basicTypes.mapping,be=m.basicTypes.array,me=m.basicTypes.number,he=m.basicTypes.optional,ve=(S=de({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),C=he(0),S((O=function(e){function ListItem(){var t,r;MedalListDto_classCallCheck(this,ListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"vipFan",E,r),MedalListDto_initDefineProp(r,"medalRid",D,r),MedalListDto_initDefineProp(r,"medalName",k,r),MedalListDto_initDefineProp(r,"allExp",j,r),MedalListDto_initDefineProp(r,"upLevExp",R,r),MedalListDto_initDefineProp(r,"medalLev",P,r),MedalListDto_initDefineProp(r,"todayExp",T,r),MedalListDto_initDefineProp(r,"todayAllExp",B,r),MedalListDto_initDefineProp(r,"checkCode",L,r),MedalListDto_initDefineProp(r,"medalRank",z,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(ListItem,e),ListItem}(m.EntityDto),E=MedalListDto_applyDecoratedDescriptor(O.prototype,"vipFan",[C,me],{enumerable:!0,initializer:null}),D=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalRid",[fe],{enumerable:!0,initializer:null}),k=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalName",[fe],{enumerable:!0,initializer:null}),j=MedalListDto_applyDecoratedDescriptor(O.prototype,"allExp",[me],{enumerable:!0,initializer:null}),R=MedalListDto_applyDecoratedDescriptor(O.prototype,"upLevExp",[me],{enumerable:!0,initializer:null}),P=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalLev",[me],{enumerable:!0,initializer:null}),T=MedalListDto_applyDecoratedDescriptor(O.prototype,"todayExp",[me],{enumerable:!0,initializer:null}),B=MedalListDto_applyDecoratedDescriptor(O.prototype,"todayAllExp",[me],{enumerable:!0,initializer:null}),L=MedalListDto_applyDecoratedDescriptor(O.prototype,"checkCode",[fe],{enumerable:!0,initializer:null}),z=MedalListDto_applyDecoratedDescriptor(O.prototype,"medalRank",[me],{enumerable:!0,initializer:null}),w=O))||w),ge=(M=de({wareStatus:"wf",firstCharge:"frq",medalList:"list"}),A=he(0),I=he(0),F=he(""),x=he([]),G=be(ve),Object(ee.log)(U=M((H=function(e){function Result(){var t,r;MedalListDto_classCallCheck(this,Result);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"wareStatus",W,r),MedalListDto_initDefineProp(r,"firstCharge",V,r),MedalListDto_initDefineProp(r,"wareMedalId",$,r),MedalListDto_initDefineProp(r,"ownerRoomId",K,r),MedalListDto_initDefineProp(r,"medalList",q,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(Result,e),Result}(m.EntityDto),W=MedalListDto_applyDecoratedDescriptor(H.prototype,"wareStatus",[A,me],{enumerable:!0,initializer:null}),V=MedalListDto_applyDecoratedDescriptor(H.prototype,"firstCharge",[I,me],{enumerable:!0,initializer:null}),$=MedalListDto_applyDecoratedDescriptor(H.prototype,"wareMedalId",[F,fe],{enumerable:!0,initializer:null}),K=MedalListDto_applyDecoratedDescriptor(H.prototype,"ownerRoomId",[fe],{enumerable:!0,initializer:null}),q=MedalListDto_applyDecoratedDescriptor(H.prototype,"medalList",[x,G],{enumerable:!0,initializer:null}),U=H))||U)||U);function MedalInfoDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalInfoDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfoDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfoDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalInfoDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ye,_e,Ne,Se,Ce,we,Oe,Ee,De,ke,je,Re,Pe,Te,Be,Le=m.basicTypes.string,ze=m.basicTypes.mapping,Me=m.basicTypes.number,Ae=m.basicTypes.optional,Ie=(te=ze({allExp:"fim",medalLev:"bl",upLevExp:"nfim",todayExp:"afim",todayAllExp:"mafim",updateMedalRid:"brid"}),re=Ae(""),Object(ee.log)(ie=te((ne=function(e){function MedalInfoDto(){var t,r;!function MedalInfoDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalInfoDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfoDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalInfoDto_initDefineProp(r,"type",ae,r),MedalInfoDto_initDefineProp(r,"updateMedalRid",oe,r),MedalInfoDto_initDefineProp(r,"allExp",le,r),MedalInfoDto_initDefineProp(r,"medalLev",se,r),MedalInfoDto_initDefineProp(r,"upLevExp",ce,r),MedalInfoDto_initDefineProp(r,"todayExp",ue,r),MedalInfoDto_initDefineProp(r,"todayAllExp",pe,r),MedalInfoDto_possibleConstructorReturn(r,t)}return MedalInfoDto_inherits(MedalInfoDto,e),MedalInfoDto}(m.EntityDto),ae=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"type",[Le],{enumerable:!0,initializer:null}),oe=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"updateMedalRid",[re,Le],{enumerable:!0,initializer:null}),le=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"allExp",[Me],{enumerable:!0,initializer:null}),se=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"medalLev",[Me],{enumerable:!0,initializer:null}),ce=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"upLevExp",[Me],{enumerable:!0,initializer:null}),ue=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"todayExp",[Me],{enumerable:!0,initializer:null}),pe=MedalInfoDto_applyDecoratedDescriptor(ne.prototype,"todayAllExp",[Me],{enumerable:!0,initializer:null}),ie=ne))||ie)||ie);function MedalGetDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalGetDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalGetDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalGetDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalGetDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Fe,xe,Ge,Ue,He,We,Ve=m.basicTypes.string,$e=m.basicTypes.mapping,Ke=m.basicTypes.number,qe=m.basicTypes.optional,Qe=(ye=$e({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),_e=qe(0),Ne=qe(0),Object(ee.log)(Se=ye((Ce=function(e){function MedalGetDto(){var t,r;!function MedalGetDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalGetDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalGetDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalGetDto_initDefineProp(r,"vipFan",we,r),MedalGetDto_initDefineProp(r,"medalRid",Oe,r),MedalGetDto_initDefineProp(r,"medalName",Ee,r),MedalGetDto_initDefineProp(r,"allExp",De,r),MedalGetDto_initDefineProp(r,"upLevExp",ke,r),MedalGetDto_initDefineProp(r,"medalLev",je,r),MedalGetDto_initDefineProp(r,"todayExp",Re,r),MedalGetDto_initDefineProp(r,"todayAllExp",Pe,r),MedalGetDto_initDefineProp(r,"checkCode",Te,r),MedalGetDto_initDefineProp(r,"medalRank",Be,r),MedalGetDto_possibleConstructorReturn(r,t)}return MedalGetDto_inherits(MedalGetDto,e),MedalGetDto}(m.EntityDto),we=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"vipFan",[_e,Ke],{enumerable:!0,initializer:null}),Oe=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalRid",[Ve],{enumerable:!0,initializer:null}),Ee=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalName",[Ve],{enumerable:!0,initializer:null}),De=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"allExp",[Ke],{enumerable:!0,initializer:null}),ke=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"upLevExp",[Ke],{enumerable:!0,initializer:null}),je=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalLev",[Ke],{enumerable:!0,initializer:null}),Re=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"todayExp",[Ke],{enumerable:!0,initializer:null}),Pe=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"todayAllExp",[Ke],{enumerable:!0,initializer:null}),Te=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"checkCode",[Ve],{enumerable:!0,initializer:null}),Be=MedalGetDto_applyDecoratedDescriptor(Ce.prototype,"medalRank",[Ne,Ke],{enumerable:!0,initializer:null}),Se=Ce))||Se)||Se);function MedalOperatResDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalOperatResDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalOperatResDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalOperatResDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalOperatResDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Je,Ye,Xe,Ze,et,tt,rt,it=m.basicTypes.string,nt=m.basicTypes.number,at=m.basicTypes.optional,ot=(Fe=(0,m.basicTypes.mapping)({operationType:"ot",operationMedalId:"rid"}),xe=at(""),Fe((Ue=function(e){function MedalOperatResDto(){var t,r;!function MedalOperatResDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatResDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalOperatResDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalOperatResDto_initDefineProp(r,"operationType",He,r),MedalOperatResDto_initDefineProp(r,"operationMedalId",We,r),MedalOperatResDto_possibleConstructorReturn(r,t)}return MedalOperatResDto_inherits(MedalOperatResDto,e),MedalOperatResDto}(m.EntityDto),He=MedalOperatResDto_applyDecoratedDescriptor(Ue.prototype,"operationType",[nt],{enumerable:!0,initializer:null}),We=MedalOperatResDto_applyDecoratedDescriptor(Ue.prototype,"operationMedalId",[xe,it],{enumerable:!0,initializer:null}),Ge=Ue))||Ge),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function medalOperatEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalOperatEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var st,ct,ut,pt,ft,dt,bt,mt,ht,vt,gt,yt,_t=n.a.Service,Nt=n.a.Store,St=o.a.decode,Ct=0,wt=(Je=Nt(),Ye=_t(d.a),Xe=_t(Z),Ze=function(){function MedalOperatEpics(){!function medalOperatEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatEpics),medalOperatEpics_initDefineProp(this,"store",et,this),medalOperatEpics_initDefineProp(this,"medalOperatServices",tt,this),medalOperatEpics_initDefineProp(this,"medalDroppingServices",rt,this)}return MedalOperatEpics.prototype.medalSwitchSearch=function medalSwitchSearch(e){var t=this;return e.ofType(f.i).pipe(Object(u.switchMap)(function(){return Object(l.forkJoin)(Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){return e[0]&&(t.medalOperatServices.clearMedalDialog(1),t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1})),f.g.receiveMedalSwitch(e[0])}))},MedalOperatEpics.prototype.medalListMsg=function medalListMsg(e){var t=this;return e.ofType(f.d).pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.wf=+r.wf||0,r.frq=+r.frq||0,r.list?(r.list=St(r.list),r.list=r.list.map(function(e){var t=St(e);return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),t.pos=parseInt(t.pos,10),t.vipfan=parseInt(t.vipfan,10)||0,t})):r.list=[],r.ownerRoomId=String(i.room_id),r.list.length?(2===r.wf&&(r.wareMedalId=r.list[0].rid),ge.fromJSON(r)):(t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1}),{wareStatus:0,wareMedalId:0,ownerRoomId:r.ownerRoomId,medalList:[]})}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){var r=e[0].medalList,i=e[1],n=r.filter(function(t){return+t.medalRid===+e[0].ownerRoomId})[0];(i||n)&&t.medalOperatServices.clearMedalDialog(1),r.length&&t.medalOperatServices.clearMedalDialog(4),n&&(i=1,t.medalOperatServices.sendHasFansMedalState(),n.medalRid!==e[0].wareMedalId&&t.medalOperatServices.addMedalDialog({dialogType:5,defaultShow:1,autoClear:5e3,medalData:n}),n.todayExp>=n.todayAllExp&&(Ct=1));var a=lt({},e[0],{medalSwitch:i,medalList:r});return t.medalDroppingServices.getRemainSwitchState()||t.medalDroppingServices.medalDroppingList(a.medalList),f.g.medalListUpdate(a)}))},MedalOperatEpics.prototype.medalListAnchorInfo=function medalListAnchorInfo(e){var t=this;return e.ofType(f.h).pipe(Object(c.map)(function(){return t.store.getState().medalListMsgData}),Object(u.switchMap)(function(e){return l.forkJoin.apply(void 0,[Object(s.of)(e)].concat(t.medalOperatServices.getAnchorInfo(e.medalList)))}),Object(c.map)(function(e){var r=e[0].medalList,i=t.medalOperatServices.formatAnchorList(e.slice(1)),n=r.map(function(e,t){var r=Object.assign({},e,i[t]);return lt({},r)});return f.g.medalListUpdate({isReqAnchorInfo:1,medalList:n})}))},MedalOperatEpics.prototype.medalUpdateMsg=function medalUpdateMsg(e){var t=this;return e.ofType(f.f).pipe(Object(c.map)(function(e){var t=e.payload;return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),Ie.fromJSON(e.payload)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e))}),Object(c.map)(function(e){var r=e[0]||{},i=t.store.getState().medalListMsgData,n=void 0;n="synfimd"===r.type?r.updateMedalRid||i.wareMedalId:i.ownerRoomId;var a=i.medalList.filter(function(e){return e.medalRid===n})[0];if(a){var o=Object.assign.apply(Object,[{}].concat(r)),l=t.medalOperatServices.returnFansMedalStatus();if(o.todayExp>=o.todayAllExp&&!Ct){Ct=1;var s=7;o.medalLev>a.medalLev&&(s=9,t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank})),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_toplimit",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}),t.medalOperatServices.addMedalDialog({dialogType:s,defaultShow:1,hoverShow:0,autoClear:5e3})}else o.medalLev>a.medalLev&&(t.medalOperatServices.addMedalDialog({dialogType:8,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}));return f.g.medalInfoUpdate(o)}return f.g.medalInfoUpdate({})}))},MedalOperatEpics.prototype.medalGetMsg=function medalGetMsg(e){var t=this;return e.ofType(f.c).pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.fim=Math.round(r.fim/10)/10,r.nfim=Math.round(r.nfim/10)/10,r.afim=Math.round(r.afim/10)/10,r.mafim=Math.round(r.mafim/10)/10,r.bl=parseInt(r.bl,10),r.rid=String(i.room_id),Qe.fromJSON(r)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),t.medalOperatServices.getConfig(),t.medalOperatServices.reqAnchorInfo(e))}),Object(c.map)(function(e){var r=e[0],i=t.store.getState().medalListMsgData,n=t.medalOperatServices.formatAnchorInfo(e[2]);return r=Object.assign({},r,n),i.medalList.filter(function(e){return e.medalRid===r.medalRid})[0]||(i.medalList.length>0?(i.medalList.length>=20&&t.medalOperatServices.addMedalDialog({dialogType:3,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r,autoClear:1e4})):(t.medalOperatServices.clearMedalDialog(4),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r,autoClear:1e4}))),f.g.medalGetUpdate(r)}))},MedalOperatEpics.prototype.medalOperationMsg=function medalOperationMsg(e){return e.ofType(f.e).pipe(Object(c.map)(function(e){var t=e.payload,r=parseInt(t.result,10);t.ot=parseInt(t.ot,10);var i=ot.fromJSON(t);return 0===r?3===i.operationType?f.g.medalOperationDelete(i.operationMedalId):f.g.medalOperationUpdate({wareMedalId:i.operationMedalId,wareStatus:1===i.operationType?2:1}):503101===r?(p.a.error("\u60a8\u6ca1\u6709\u6b64\u5fbd\u7ae0"),f.g.medalOperationDelete(i.operationMedalId)):e}))},MedalOperatEpics}(),et=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"store",[Je],{enumerable:!0,initializer:null}),tt=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"medalOperatServices",[Ye],{enumerable:!0,initializer:null}),rt=medalOperatEpics_applyDecoratedDescriptor(Ze.prototype,"medalDroppingServices",[Xe],{enumerable:!0,initializer:null}),Ze),Ot=r("38686");function EnterLevel120Dto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120Dto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterLevel120Dto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120Dto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120Dto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Et=m.basicTypes.string,Dt=m.basicTypes.mapping,kt=m.basicTypes.optional,jt=Dt({webImg:"web_img",webImgSwf:"web_img_swf",bgHeight:"bg_height",fontHeight:"font_height",imgHeight:"img_height",fontColor:"font_color",nameColor:"name_color",welcomeContent:"welcome_content",occurrenceMode:"occurrence_mode"})((ct=function(e){function EnterLevel120Dto(){var t,r;!function EnterLevel120Dto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Dto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterLevel120Dto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),EnterLevel120Dto_initDefineProp(r,"ceid",ut,r),EnterLevel120Dto_initDefineProp(r,"webImg",pt,r),EnterLevel120Dto_initDefineProp(r,"webImgSwf",ft,r),EnterLevel120Dto_initDefineProp(r,"bgHeight",dt,r),EnterLevel120Dto_initDefineProp(r,"fontHeight",bt,r),EnterLevel120Dto_initDefineProp(r,"imgHeight",mt,r),EnterLevel120Dto_initDefineProp(r,"fontColor",ht,r),EnterLevel120Dto_initDefineProp(r,"nameColor",vt,r),EnterLevel120Dto_initDefineProp(r,"welcomeContent",gt,r),EnterLevel120Dto_initDefineProp(r,"occurrenceMode",yt,r),EnterLevel120Dto_possibleConstructorReturn(r,t)}return EnterLevel120Dto_inherits(EnterLevel120Dto,e),EnterLevel120Dto}(m.EntityDto),ut=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"ceid",[kt,Et],{enumerable:!0,initializer:null}),pt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"webImg",[kt,Et],{enumerable:!0,initializer:null}),ft=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"webImgSwf",[kt,Et],{enumerable:!0,initializer:null}),dt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"bgHeight",[kt,Et],{enumerable:!0,initializer:null}),bt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"fontHeight",[kt,Et],{enumerable:!0,initializer:null}),mt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"imgHeight",[kt,Et],{enumerable:!0,initializer:null}),ht=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"fontColor",[kt,Et],{enumerable:!0,initializer:null}),vt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"nameColor",[kt,Et],{enumerable:!0,initializer:null}),gt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"welcomeContent",[kt,Et],{enumerable:!0,initializer:null}),yt=EnterLevel120Dto_applyDecoratedDescriptor(ct.prototype,"occurrenceMode",[kt,Et],{enumerable:!0,initializer:null}),st=ct))||st;function enterLevel120Actions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Actions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Rt,Pt,Tt,Bt="LEVEL120_CONFIG_GET_END",Lt=function(e){function EnterLevel120Action(){return function enterLevel120Actions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Action),function enterLevel120Actions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterLevel120Actions_inherits(EnterLevel120Action,e),EnterLevel120Action.findLevel120Config=function findLevel120Config(e){return{type:"ENTER_LEVEL120_CONFIG_GET",payload:e}},EnterLevel120Action.receiveLevel120Config=function receiveLevel120Config(e){return{type:Bt,payload:e}},EnterLevel120Action}(b.Action);function enterLevel120Services_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterLevel120Services_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Services_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zt,Mt,At,It=(Rt=(0,n.a.Store)(),Pt=function(e){function EnterLevel120Services(){var t,r;!function enterLevel120Services_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Services);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterLevel120Services_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterLevel120Services_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Tt,r),enterLevel120Services_possibleConstructorReturn(r,t)}return enterLevel120Services_inherits(EnterLevel120Services,e),EnterLevel120Services.prototype.findEnterLevel120ByEpic=function findEnterLevel120ByEpic(){this.store.dispatch(Lt.findLevel120Config())},EnterLevel120Services}(b.Service),Tt=function enterLevel120Services_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Pt.prototype,"store",[Rt],{enumerable:!0,initializer:null}),Pt);var Ft,xt,Gt,Ut,Ht,Wt,Vt,$t,Kt,qt,Qt,Jt,Yt,Xt,Zt,er,tr,rr,ir,nr,ar,or,lr,sr=(zt=(0,n.a.Service)(It),Mt=function(){function ChatEffectEpics(){!function enterLevel120Epics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffectEpics),function enterLevel120Epics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"enterLevel120Services",At,this)}return ChatEffectEpics.prototype.findLevel120Config=function findLevel120Config(e){return e.ofType("ENTER_LEVEL120_CONFIG_GET").pipe(Object(u.switchMap)(function(){return m.jsonpClient.get(jt,"//webconf.douyucdn.cn//resource/common/privilege/custom_effect2.json","customEffectConfig")}),Object(c.map)(Lt.receiveLevel120Config),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatEffectEpics}(),At=function enterLevel120Epics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Mt.prototype,"enterLevel120Services",[zt],{enumerable:!0,initializer:null}),Mt),cr=r("a63b0"),ur=r.n(cr),pr=r("5c1a0");function BarrageCmdDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageCmdDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BarrageCmdDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmdDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmdDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageCmdDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fr,dr,br,mr,hr,vr=m.basicTypes.number,gr=m.basicTypes.string,yr=m.basicTypes.typed,_r=m.basicTypes.mapping,Nr=m.basicTypes.optional,Sr=(Ft=_r({commonColor:"common",keywordsColor:"keyword"}),Object(ee.log)(xt=Ft((Gt=function(e){function colorsDto(){var t,r;BarrageCmdDto_classCallCheck(this,colorsDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"commonColor",Ut,r),BarrageCmdDto_initDefineProp(r,"keywordsColor",Ht,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(colorsDto,e),colorsDto}(m.EntityDto),Ut=BarrageCmdDto_applyDecoratedDescriptor(Gt.prototype,"commonColor",[gr],{enumerable:!0,initializer:null}),Ht=BarrageCmdDto_applyDecoratedDescriptor(Gt.prototype,"keywordsColor",[gr],{enumerable:!0,initializer:null}),xt=Gt))||xt)||xt),Cr=(Wt=_r({action:"type",cmdName:"cmd"}),Object(ee.log)(Vt=Wt(($t=function(e){function cmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,cmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"action",Kt,r),BarrageCmdDto_initDefineProp(r,"cmdName",qt,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(cmdDto,e),cmdDto}(m.EntityDto),Kt=BarrageCmdDto_applyDecoratedDescriptor($t.prototype,"action",[gr],{enumerable:!0,initializer:null}),qt=BarrageCmdDto_applyDecoratedDescriptor($t.prototype,"cmdName",[gr],{enumerable:!0,initializer:null}),Vt=$t))||Vt)||Vt),wr=(Qt=_r({colors:"colors",isRight:"is_right",sttcode:"str",cmd:"str_data",result:"str_msg",time4Show:"str_msg_showtime",followFont:"in",followNum:"cfer"}),Jt=yr(Sr),Yt=yr(Cr),Qt((Zt=function(e){function BarrageCmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,BarrageCmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"colors",er,r),BarrageCmdDto_initDefineProp(r,"isRight",tr,r),BarrageCmdDto_initDefineProp(r,"sttcode",rr,r),BarrageCmdDto_initDefineProp(r,"cmd",ir,r),BarrageCmdDto_initDefineProp(r,"result",nr,r),BarrageCmdDto_initDefineProp(r,"time4Show",ar,r),BarrageCmdDto_initDefineProp(r,"followFont",or,r),BarrageCmdDto_initDefineProp(r,"followNum",lr,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(BarrageCmdDto,e),BarrageCmdDto}(m.EntityDto),er=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"colors",[Nr,Jt],{enumerable:!0,initializer:null}),tr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"isRight",[Nr,vr],{enumerable:!0,initializer:null}),rr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"sttcode",[Nr,gr],{enumerable:!0,initializer:null}),ir=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"cmd",[Nr,Yt],{enumerable:!0,initializer:null}),nr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"result",[Nr,gr],{enumerable:!0,initializer:null}),ar=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"time4Show",[Nr,vr],{enumerable:!0,initializer:null}),or=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"followFont",[Nr,gr],{enumerable:!0,initializer:null}),lr=BarrageCmdDto_applyDecoratedDescriptor(Zt.prototype,"followNum",[Nr,gr],{enumerable:!0,initializer:null}),Xt=Zt))||Xt),Or=r("0d731"),Er=r("e1214"),Dr=r("a404e");function barrageCmdEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageCmdEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var kr,jr,Rr,Pr,Tr,Br=n.a.Service,Lr=(fr=Br(Dr.a),dr=Br(Er.a),br=function(){function BarrageCmdEpics(){!function barrageCmdEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmdEpics),barrageCmdEpics_initDefineProp(this,"barrageCmdService",mr,this),barrageCmdEpics_initDefineProp(this,"titleService",hr,this)}return BarrageCmdEpics.prototype.getBarrageCmdResult=function getBarrageCmdResult(e){var t=this;return e.ofType(Or.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(m.httpClient.post(wr,"/api/bcmd/dealResult",ur.a.stringify({str:t.str})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show;t.barrageCmdService.startCloseCd(i),Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e}),Object(c.map)(function(e){return Or.g.receiveCmd(e[0])}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setFollowWithCmd=function setFollowWithCmd(e){var t=this;return e.ofType(Or.e).pipe(Object(u.switchMap)(function(e){var t=e.payload;return m.httpClient.post(wr,"/room/follow/add_cmd_confuse",ur.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:1};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(pr.dysub)("click_msginstr_send",{instr:"\u5173\u6ce8",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Or.g.receiveCmd),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setUnFollowWithCmd=function setUnFollowWithCmd(e){var t=this;return e.ofType(Or.f).pipe(Object(u.switchMap)(function(e){var t=e.payload;return m.httpClient.post(wr,"/room/follow/cancel_cmd_confuse",ur.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:0};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(pr.dysub)("click_msginstr_send",{instr:"\u53d6\u5173",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Or.g.receiveCmd),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.getCmdBroadCastResult=function getCmdBroadCastResult(e){var t=this;return e.ofType(Or.d).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(m.httpClient.post(wr,"/api/bcmd/dealBroadResult",ur.a.stringify({str:t.cmdStt})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show,n=r.result;t.barrageCmdService.sendBroadResultToPlayer({duration:i,content:n}),t.barrageCmdService.startCloseCd(i),Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(pr.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e[0]}),Object(c.map)(function(e){return Or.g.receiveCmd(e)}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics}(),mr=barrageCmdEpics_applyDecoratedDescriptor(br.prototype,"barrageCmdService",[fr],{enumerable:!0,initializer:null}),hr=barrageCmdEpics_applyDecoratedDescriptor(br.prototype,"titleService",[dr],{enumerable:!0,initializer:null}),br);function LitterSisterDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function LitterSisterDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function LitterSisterDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSisterDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function LitterSisterDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var zr,Mr,Ar,Ir=m.basicTypes.number,Fr=(kr=(0,m.basicTypes.mapping)({femalePrivilege:"female_privilege",identSex:"ident_sex"}),Object(ee.log)(jr=kr((Rr=function(e){function LitterSisterDto(){var t,r;!function LitterSisterDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=LitterSisterDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),LitterSisterDto_initDefineProp(r,"femalePrivilege",Pr,r),LitterSisterDto_initDefineProp(r,"identSex",Tr,r),LitterSisterDto_possibleConstructorReturn(r,t)}return LitterSisterDto_inherits(LitterSisterDto,e),LitterSisterDto}(m.EntityDto),Pr=LitterSisterDto_applyDecoratedDescriptor(Rr.prototype,"femalePrivilege",[Ir],{enumerable:!0,initializer:null}),Tr=LitterSisterDto_applyDecoratedDescriptor(Rr.prototype,"identSex",[Ir],{enumerable:!0,initializer:null}),jr=Rr))||jr)||jr),xr=r("623b6"),Gr=r("f6247"),Ur=r("35c0a");var Hr=(zr=(0,n.a.Service)(Ur.a),Mr=function(){function LitterSisterEpics(){!function litterSisterEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterEpics),function litterSisterEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"litterSisterService",Ar,this)}return LitterSisterEpics.prototype.getSisterStatusData=function getSisterStatusData(e){return e.ofType(Gr.c).pipe(Object(u.switchMap)(function(){return m.httpClient.get(Fr,"/member/female_privilege/get_privilege_info")}),Object(c.map)(function(e){return Gr.g.receiveUserInfo(e)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics.prototype.receivePriv=function receivePriv(e){return e.ofType(Gr.d).pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value;return m.httpClient.post(String,"/member/female_privilege/receive_privilege",((t={})[r]=i,t),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){return Gr.g.dealReceivePriv(e)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics}(),Ar=function litterSisterEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Mr.prototype,"litterSisterService",[zr],{enumerable:!0,initializer:null}),Mr),Wr=r("89992"),Vr=r("5b15c");function nobleVisibleActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $r,Kr,qr,Qr="IS_HAS_INVISIBLE",Jr="GET_INVISIBLE_SATUS_END",Yr="SET_INVISIBLE_SATUS_END",Xr="UPDATE_INVISIBLE_STATUS",Zr=function(e){function NobleVisibleActions(){return function nobleVisibleActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleActions),function nobleVisibleActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleVisibleActions_inherits(NobleVisibleActions,e),NobleVisibleActions.receiveHasInvisible=function receiveHasInvisible(e){return{type:Qr,payload:e}},NobleVisibleActions.getNobleVisibleStatus=function getNobleVisibleStatus(e){return{type:"GET_INVISIBLE_STAUS",payload:e}},NobleVisibleActions.receiveNobleVisibleStatus=function receiveNobleVisibleStatus(e){return{type:Jr,payload:e}},NobleVisibleActions.setNobleVisibleStatus=function setNobleVisibleStatus(e){return{type:"SET_INVISIBLE_SATUS",payload:e}},NobleVisibleActions.receiveSetNobleVisibleStatus=function receiveSetNobleVisibleStatus(e){return{type:Yr,payload:e}},NobleVisibleActions.updateNobleVisibleStatus=function updateNobleVisibleStatus(e){return{type:Xr,payload:e}},NobleVisibleActions}(b.Action);var ei,ti,ri,ii,ni,ai,oi,li=($r=(0,n.a.Store)(),Kr=function(){function NobleVisibleEpics(){!function nobleVisibleEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleEpics),function nobleVisibleEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",qr,this)}return NobleVisibleEpics.prototype.getInvisible=function getInvisible(e){return e.ofType("GET_INVISIBLE_STAUS").pipe(Object(u.switchMap)(Vr.a),Object(u.switchMap)(function(e){var t=e.data;return m.httpClient.get(String,"/member/noble/getHideStatus",{type:2,rid:t.get("room.room_id")},{noCache:!0})}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===+e.code?Zr.receiveNobleVisibleStatus(+e.status||0):(p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:e.msg})}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics.prototype.setInvisible=function setInvisible(e){var t=this;return e.ofType("SET_INVISIBLE_SATUS").pipe(Object(Wr.throttleTime)(3e4),Object(u.switchMap)(Vr.a),Object(u.switchMap)(function(e){var r=e.data,i=e.payload;return Object(l.forkJoin)(m.httpClient.post(String,"/member/noble/setHideStatus",ur.a.stringify({type:2,rid:r.get("room.room_id"),status:t.store.getState().getInvisible.isInvisible?0:1})),Object(s.of)(i))}),Object(c.map)(function(e){var r=e[0],i=void 0===r?{}:r,n=e[1];if(0===+i.code){var a=+t.store.getState().getInvisible.isInvisible;return"fans"===n?a?p.a.success("\u7c89\u4e1d\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u7c89\u4e1d\u699c\u4e2d\u9690\u8eab"):a?p.a.success("\u8d21\u732e\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u8d21\u732e\u699c\u4e2d\u9690\u8eab"),Zr.receiveSetNobleVisibleStatus()}return p.a.error(i.msg||"\u672a\u77e5\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:i.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics}(),qr=function nobleVisibleEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Kr.prototype,"store",[$r],{enumerable:!0,initializer:null}),Kr),si=r("04bc4"),ci=r("77785"),ui=r("2c3f6");function barrageSuperLinkEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageSuperLinkEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pi=n.a.Store,fi=n.a.Service,di=(ei=pi(),ti=fi(ui.a),ri=fi(si.a),ii=function(){function BarrageSuperLinkEpics(){!function barrageSuperLinkEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkEpics),barrageSuperLinkEpics_initDefineProp(this,"store",ni,this),barrageSuperLinkEpics_initDefineProp(this,"barrageSuperLinkServices",ai,this),barrageSuperLinkEpics_initDefineProp(this,"chatSendServices",oi,this)}return BarrageSuperLinkEpics.prototype.sendBarrageSuperLink=function sendBarrageSuperLink(e){var t=this;return e.ofType(ci.a).pipe(Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e.payload),t.barrageSuperLinkServices.reqBarrageHandleLinkData(e))}),Object(c.map)(function(e){var r=e[0]||{},i=e[1]||{},n=r.node,a=r.str;if(0===i.error){var o=i.data;return n.lk=o,t.chatSendServices.sendEnd(n,a),t.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_edit_send",{type:o.split("_")[0]||1}),ci.c.receiveBarrageLinkData(o)}return ci.c.updateBarrageLinkData({superLinkError:2})}))},BarrageSuperLinkEpics}(),ni=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"store",[ei],{enumerable:!0,initializer:null}),ai=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"barrageSuperLinkServices",[ti],{enumerable:!0,initializer:null}),oi=barrageSuperLinkEpics_applyDecoratedDescriptor(ii.prototype,"chatSendServices",[ri],{enumerable:!0,initializer:null}),ii);function nobleExpiredTipActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bi,mi,hi,vi,gi,yi="RECEIVE_NOBLE_CONFIG",_i=function(e){function NobleExpiredTipActions(){return function nobleExpiredTipActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipActions),function nobleExpiredTipActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleExpiredTipActions_inherits(NobleExpiredTipActions,e),NobleExpiredTipActions.getNobleConfig=function getNobleConfig(e){return{type:"GET_NOBLE_CONFIG",payload:e}},NobleExpiredTipActions.receiveNobleConfig=function receiveNobleConfig(e){return{type:yi,payload:e}},NobleExpiredTipActions}(b.Action),Ni=r("a5ed5");function nobleExpiredTipServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleExpiredTipServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleExpiredTipServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleExpiredTipServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Si,Ci,wi,Oi,Ei,Di,ki,ji,Ri,Pi,Ti,Bi,Li,zi=n.a.Store,Mi=n.a.Service,Ai=Ni.a.socketStream,Ii=(bi=Mi(m.DataCenter.localStorage),mi=zi(),hi=function(e){function NobleExpiredTipServices(){var t,r;!function nobleExpiredTipServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleExpiredTipServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleExpiredTipServices_initDefineProp(r,"localStorage",vi,r),nobleExpiredTipServices_initDefineProp(r,"store",gi,r),r.config={storageName:"room-nobleExpiredTip",storageExpireTime:1296e3,daysOf7:6048e5},nobleExpiredTipServices_possibleConstructorReturn(r,t)}return nobleExpiredTipServices_inherits(NobleExpiredTipServices,e),NobleExpiredTipServices.prototype.initSocket=function initSocket(){var e=this;Ai.subscribe("memberinfores",function(t){var r=parseInt(1e3*t.nets,10)||0,i=parseInt(1e3*t.npts,10)||0,n=parseInt(t.nl,10)||0,a=parseInt(t.npl,10)||0,o=(parseInt(t.ngb,10)||0)/100,l=e.config.storageName,s=e.localStorage.get(l)||{},c=s.showTimes,u=void 0===c?0:c,p=s.maxIntervalsTime,f=void 0===p?0:p;e.config.now=(new Date).getTime(),r>0&&e.localStorage.remove(l),!n&&a&&u<2&&e.config.now>=f&&e.store.dispatch(_i.getNobleConfig({frozenNobleYc:o,nobleProtectLevel:a,nobleProtectTime:i}))})},NobleExpiredTipServices.prototype.setLocalStorage=function setLocalStorage(){var e=this.config,t=e.storageName,r=e.storageExpireTime,i=e.daysOf7,n=this.localStorage.get(t)||{},a=n.showTimes,o=void 0===a?0:a;this.localStorage.set(t,Object.assign(n,{showTimes:o+1,maxIntervalsTime:this.config.now+i}),r)},NobleExpiredTipServices}(b.Service),vi=nobleExpiredTipServices_applyDecoratedDescriptor(hi.prototype,"localStorage",[bi],{enumerable:!0,initializer:null}),gi=nobleExpiredTipServices_applyDecoratedDescriptor(hi.prototype,"store",[mi],{enumerable:!0,initializer:null}),hi);function NobleExpiredTipDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTipDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NobleExpiredTipDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleExpiredTipDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTipDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTipDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Fi,xi,Gi,Ui=m.basicTypes.number,Hi=m.basicTypes.string,Wi=m.basicTypes.typed,Vi=m.basicTypes.optional,$i=m.basicTypes.mapping,Ki=(Si=$i({nobleImg:"web_symbol_pic3"}),Object(ee.log)(Ci=Si((wi=function(e){function SymbolDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,SymbolDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"nobleImg",Oi,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(SymbolDto,e),SymbolDto}(m.EntityDto),Oi=NobleExpiredTipDto_applyDecoratedDescriptor(wi.prototype,"nobleImg",[Vi,Hi],{enumerable:!0,initializer:null}),Ci=wi))||Ci)||Ci),qi=(Ei=$i({level:"level",nobleName:"noble_name",symbolImg:"symbol",firstOpenPrice:"first_open_price",firstReopenPrice:"first_remand_gold"}),Di=Wi(Ki),Object(ee.log)(ki=Ei((ji=function(e){function NobleExpiredTipDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,NobleExpiredTipDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"level",Ri,r),NobleExpiredTipDto_initDefineProp(r,"firstOpenPrice",Pi,r),NobleExpiredTipDto_initDefineProp(r,"firstReopenPrice",Ti,r),NobleExpiredTipDto_initDefineProp(r,"nobleName",Bi,r),NobleExpiredTipDto_initDefineProp(r,"symbolImg",Li,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(NobleExpiredTipDto,e),NobleExpiredTipDto}(m.EntityDto),Ri=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"level",[Ui],{enumerable:!0,initializer:null}),Pi=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"firstOpenPrice",[Ui],{enumerable:!0,initializer:null}),Ti=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"firstReopenPrice",[Ui],{enumerable:!0,initializer:null}),Bi=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"nobleName",[Hi],{enumerable:!0,initializer:null}),Li=NobleExpiredTipDto_applyDecoratedDescriptor(ji.prototype,"symbolImg",[Vi,Di],{enumerable:!0,initializer:null}),ki=ji))||ki)||ki);var Qi,Ji,Yi,Xi=(Fi=(0,n.a.Service)(Ii),xi=function(){function NobleExpiredTipEpics(){!function nobleExpiredTipEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipEpics),function nobleExpiredTipEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"nobleExpiredTipService",Gi,this)}return NobleExpiredTipEpics.prototype.getNobleConfig=function getNobleConfig(e){return e.ofType("GET_NOBLE_CONFIG").pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(Object(s.of)(t),m.httpClient.get(qi,"/noble/confignw"))}),Object(c.map)(function(e){var t=e[0],r=t.frozenNobleYc,i=void 0===r?0:r,n=t.nobleProtectTime,a=void 0===n?0:n,o=t.nobleProtectLevel,l=void 0===o?0:o,s=e[1].data,c=void 0===s?[]:s,u=new Date(a),p=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate(),f={};c.forEach(function(e,t){e.level===l&&(f=c[t]||{})});var d=f,b=d.nobleName,m=d.symbolImg.nobleImg,h=d.firstOpenPrice,v=void 0===h?0:h,g=d.firstReopenPrice,y={nobleImg:m?"//res.douyucdn.cn//resource/"+m:"",nobleName:b,frozenNobleYc:i,unfreezeDate:p,savedMoney:parseInt((v-(void 0===g?0:g))/100,10)};return _i.receiveNobleConfig(y)}),Object(Ot.catchError)(function(){return Object(s.of)({type:"error",payload:"\u83b7\u53d6\u8d35\u65cf\u914d\u7f6e\u6570\u636e\u51fa\u9519\uff01"})}))},NobleExpiredTipEpics}(),Gi=function nobleExpiredTipEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(xi.prototype,"nobleExpiredTipService",[Fi],{enumerable:!0,initializer:null}),xi),Zi=r("1c14c"),en=r("1074e");var tn,rn,nn,an,on,ln,sn,cn,un,pn=(Qi=(0,n.a.Service)(Zi.a),Ji=function(){function TreasureEpics(){!function treasureEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureEpics),function treasureEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"treasureService",Yi,this)}return TreasureEpics.prototype.drawTreasure=function drawTreasure(e){var t=this;return e.ofType(en.d).pipe(Object(u.switchMap)(function(e){return t.treasureService.drawTreasureRequest(e)}),Object(c.map)(function(e){var r={};if(0===+e.error){var i=e.data||"{}";r=JSON.parse(i)||{}}else{r=JSON.parse("{}")||{}}return 100100===+r.code&&t.treasureService.showChangeIdent(),en.q.showDrawResult(r)}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},TreasureEpics}(),Yi=function treasureEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ji.prototype,"treasureService",[Qi],{enumerable:!0,initializer:null}),Ji),fn=r("01ecd"),dn=r("dbdd7"),bn=r("55d33");function chatCampEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatCampEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mn=n.a.Service,hn=(tn=mn(m.DataCenter.global),rn=mn(m.DataCenter.acj),nn=mn(m.DataCenter.localStorage),an=mn(dn.a),on=function(){function ChatCampEpics(){!function chatCampEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampEpics),chatCampEpics_initDefineProp(this,"global",ln,this),chatCampEpics_initDefineProp(this,"acj",sn,this),chatCampEpics_initDefineProp(this,"storage",cn,this),chatCampEpics_initDefineProp(this,"chatCampService",un,this)}return ChatCampEpics.prototype.initChatCamp=function initChatCamp(e){var t=this;return e.ofType(fn.b).pipe(Object(u.switchMap)(function(){return t.chatCampService.getJsonData()}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.setting,i=void 0===r?{}:r,n=e.switch?e.switch.web:0,a=!t.storage.get("chatCamp_remindIsShow"),o=i[t.global.get("$ROOM.room_id")||""]||{},l=o.camp_list||[],s=o.start_time?1e3*o.start_time:0,c=o.end_time?1e3*o.end_time:0,u=(new Date).getTime(),p=!1;if(n&&u<=c&&u>=s){p=!0,a&&t.storage.set("chatCamp_remindIsShow",1);var f=e.barrage_color_list,d=[];Object.keys(f).forEach(function(e){d.push({type:e,value:f[e]})});var b={colorList:d,startTime:o.start_time,endTime:o.end_time};t.acj.push(bn.c.JS_SET_BARRAGE_COLOR,b)}return fn.f.receiveChatCamp({campList:l,isInit:p,remindIsShow:a})}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatCampEpics}(),ln=chatCampEpics_applyDecoratedDescriptor(on.prototype,"global",[tn],{enumerable:!0,initializer:null}),sn=chatCampEpics_applyDecoratedDescriptor(on.prototype,"acj",[rn],{enumerable:!0,initializer:null}),cn=chatCampEpics_applyDecoratedDescriptor(on.prototype,"storage",[nn],{enumerable:!0,initializer:null}),un=chatCampEpics_applyDecoratedDescriptor(on.prototype,"chatCampService",[an],{enumerable:!0,initializer:null}),on);function lolVoteActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lolVoteActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vn,gn,yn,_n="receive_match_detail",Nn="receive_user_detail",Sn="show_vote_dialog",Cn="close_vote_dialog",wn="receive_vote_share_code",On="lol_user_vote_success",En=function(e){function LolVoteAction(){return function lolVoteActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteAction),function lolVoteActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lolVoteActions_inherits(LolVoteAction,e),LolVoteAction.getMatchDetail=function getMatchDetail(){return{type:"get_match_detail"}},LolVoteAction.receiveMatchDetail=function receiveMatchDetail(e){return{type:_n,payload:e}},LolVoteAction.getUserDetail=function getUserDetail(e){return{type:"get_user_detail",payload:e}},LolVoteAction.receiveUserDetail=function receiveUserDetail(e){return{type:Nn,payload:e}},LolVoteAction.lolVote=function lolVote(e){return{type:"lol_vote",payload:e}},LolVoteAction.showVoteDialog=function showVoteDialog(){return{type:Sn}},LolVoteAction.closeVoteDialog=function closeVoteDialog(){return{type:Cn}},LolVoteAction.getVoteShareCode=function getVoteShareCode(){return{type:"get_vote_share_code"}},LolVoteAction.receiveVoteShareCode=function receiveVoteShareCode(e){return{type:wn,payload:e}},LolVoteAction.lolUserVote=function lolUserVote(e){return{type:"lol_user_vote",payload:e}},LolVoteAction.userVoteComplete=function userVoteComplete(e){return{type:On,payload:e}},LolVoteAction}(b.Action),Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var kn,jn,Rn,Pn,Tn,Bn,Ln={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},zn=(vn=(0,n.a.Store)(),gn=function(){function LolVoteEpics(){!function lolVoteEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteEpics),function lolVoteEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",yn,this)}return LolVoteEpics.prototype.getMatchDetail=function getMatchDetail(e){return e.ofType("get_match_detail").pipe(Object(u.switchMap)(function(){return m.httpClient.get(String,"/wgapi/activity/lol/getMatchDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return En.receiveMatchDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6lol\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getUserDetail=function getUserDetail(e){return e.ofType("get_user_detail").pipe(Object(u.switchMap)(function(){return m.httpClient.post(String,"/wgapi/activitync/lol/getUserDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return En.receiveUserDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getVoteShareCode=function getVoteShareCode(e){return e.ofType("get_vote_share_code").pipe(Object(u.switchMap)(function(){return m.httpClient.post(String,"/wgapi/activitync/lol/share")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data;return En.receiveVoteShareCode(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.lolUserVote=function lolUserVote(e){return e.ofType("lol_user_vote").pipe(Object(u.switchMap)(xr.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value,n=e.payload;return m.httpClient.post(String,"/wgapi/activitync/lol/userSupportTeam",Dn({},n.payload,(t={},t[r]=i,t)),Ln).pipe(Object(c.map)(function(e){if(0===e.error){var t=JSON.parse(e.data);return t.tid=n.payload.tid,En.userVoteComplete(t)}return p.a.error(e.msg||"\u6295\u7968\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg}}),Object(Ot.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},LolVoteEpics}(),yn=function lolVoteEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gn.prototype,"store",[vn],{enumerable:!0,initializer:null}),gn);function ChatRoleBarrageDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrageDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrageDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrageDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrageDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Mn,An,In,Fn,xn,Gn=m.basicTypes.string,Un=m.basicTypes.number,Hn=(kn=(0,m.basicTypes.oneOf)(Gn,Un),Object(ee.log)((Rn=function(e){function ChatRoleBarrageDto(){var t,r;!function ChatRoleBarrageDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrageDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrageDto_initDefineProp(r,"roleId",Pn,r),ChatRoleBarrageDto_initDefineProp(r,"name",Tn,r),ChatRoleBarrageDto_initDefineProp(r,"img",Bn,r),ChatRoleBarrageDto_possibleConstructorReturn(r,t)}return ChatRoleBarrageDto_inherits(ChatRoleBarrageDto,e),ChatRoleBarrageDto}(m.EntityDto),Pn=ChatRoleBarrageDto_applyDecoratedDescriptor(Rn.prototype,"roleId",[kn],{enumerable:!0,initializer:null}),Tn=ChatRoleBarrageDto_applyDecoratedDescriptor(Rn.prototype,"name",[Gn],{enumerable:!0,initializer:null}),Bn=ChatRoleBarrageDto_applyDecoratedDescriptor(Rn.prototype,"img",[Gn],{enumerable:!0,initializer:null}),jn=Rn))||jn),Wn=r("e0536"),Vn=r("4e8ba");function chatRoleBarrageEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRoleBarrageEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $n=n.a.Service,Kn=(Mn=$n(Vn.a),An=$n(m.DataCenter.acj),In=function(){function ChatRoleBarrageEpics(){!function chatRoleBarrageEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageEpics),chatRoleBarrageEpics_initDefineProp(this,"ChatRoleBarrageService",Fn,this),chatRoleBarrageEpics_initDefineProp(this,"acj",xn,this)}return ChatRoleBarrageEpics.prototype.getRoleList=function getRoleList(e){var t=this;return e.ofType(Wn.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return m.httpClient.get(Hn,"/roomapi/biz/roleBarrage",{rid:t})}),Object(u.switchMap)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=void 0===e?[]:e;return t.acj.push(bn.c.JS_ROLE_BARRAGE_CONFIG,{data:r}),Object(s.of)(r)}),Object(c.map)(Wn.e.setupRoleList))},ChatRoleBarrageEpics}(),Fn=chatRoleBarrageEpics_applyDecoratedDescriptor(In.prototype,"ChatRoleBarrageService",[Mn],{enumerable:!0,initializer:null}),xn=chatRoleBarrageEpics_applyDecoratedDescriptor(In.prototype,"acj",[An],{enumerable:!0,initializer:null}),In);function emotionActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var qn,Qn,Jn,Yn,Xn="RECEIVE_LUSHI_EMOT_STATUS",Zn=function(e){function EmotionAction(){return function emotionActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionAction),function emotionActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return emotionActions_inherits(EmotionAction,e),EmotionAction.getLushiEmotStatus=function getLushiEmotStatus(e){return{type:"GET_LUSHI_EMOT_STATUS",payload:e}},EmotionAction.receiveLushiEmotStatus=function receiveLushiEmotStatus(e){return{type:Xn,payload:e}},EmotionAction}(b.Action);function emotionServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function emotionServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ea,ta,ra,ia=(qn=(0,n.a.Store)(),Object(ee.log)((Jn=function(e){function EmotionServices(){var t,r;!function emotionServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=emotionServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function emotionServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Yn,r),emotionServices_possibleConstructorReturn(r,t)}return emotionServices_inherits(EmotionServices,e),EmotionServices.prototype.getLushiEmotStatus=function getLushiEmotStatus(){this.store.dispatch(Zn.getLushiEmotStatus())},EmotionServices}(b.Service),Yn=function emotionServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Jn.prototype,"store",[qn],{enumerable:!0,initializer:null}),Qn=Jn))||Qn);var na=(ea=(0,n.a.Service)(ia),ta=function(){function EmotionEpics(){!function emotionEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionEpics),function emotionEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"emotionServices",ra,this)}return EmotionEpics.prototype.getLushiEmotStatus=function getLushiEmotStatus(e){return e.ofType("GET_LUSHI_EMOT_STATUS").pipe(Object(u.switchMap)(function(){return m.httpClient.get(String,"/special/goldLeague/getPackStatus")}),Object(c.map)(function(e){var t=e.error;return Zn.receiveLushiEmotStatus(Number(t))}),Object(Ot.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},EmotionEpics}(),ra=function emotionEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ta.prototype,"emotionServices",[ea],{enumerable:!0,initializer:null}),ta),aa=(0,n.a.combineEpicsClass)(wt,sr,Lr,Hr,li,di,Xi,pn,hn,zn,Kn,na),oa=r("c6a91");function barrageTipsActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var la="BARRAGE_UPDATE_SYS_TIPS",sa="BARRAGE_HIDE_SYS_TIPS",ca=function(e){function BarrageTipsAction(){return function barrageTipsActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsAction),function barrageTipsActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageTipsActions_inherits(BarrageTipsAction,e),BarrageTipsAction.updateSysTips=function updateSysTips(e){return{type:la,payload:e}},BarrageTipsAction.hideSysTips=function hideSysTips(e){return{type:sa,payload:e}},BarrageTipsAction}(b.Action),ua=r("6e1e9"),pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fa=ua.a.BARRAGE_LIMIT.VISITOR,da={isLockScreen:!1,bufferCount:0,defaultLimit:fa.DEFAULT,bufferLimit:fa.BUFFER,tipsInfo:""};var ba={barrageData:function barrageReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa({},da),t=arguments[1],r=t.type,i=t.payload,n={};switch(r){case oa.g:return pa({},e,i);case oa.f:var a={isLockScreen:i};return!1===i&&(a.bufferCount=0),pa({},e,a);case oa.d:var o=e.isLockScreen,l=e.bufferCount,s=e.bufferLimit,c=l+i;return o&&c<s?c>0&&(n={bufferCount:c}):n={isLockScreen:!1,bufferCount:0},pa({},e,n);case la:return pa({},e,{tipsInfo:i});default:return e}}},ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ha={tipsInfo:"",isShow:!1};var va={barrageTips:function barrageTipsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma({},ha),t=arguments[1],r=t.type,i=t.payload;switch(r){case la:return ma({},e,{tipsInfo:i.tipsInfo,isShow:i.isShow});case sa:return ma({},e,{isShow:i.isShow});default:return e}}};function barrageGeeActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ga="BARRAGE_SHOW_GEE_TEST",ya="BARRAGE_HIDE_GEE_TEST",_a=function(e){function BarrageGeeAction(){return function barrageGeeActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeAction),function barrageGeeActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageGeeActions_inherits(BarrageGeeAction,e),BarrageGeeAction.showGeeTest=function showGeeTest(e){return{type:ga,payload:e}},BarrageGeeAction.hideGeeTest=function hideGeeTest(e){return{type:ya,payload:e}},BarrageGeeAction}(b.Action),Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Sa={dstUid:"",isShow:!1};var Ca={barrageGee:function barrageGeeReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na({},Sa),t=arguments[1],r=t.type,i=t.payload;switch(r){case ga:return Na({},e,{dstUid:i.dstUid,isShow:i.isShow});case ya:return Na({},e,{isShow:i.isShow});default:return e}}},wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Oa={colors:{commonColor:"#f03",keywordsColor:"#46abff"},isShow:!1},Ea=/\|br\|/g,Da=/\u201c([^\u201d]+)\u201d/g;var ka={barrageCmd:function barrageCmdReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments[1];switch(t.type){case Or.c:var r=Object.assign({},Oa,t.payload.data),i=r.result,n=void 0===i?"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01":i,a=r.colors,o=function translateToHtml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa.keywordsColor;return e.replace(Ea,"<br/>").replace(Da,'\u201c<span style="color:'+t+'">$1</span>\u201d')}(n,a.keywordsColor),l={commonColor:a.commonColor,isShow:!0};return n&&o&&(l.result=o),wa({},e,l);case Or.a:return Object.assign({},e,{isShow:!1});default:return e}}};function chatRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ja="WEEKRANK_RECEIVE",Ra="OPEN_RANK_ALL",Pa="GET_USER_ROLE",Ta="GET_DEFAULT_CONFIG",Ba="RECEIVE_ALLRANK_DATA",La="RECEIVE_MONTHRANK_DATA",za=function(e){function ChatRankAction(){return function chatRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAction),function chatRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankActions_inherits(ChatRankAction,e),ChatRankAction.receiveWeekRank=function receiveWeekRank(e){return{type:ja,payload:e}},ChatRankAction.openAllRank=function openAllRank(e){return{type:Ra,payload:e}},ChatRankAction.getUserRole=function getUserRole(e){return{type:Pa,payload:e}},ChatRankAction.setDeafultConfig=function setDeafultConfig(e){return{type:Ta,payload:e}},ChatRankAction.receiveAllRankSwitch=function receiveAllRankSwitch(e){return{type:Ba,payload:e}},ChatRankAction.receiveMonthRankSwitch=function receiveMonthRankSwitch(e){return{type:La,payload:e}},ChatRankAction}(b.Action),Ma={isRankAllShow:!1,isCloseAllRank:null,isCloseMonthRank:null};var Aa={chatRank:function chatRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments[1];switch(t.type){case ja:return Object.assign({},e,{weekRankList:t.payload});case Ra:return Object.assign({},e,{isRankAllShow:t.payload});case Pa:return Object.assign({},e,{userRole:t.payload});case Ta:return Object.assign({},e,{defaultConfig:t.payload});case Ba:return Object.assign({},e,{isCloseAllRank:t.payload});case La:return Object.assign({},e,{isCloseMonthRank:t.payload});default:return e}}};function nobleRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ia="ONLINE_NOBLE_LIST",Fa="NOBLE_NUM_INFO",xa="NOBLE_SUM_INFO",Ga="NOBLE_IS_RENEW",Ua=function(e){function NobleRankActions(){return function nobleRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankActions),function nobleRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleRankActions_inherits(NobleRankActions,e),NobleRankActions.receiveIsRenew=function receiveIsRenew(e){return{type:Ga,payload:e}},NobleRankActions.receiveNobleList=function receiveNobleList(e){return{type:Ia,payload:e}},NobleRankActions.receiveNobleNumList=function receiveNobleNumList(e){return{type:Fa,payload:e}},NobleRankActions.receiveNobleSum=function receiveNobleSum(e){return{type:xa,payload:e}},NobleRankActions}(b.Action),Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wa={nobleLevel:0,isInProtected:0,trial:0,nobleList:[],nobleSum:0,nobleSumCi:0,nobleNumList:[],nobleNumListci:0};var Va={getNoble:function getNoble(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments[1];switch(t.type){case Ga:return Ha({},e,t.payload);case Ia:return Ha({},e,{nobleList:t.payload});case Fa:return Ha({},e,{nobleNumList:t.payload.nobleNumList,nobleNumListci:t.payload.ci});case xa:return Ha({},e,{nobleSum:t.payload.num,nobleSumCi:t.payload.ci});default:return e}}},$a=function filterMedalData(e,t){return e.filter(function(e){return e.medalRid===t})},Ka={MEDAL_LIST_BACK:function MEDAL_LIST_BACK(e,t){return Object.assign({},t,e)},RECEIVE_MEDAL_SWITCH:function RECEIVE_MEDAL_SWITCH(e,t){return Object.assign({},t,{medalSwitch:e})},MEDAL_DATA_UPDATE:function MEDAL_DATA_UPDATE(e,t){return Object.assign({},t,e)},MEDAL_OPERATION_BACK:function MEDAL_OPERATION_BACK(e,t){switch(e.wareStatus){case 1:return Object.assign({},t,{wareStatus:1,wareMedalId:0});case 2:var r=0,i=t.medalList.slice(0);return t.medalList.forEach(function(t){r+=1,t.medalRid===e.wareMedalId&&(i.splice(r-1,1),i.unshift(t))}),Object.assign({},t,{wareStatus:2,wareMedalId:e.wareMedalId,medalList:i});default:return t}},MEDAL_UPDATE_BACK:function MEDAL_UPDATE_BACK(e,t){var r=e,i=t.medalList.slice(0),n="synfimd"===r.type?r.updateMedalRid||t.wareMedalId:t.ownerRoomId,a=$a(i,n)[0],o=function searchMedalIndex(e,t){for(var r=0;r<e.length;r++)if(e[r].medalRid===t)return r;return-1}(i,n);return a?(r.fansMedal=Object.assign({},a.fansMedal,r.fansMedal),delete r.type,delete r.updateMedalRid,i.splice(o,1,Object.assign({},a,r)),Object.assign({},t,{medalList:i})):t},MEDAL_GET_BACK:function MEDAL_GET_BACK(e,t){var r=t.medalList.slice(0);return $a(r,e.medalRid)[0]?t:(r.unshift(e),Object.assign({},t,{wareStatus:0===t.wareStatus?1:t.wareStatus,firstCharge:0,medalList:r}))},MEDAL_OPERATION_DELETE:function MEDAL_OPERATION_DELETE(e,t){var r=t.medalList.slice(0),i=0;return $a(r,e)[0]?(t.medalList.forEach(function(t){i+=1,t.medalRid===e&&r.splice(i-1,1)}),Object.assign({},t,{medalList:r})):t}},qa={isShowMedalPanel:function isShowMedalPanel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:0},t=arguments[1];switch(t.type){case f.j:var r=t.payload;return Object.assign({},e,r);default:return e}},medalDialogStatus:function medalDialogStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dialogType:1,hoverShow:1,defaultShow:0}],t=arguments[1];switch(t.type){case f.b:return e.some(function(e){return e.dialogType===t.payload.dialogType})?e:[].concat(e,[t.payload]);case f.a:return e.slice(0).filter(function(e){return e.dialogType!==t.payload});default:return e}},medalListMsgData:function medalListMsgData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{medalSwitch:0,wareStatus:0,ownerMedalName:"\u7c89\u4e1d",ownerMedalRank:0,isReqAnchorInfo:0,firstCharge:0,ownerRoomId:0,medalList:[]},t=arguments[1];return Ka[t.type]?Ka[t.type](t.payload,e):e}},Qa={medalDroppingList:function medalDroppingList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"MEDAL_DROPPING_LIST":return t.payload;default:return e}},medalDroppingClose:function medalDroppingClose(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch(arguments[1].type){case"MEDAL_DROPPING_CLOSE":return 0;default:return e}},medalDroppingRemainStatus:function medalDroppingRemainStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"MEDAL_DROPPING_REMAIN_SWITCH":return e?0:1;default:return e}}};function horn4CategoryActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ja="ROOM_PLAYERASIDE_SET_HORNCOUNT",Ya="ROOM_PLAYERASIDE_SET_HORNMUTE",Xa="ROOM_PLAYERASIDE_HANDLE_HORNRESPONSE",Za="ROOM_PLAYERASIDE_HANDLE_HORNNOBLE",eo="ROOM_PLAYERASIDE_HANDLE_HORNMODE",to=function(e){function Horn4CategoryActions(){return function horn4CategoryActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryActions),function horn4CategoryActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return horn4CategoryActions_inherits(Horn4CategoryActions,e),Horn4CategoryActions.setHornCount=function setHornCount(e){return{type:Ja,payload:e}},Horn4CategoryActions.handleHornResponse=function handleHornResponse(e){return{type:Xa,payload:e}},Horn4CategoryActions.setNobleStatus=function setNobleStatus(e){return{type:Za,payload:e}},Horn4CategoryActions.setMute=function setMute(e){return{type:Ya,payload:e}},Horn4CategoryActions.setMode=function setMode(e){return{type:eo,payload:e}},Horn4CategoryActions}(b.Action),ro=r("c0e50"),io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},no={count:0,leadTipShowState:0,checkingCont:"",errorStatus:-1,mode:0,btnType:0,statusTxt:"",openType:0,nobleLevel:0,nobleProtectLevel:0,muteType:-1,muteDesc:"",unMuteTime:"",showTip:0};var ao={horn4CategoryData:function horn4CategoryData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:no,t=arguments[1],r=t.payload;switch(t.type){case Ja:return io({},e,r);case Ya:var i=parseInt(1e3*r.met,10);return io({},e,{muteType:r.mtype,muteDesc:["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r.mtype-1],unMuteTime:ro.a.formatDate(i,"yyyy\u5e74MM\u6708dd\u65e5 hh:mm:ss")});case Xa:case Za:return io({},e,r);case eo:var n=r.btnType,a=io({},e,r);return 3===n&&(a.statusTxt="\u5ba1\u6838\u672a\u901a\u8fc7\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a;default:return e}}},oo=r("cfc6b"),lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},so={isLogin:!1,status:1,isSetFansSpeak:!1,hasFansMedal:!1,isMute:!1,muteType:1,muteTime:0,fansColor:null,dataError:0};var co={chatSendData:function chatSendData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=arguments[1];switch(t.type){case oo.e:return lo({},e,{status:t.payload});case oo.c:var r=t.payload,i=r.mtype,n=r.met;return lo({},e,{status:3,muteType:i,muteTime:n});case oo.b:return lo({},e,{fansColor:t.payload});case oo.a:return lo({},e,{cdTime:t.payload});case oo.d:return lo({},e,{dataError:t.payload});default:return e}}};function enterEffectActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uo="RECEIVE_LEVEL120_ENTER",po="RECEIVE_NOBLE_ENTER",fo="RECEIVE_WINDCLOUD_ENTER",bo="RECEIVE_NORMAL_ENTER",mo="RECEIVE_MOTORCADE_ENTER",ho="RECEIVE_SHARK_ENTER",vo="DELETE_LEVEL120_ENTER",go="DELETE_NOBLE_ENTER",yo="DELETE_WINDCLOUD_ENTER",_o="DELETE_NORMAL_ENTER",No="DELETE_MOTORCADE_ENTER",So="DELETE_SHARK_ENTER",Co=function(e){function EnterEffectAction(){return function enterEffectActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectAction),function enterEffectActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterEffectActions_inherits(EnterEffectAction,e),EnterEffectAction.receiveLevel120Enter=function receiveLevel120Enter(e){return{type:uo,payload:e}},EnterEffectAction.receiveNobleEnter=function receiveNobleEnter(e){return{type:po,payload:e}},EnterEffectAction.receiveWindCloudEnter=function receiveWindCloudEnter(e){return{type:fo,payload:e}},EnterEffectAction.receiveNormalEnter=function receiveNormalEnter(e){return{type:bo,payload:e}},EnterEffectAction.receiveMotorcadeEnter=function receiveMotorcadeEnter(e){return{type:mo,payload:e}},EnterEffectAction.receiveSharkEnter=function receiveSharkEnter(e){return{type:ho,payload:e}},EnterEffectAction.deleteEnter=function deleteEnter(e){return{type:e}},EnterEffectAction}(b.Action),wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Oo={level120Queue:[],nobleQueue:[],windCloudQueue:[],normalQueue:[],motorcadeQueue:[],sharkQueue:[]};var Eo={enterEffecUenter:function enterEffecUenter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments[1];switch(t.type){case uo:return e.level120Queue.push(t.payload),wo({},e);case vo:return e.level120Queue.shift(),wo({},e);case po:return e.nobleQueue.push(t.payload),wo({},e);case go:return e.nobleQueue.shift(),wo({},e);case fo:return e.windCloudQueue.push(t.payload),wo({},e);case yo:return e.windCloudQueue.shift(),wo({},e);case bo:return e.normalQueue.push(t.payload),wo({},e);case _o:return e.normalQueue.shift(),wo({},e);case mo:return e.motorcadeQueue.push(t.payload),wo({},e);case No:return e.motorcadeQueue.shift(),wo({},e);case ho:return e.sharkQueue.push(t.payload),wo({},e);case So:return e.sharkQueue.shift(),wo({},e);default:return e}}},Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ko={config:[]};var jo={chatEnterLevel120:function chatEnterLevel120(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko,t=arguments[1];switch(t.type){case Bt:var r=t.payload.data;return Do({},e,{config:r});default:return e}}},Ro={list:[{index:0,color:0,status:1,level:0},{status:0,level:6,color:2},{status:0,level:9,color:3},{status:0,level:12,color:6},{status:0,level:15,color:4},{status:0,level:18,color:5},{status:0,level:21,color:1}],selectedIndex:0,colorArr:["#2c3e50","#1e87f0","#7ac84b","#ff69b4","#ff7f00","#9b39f4","#f00"]};function chatToolBarActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Po=function(e){function ChatToolBarAction(){return function chatToolBarActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarAction),function chatToolBarActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatToolBarActions_inherits(ChatToolBarAction,e),ChatToolBarAction.openLetter=function openLetter(e){return{type:"OPEN_CHAT_LETTER",payload:e}},ChatToolBarAction.openFace=function openFace(e){return{type:"OPEN_CHAT_FACE",payload:e}},ChatToolBarAction.openFansBarrageBox=function openFansBarrageBox(e){return{type:"OPEN_FANS_BARRAGE_BOX",payload:e}},ChatToolBarAction.scrollToolbar=function scrollToolbar(e){return{type:"SCROLL_TOOL_BAR",payload:e}},ChatToolBarAction.observerFansBarrage=function observerFansBarrage(e){return{type:"OBSERVER_FANS_BARRAGE",payload:e}},ChatToolBarAction.sendSelectedIndex=function sendSelectedIndex(e){return{type:"SEND_SELECTED_INDEX",payload:e}},ChatToolBarAction.closeFansBarrage=function closeFansBarrage(e){return{type:"CLOSE_FANS_BARRAGE",payload:e}},ChatToolBarAction.updateCampColor=function updateCampColor(e){return{type:"UPDATE_CAMP_COLOR",payload:e}},ChatToolBarAction}(b.Action),To=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Bo={fansBarrageLv:Ro.list,selectedIndex:0,colorValue:Ro.colorArr[0],receiveSummerReward:!1},Lo={openLetter:function openLetterReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_CHAT_LETTER":return t.payload;default:return e}},openFace:function openFaceReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_CHAT_FACE":return e?0:1;default:return e}},openFansBarrageBox:function openFansBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_FANS_BARRAGE_BOX":return e?0:1;default:return e}},chatToolBar:function chatToolBarReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bo,t=arguments[1];switch(t.type){case"SCROLL_TOOL_BAR":return Object.assign({},e,t.payload);case"OBSERVER_FANS_BARRAGE":return To({},e,{fansBarrageLv:t.payload.list,selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:Ro.colorArr[t.payload.selectedIndex],receiveSummerReward:t.payload.receiveSummerReward});case"SEND_SELECTED_INDEX":return To({},e,{selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:Ro.colorArr[t.payload.selectedIndex]});case"CLOSE_FANS_BARRAGE":return To({},e,{color:0,selectedIndex:0,colorValue:Ro.colorArr[0]});case"UPDATE_CAMP_COLOR":return To({},e,{color:t.payload.color,selectedIndex:0,colorValue:t.payload.colorValue});default:return e}}},zo=r("8c619"),Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ao={btnStatus:0,isTipsShow:0,toggleStatus:0,isOpenReminder:!0,nobleChatBarrage:!1,isNobleBarrage:!1,nobleInfo:{nl:0,remindStatus:0}},Io={openNobleBarrageBox:function openNobleBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case zo.b:return t.payload;default:return e}},nobleBarrageData:function nobleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,t=arguments[1];switch(t.type){case zo.c:return Object.assign({},e,t.payload);case zo.e:return Mo({},e,{nobleInfo:Mo({},e.nobleInfo,t.payload)});case zo.d:return Mo({},e,{isNobleBarrage:!e.isNobleBarrage});case zo.a:return Mo({},e,{isNobleBarrage:!1});default:return e}}};function chatRankAllActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fo="ALL_RANK_RECEIVE",xo="OPEN_RANK_ALL",Go="GET_DEFAULT_CONFIG",Uo="RECEIVE_MONTH_RANK",Ho=function(e){function ChatRankAllAction(){return function chatRankAllActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllAction),function chatRankAllActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankAllActions_inherits(ChatRankAllAction,e),ChatRankAllAction.receiveAllRank=function receiveAllRank(e){return{type:Fo,payload:e}},ChatRankAllAction.receiveMonthRank=function receiveMonthRank(e){return{type:Uo,payload:e}},ChatRankAllAction.openAllRank=function openAllRank(e){return{type:xo,payload:e}},ChatRankAllAction.setDeafultConfig=function setDeafultConfig(e){return{type:Go,payload:e}},ChatRankAllAction}(b.Action),Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Vo={chatRankAllData:function chatRankAllData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments[1];switch(t.type){case Fo:var r=t.payload;return Wo({},e,{rankAllData:r});case Uo:var i=t.payload;return Wo({},e,{rankMonthData:i});case xo:return Object.assign({},e,{isRankAllShow:t.payload});case Go:return Object.assign({},e,{defaultConfig:t.payload});default:return e}}};function shieldToolActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $o={999:{id:999,type:"allShield",text:"\u5c4f\u853d\u5168\u90e8\u7279\u6548"},106:{id:106,type:"allGift",text:"\u5c4f\u853d\u5168\u90e8\u793c\u7269"},107:{id:107,type:"message",text:"\u5c4f\u853d\u6d88\u606f\u901a\u77e5"},108:{id:108,type:"videoBroadcast",text:"\u5c4f\u853d\u89c6\u9891\u5e7f\u64ad"},105:{id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269"}},Ko={105:0,106:0,107:0,108:0},qo=function(e){function ShieldingActions(){return function shieldToolActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldingActions),function shieldToolActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return shieldToolActions_inherits(ShieldingActions,e),ShieldingActions.switchShield=function switchShield(e){return{type:"SWITCH_SHIELD",payload:e}},ShieldingActions.updateShield=function updateShield(e){return{type:"UPDATE_SHIELD",payload:e}},ShieldingActions}(b.Action);var Qo={shieldConfig:function shieldConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},Ko),t=arguments[1];switch(t.type){case"SWITCH_SHIELD":var r=Object.assign({},$o),i=t.payload,n="allShield"===i.type?1:0,a=r[999],o=Object.assign({},e);if(n?Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&(r[e].state=a.state?0:1,o[e]=a.state?0:1)}):(r[i.id].state=i.state?0:1,o[i.id]=i.state?0:1),!n){var l=0;Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&1===r[e].state&&(l+=1)}),4===l?(a.state=1,o[999]=1):l>0&&l<4?(a.state=2,o[999]=2):(a.state=0,o[999]=0)}return Object.assign({},o);case"UPDATE_SHIELD":var s=t.payload||{},c=function selectShieldNum(e){var t=0;return Object.keys(e).forEach(function(r){999!==r&&1===e[r]&&(t+=1)}),t}(s);return s[999]=0,c>=4?s[999]=1:c>0&&c<4&&(s[999]=2),Object.assign({},s);default:return e}}};function barrageFilterActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jo="BARRAGEFILTER_SET_FILTER_DATA",Yo=function(e){function BarrageFilterAction(){return function barrageFilterActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterAction),function barrageFilterActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageFilterActions_inherits(BarrageFilterAction,e),BarrageFilterAction.setFilterData=function setFilterData(e){return{type:Jo,payload:e}},BarrageFilterAction}(b.Action),Xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Zo={type:"global",keywords:[],levelFilter:0,levelLimit:"",keywordsFilter:0};var el={barrageFilterReducers:function barrageFilterReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo,t=arguments[1],r=t.type,i=t.payload,n=void 0===i?{}:i;switch(r){case Jo:return Xo({},e,n);default:return e}}};function fansRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tl="FANS_RANK_LIST",rl="FANS_RANK_SUM",il="INCREASE_FANS_SUM",nl="IS_OPEN_FANS",al="HAS_ROOM_FANSMEDAL",ol="ROOM_FANS_MEDAL",ll="OWNER_FNAS_RANK",sl="OWNER_MEDAL_LEVEL",cl="FANS_RANKALL_SHOW",ul="FANS_RANKALL_LIST",pl=function(e){function FansRankActions(){return function fansRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankActions),function fansRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return fansRankActions_inherits(FansRankActions,e),FansRankActions.receiveFansList=function receiveFansList(e){return{type:tl,payload:e}},FansRankActions.receiveFansSum=function receiveFansSum(e){return{type:rl,payload:e}},FansRankActions.increaseFansSum=function increaseFansSum(e){return{type:il,payload:e}},FansRankActions.updateOpenFans=function updateOpenFans(e){return{type:nl,payload:e}},FansRankActions.receiveHasRoomFansMedal=function receiveHasRoomFansMedal(e){return{type:al,payload:e}},FansRankActions.receiveRoomFansMedal=function receiveRoomFansMedal(e){return{type:ol,payload:e}},FansRankActions.receiveOwnerFansRank=function receiveOwnerFansRank(e){return{type:ll,payload:e}},FansRankActions.receiveOwnerMedaLevel=function receiveOwnerMedaLevel(e){return{type:sl,payload:e}},FansRankActions.toggleFansRankAll=function toggleFansRankAll(e){return{type:cl,payload:e}},FansRankActions.receiveFansAllList=function receiveFansAllList(e){return{type:ul,payload:e}},FansRankActions}(b.Action),fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},dl={isOpenFans:!0,fansSum:0,fansSumCi:0,fansRankList:[],hasRoomFansMedal:0,roomFansMedal:"",ownerMedalLevel:"",ownerFansRank:"--",isShowFansRankAll:!1,fansRankAllList:[]};var bl={getFansRank:function getFansRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dl,t=arguments[1];switch(t.type){case nl:return fl({},e,{isOpenFans:t.payload});case rl:return fl({},e,{fansSum:t.payload.fc,fansSumCi:t.payload.ci});case il:var r=e.fansSum>=50?e.fansSum+1:e.fansSum;return fl({},e,{fansSum:r});case tl:return fl({},e,{fansRankList:t.payload,isOpenFans:!0});case al:return fl({},e,{hasRoomFansMedal:!0,isOpenFans:!0});case ol:return fl({},e,{roomFansMedal:t.payload});case sl:return fl({},e,{ownerMedalLevel:t.payload});case ll:return fl({},e,{ownerFansRank:t.payload});case cl:return fl({},e,{isShowFansRankAll:t.payload});case ul:return fl({},e,{fansRankAllList:t.payload,isOpenFans:!0});default:return e}}},ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hl={isShowDialog:!1,femalePrivilege:0,identSex:0,dlgText:"",btnText:"",slogan:"",desc:""},vl=["\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u53ef\u9886\u53d6\u7279\u6743","\u60a8\u7684\u5b9e\u540d\u8ba4\u8bc1\u7ed3\u679c\u4e3a\u7537\u6027\uff0c\u53ea\u80fd\u6b23\u8d4f\u800c\u4e0d\u53ef\u62e5\u6709\u5c0f\u59d0\u59d0\u7279\u6743~","\u60a8\u5df2\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1\u4e14\u8ba4\u8bc1\u4e3a\u5973\u6027\uff0c\u53ef\u4ee5\u9886\u53d6\u7279\u6743~","\u76ee\u524d\u53ea\u652f\u6301\u5927\u9646\u8eab\u4efd\u8bc1\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u624d\u80fd\u9886\u53d6\u7279\u6743"],gl=["\u7acb\u5373\u8ba4\u8bc1","\u6715\u77e5\u9053\u4e86","\u9886\u53d6\u7279\u6743","\u6211\u77e5\u9053\u4e86"],yl=["\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743","\u9886\u53d6\u6210\u529f\uff01"],_l=["\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01","\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743\uff0c\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01"];var Nl={litterSisterData:function litterSisterData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments[1];switch(t.type){case Gr.f:return ml({},e,{isShowDialog:!0});case Gr.a:return ml({},e,{isShowDialog:!1});case Gr.e:var r=t.payload;if(0===Number(r.error)){var i=r.data;return ml({},e,{femalePrivilege:i.femalePrivilege,identSex:i.identSex,dlgText:vl[i.identSex],btnText:gl[i.identSex],slogan:yl[i.femalePrivilege],desc:_l[i.femalePrivilege],isShowDialog:!0})}return p.a.error(r.msg),e;case Gr.b:var n=t.payload;return 0===Number(n.error)?ml({},e,{femalePrivilege:1,identSex:2,dlgText:vl[2],btnText:gl[2],slogan:yl[1],desc:_l[1]}):(p.a.error(n.msg),e);default:return e}}},Sl={BarrageSuperLinkData:function BarrageSuperLinkData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{superLinkSwitch:0,superLinkShow:0,superLinkContent:"",superLinkError:0},t=arguments[1];switch(t.type){case ci.b:return Object.assign({},e,t.payload);default:return e}}};function nobleReminderActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Cl="UPDATE_NOBLE_REMINDER_TYPE",wl=function(e){function NobleReminderActions(){return function nobleReminderActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderActions),function nobleReminderActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleReminderActions_inherits(NobleReminderActions,e),NobleReminderActions.openNobleReminder=function openNobleReminder(e){return{type:"OPEN_NOBLE_REMINDER",payload:e}},NobleReminderActions.updateNobleReminderType=function updateNobleReminderType(e){return{type:Cl,payload:e}},NobleReminderActions}(b.Action),Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var El={openNobleReminder:function openNobleReminderReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_NOBLE_REMINDER":return t.payload;default:return e}},updateNobleReminderType:function nobleReminderReducers_updateNobleReminderType(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case Cl:return Ol({},e,{nobleReminderType:t.payload});default:return e}}},Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},kl={hasInvisible:0,isInvisible:0};var jl={getInvisible:function nobleVisibleReducers_getInvisible(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl,t=arguments[1];switch(t.type){case Qr:return Dl({},e,{hasInvisible:t.payload});case Jr:return Dl({},e,{isInvisible:t.payload});case Yr:return Dl({},e,{isInvisible:!e.isInvisible});case Xr:return Dl({},e,{isInvisible:t.payload});default:return e}}},Rl={nobleImg:"",nobleName:"",frozenNobleYc:0,unfreezeDate:"",savedMoney:0};var Pl={nobleExpiredTipData:function nobleExpiredTipReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments[1];switch(t.type){case yi:return Object.assign({},Rl,t.payload);default:return e}}},Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Bl={treasureData:function treasureData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],type:"",isDestory:!1,bindStatus:0,isGeePanelsShow:!1,isBanUser:0,banList:[]},t=arguments[1];switch(t.type){case en.i:return e.data.push(t.payload.data),Object.assign({},e,{data:e.data,type:t.payload.type,isDestory:!1,isBanUser:0});case en.j:return Object.assign({},e,{data:t.payload.data,type:t.payload.type,isDestory:!1,isBanUser:0});case en.b:var r=function cutOverTimeData(e,t){var r=parseInt((new Date).getTime()/1e3,10),i=[];return e.shift(),e.forEach(function(e){t&&t.length?e.destroyTime>r&&t.indexOf(e.senderUid)<0&&i.push(e):e.destroyTime>r&&i.push(e)}),i}(e.data,e.banList);return Object.assign({},e,{data:r,isDestory:!0,isGeePanelsShow:!1,isBanUser:0});case en.n:return Object.assign({},e,{bindStatus:1,isDestory:!1,isBanUser:0});case en.p:return Object.assign({},e,{isGeePanelsShow:t.payload,isDestory:!1,isBanUser:0});case en.a:var i=t.payload,n=e.banList||[];n.push(i);var a=function filterData(e,t){var r=[],i=0;return e&&e.length&&e[0]&&t.indexOf(e[0].senderUid)>=0?(e.forEach(function(e){t.indexOf(e.senderUid)<0&&r.push(e)}),i=1):r=e,{backList:r,type:i}}(Object.assign(e.data),n);return Object.assign({},e,{data:a.backList||[],isDestory:a.type>0?1:0,isBanUser:a.type,banList:n})}return e},treasureDrawResult:function treasureDrawResult(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case en.g:return Object.assign({},e,{data:t.payload,isShowGee:!1});case en.h:return Object.assign({},e,{data:{},isShowGee:!1});case en.m:return Object.assign({},e,{isShowGee:!0});case en.l:return Object.assign({},e,{data:{},isShowGee:!1})}return e},tipsMsg:function tipsMsg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case en.o:return Object.assign({},e,{data:t.payload});case en.l:return{data:{isban:1}}}return e},treasureLuckyTips:function treasureLuckyTips(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case en.k:return Object.assign({},e,t.payload);case en.c:return{}}return e},treasureInfoFlag:function treasureInfoFlag(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case en.p:return t.payload}return e},treasureIdent:function treasureIdent(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments[1].type){case en.e:return Tl({},e,{showIdent:!0});case en.f:return Tl({},e,{showIdent:!1})}return e}},Ll=r("ee55f"),zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ml={hasGetData:!1,isVisitor:!0,isNormal:!1,isAnchor:!1,isRoomAdmin:!1,isSuperAdmin:!1};var Al={userRoleData:function userRoleData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ml,t=arguments[1];switch(t.type){case Ll.a:return zl({},e,t.payload,{hasGetData:!0});default:return e}}},Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fl={isShow:!1,isInit:!1,remindIsShow:!1,selectIndex:-1,color:"",campList:[],giftIds:[]};var xl={chatCamp:function chatCampReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il({},Fl),t=arguments[1],r=t.type,i=t.payload;switch(r){case fn.e:return Il({},e,{isShow:i.isShow,remindIsShow:!1});case fn.c:return Il({},e,{campList:i.campList,isInit:i.isInit,remindIsShow:i.remindIsShow});case fn.d:return Il({},e,{selectIndex:i.campId,giftIds:i.giftIds,color:i.color});case fn.a:return Il({},e,{isShow:!1,giftIds:[],color:"",selectIndex:-1});default:return e}}},Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ul={gameStage:0,isGaming:0,matchingTeams:[],teamsList:[],inviteNum:0,ticketNum:0,shareCode:"",showVoteDialog:!1};var Hl={lolVoteData:function lolVoteReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul,t=arguments[1];switch(t.type){case _n:var r=t.payload,i=r.gameStage,n=r.isGaming,a=r.teamsList1,o=r.teamsList2;return Gl({},e,{gameStage:i,isGaming:n,matchingTeams:a,teamsList:o});case Sn:return Gl({},e,{showVoteDialog:!0});case Cn:return Gl({},e,{showVoteDialog:!1});case wn:return Gl({},e,{shareCode:t.payload});case Nn:var l=t.payload,s=l.ticketNum,c=l.inviteNum,u=l.teamsList;return Gl({},e,{ticketNum:s,inviteNum:c,teamsList:u});case On:var p=t.payload,f=e;return f.ticketNum=p.ticketNum,f.teamsList.forEach(function(e){var t=e;e.id===p.tid&&(t.isSupport=1)}),f;default:return e}}},Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Vl={roleList:[],selectedRole:null};var $l={chatRoleBarrageData:function chatRoleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments[1],r=t.type,i=t.payload;switch(r){case Wn.c:return Wl({},e,{roleList:i});case Wn.d:return Wl({},e,{selectedRole:i});case Wn.a:return Wl({},e,{selectedRole:null});default:return e}}},Kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ql={lushiStatusCode:""};var Ql={emotionData:function emotionReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ql,t=arguments[1];switch(t.type){case Xn:return Kl({},e,{lushiStatusCode:t.payload});default:return e}}},Jl=r("02e3f"),Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Xl={type:"",visible:!1};var Zl={followTipsData:function followTipsData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xl,t=arguments[1];switch(t.type){case Jl.b:return Yl({},e,t.payload,{visible:!0});case Jl.a:return Yl({},e,t.payload,{visible:!1});default:return e}}},es=Object.assign({},ba,va,Ca,ka,Aa,Va,qa,Qa,ao,co,Eo,jo,Lo,Io,Vo,Qo,el,bl,Nl,Sl,El,jl,Pl,Bl,Al,xl,Hl,$l,Ql,Zl),ts=r("8af19"),rs=r.n(ts),is=(r("00265"),r("7d4e5")),ns=r("fa757"),as=r("4eabb"),os=r("97975"),ls=r("eacfc"),ss=r("313df"),cs=r("2de2f"),us=r("d38ed"),ps=r.n(us),fs=r("38c54"),ds=r.n(fs);var bs=new ee.Logger,ms=function indexCrease(e,t){var r=Math.log(e);return parseInt(t*(r/2<1?1:r)+1,10)},hs=function linearCrease(e){return e+1},vs=function(){function BarrageQueue(e){var t=this;!function barrageQueue_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageQueue),this.config=Object.assign({},{maxQueueLength:200,hotplan:200,minThreshold:40,maxThreshold:50,maxCacheLength:3e3,render:function render(e){return bs.log("[BarrageQueue] - render: ",e)},destroy:function destroy(e){return bs.log("[BarrageQueue] - destroy: ",e)}},e),this.CACHE=[],this.RENDERED=[],this.FPS=new ds.a({force:!0,update:function update(e){t.CACHE.length?t.release(e):t.FPS.stop()}}),this.renderCount=1}return BarrageQueue.prototype.push=function push(e,t){var r=Array.isArray(e)?e:[e],i=this.CACHE.length+r.length-this.config.maxCacheLength;return i>0&&r.splice(-i),r.length&&(this.CACHE=t?r.concat(this.CACHE):this.CACHE.concat(r),this.FPS.start()),this},BarrageQueue.prototype.clear=function clear(){"function"===typeof this.config.destroy&&this.config.destroy.call(null,this.RENDERED),this.CACHE=[],this.RENDERED=[]},BarrageQueue.prototype.release=function release(e){var t=(e||{}).fps,r=this.config;this.renderCount=document.hidden?64:this.updateRenderCount(t),this.renderCount>r.hotplan&&(this.renderCount=r.hotplan);var i=this.CACHE.splice(0,this.renderCount);i.length&&(this.RENDERED=this.RENDERED.concat(i),"function"===typeof r.render&&r.render.call(null,{list:i,cacheLength:this.CACHE.length}));var n=this.RENDERED.splice(0,this.RENDERED.length-r.maxQueueLength);n.length&&"function"===typeof r.destroy&&r.destroy.call(null,n)},BarrageQueue.prototype.updateRenderCount=function updateRenderCount(e){return e>this.config.maxThreshold?ms(e-this.config.maxThreshold,this.renderCount):e<this.config.minThreshold?hs(parseInt(this.renderCount/2,10)):hs(this.renderCount)},BarrageQueue.prototype.updateConfig=function updateConfig(e){this.config=Object.assign({},this.config,e)},BarrageQueue}(),gs={create:function create(e){return new vs(e)}},ys=r("e4da0"),_s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ns,Ss,Cs,ws,Os,Es,Ds,ks=new ee.Logger,js=function isValidString(e){return e&&"string"===typeof e},Rs=function isFunction(e){return"function"===typeof e},Ps=function isPlainObject(e){if(e&&"object"===("undefined"===typeof e?"undefined":_s(e))&&!e.nodeType&&e!==e.window){var t=function _hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)};return!(e.constructor&&!t(e,"constructor")&&!t(e.constructor.prototype,"isPrototypeOf"))}return!1},Ts=function forEach(e,t){if(Array.isArray(e))for(var r=0,i=e.length;r<i&&!1!==t.call(e[r],e[r],r);r++);if(Ps(e)){var n=Object.prototype.hasOwnProperty;for(var a in e)if(n.call(e,a)&&!1===t.call(e[a],e[a],a))break}},Bs=function(){function BarrageBase(e){var t=this;!function barrageBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBase);var r=e||{},i=r.element,n=void 0===i?null:i,a=r.itemClassName,o=void 0===a?"Barrage-listItem":a,l=r.currentUserId,s=void 0===l?-1:l,c=r.barrageLimit,u=(c=void 0===c?{}:c).defaultLimit,p=void 0===u?200:u,f=c.bufferLimit,d=void 0===f?100:f,b=r.callbacks,m=(b=void 0===b?{}:b).init,h=b.render,v=b.destroy;n&&1===n.nodeType?(this.$barrageList=n,this.itemClassName=o,this.currentUserId=parseInt(s,10),this.barrageLimit={defaultLimit:p,bufferLimit:d},this.callbacks={render:Rs(h)?h:function(){},destroy:Rs(v)?v:function(){}},this.PROTOCOL={},this.MODULE={},this.QUEUE=gs.create({maxQueueLength:p,render:function render(e){return t.render(e)},destroy:function destroy(e){return t.destroy(e)}}),this.subscribe()):ks.error("[Barrage-System]: The mount point does not exist!!!"),Rs(m)&&m.call(this)}return BarrageBase.prototype.subscribe=function subscribe(){var e=this;ys.a.subscribe(oa.g,function(t){var r=t||{},i=r.defaultLimit,n=r.bufferLimit;e.barrageLimit={defaultLimit:i,bufferLimit:n}}),ys.a.subscribe(oa.f,function(t){var r=e.barrageLimit,i=r.defaultLimit,n=r.bufferLimit;e.QUEUE.updateConfig({maxQueueLength:t?i+n:i})}),ys.a.subscribe(oa.a,function(){e.QUEUE.clear()},!1)},BarrageBase.prototype.register=function register(e,t){var r=this,i=(t||{}).protocol,n="";switch(i=Array.isArray(i)?i:[i],!1){case js(e):n="The componet name '"+e+"' must be a valid string.";break;case!this.MODULE[e]:n="The component name '"+e+"' has been used";break;case Ps(t):n="The '"+e+"' componet must be a plain object.";break;case js(i.join("")):n="The '"+e+"' component's protocol is not a valid string or an empty array."}return n?ks.error("[Barrage-System]: "+n):(Ts(i,function(t){js(t)&&(r.PROTOCOL[t]=r.PROTOCOL[t]||[],r.PROTOCOL[t].includes(e)||r.PROTOCOL[t].push(e))}),this.MODULE[e]=t),this},BarrageBase.prototype.push=function push(e){var t=this.model(e)||{},r=t.unshiftData,i=void 0===r?[]:r,n=t.pushData,a=void 0===n?[]:n;i.length&&this.QUEUE.push(i,!0),a.length&&this.QUEUE.push(a)},BarrageBase.prototype.model=function model(e){var t=this,r=[],i=[];return Ts(Array.isArray(e)?e:[e],function(e){Ts(t.PROTOCOL[e.type],function(n){var a={},o=t.MODULE[n]||a,l=Object.assign({},o,{data:e}),s=o.model;Rs(s)&&(s=s.call(l,e)),s&&(Ts(s,function(t,r){js(t)&&(a[r]=e[t]),Rs(t)&&(a[r]=t.call(l,e))}),a.uniqueIdentifier=function generateGID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=((new Date).getTime()+16*Math.random())%16|0;return("x"===e?t:3&t|8).toString(16)})}(),a.barrageName=n,a.isSelf=void 0===a.isSelf?parseInt(a.senderId,10)===t.currentUserId:a.isSelf,a.unshift||a.isSelf?r.push(a):i.push(a))})}),{unshiftData:r,pushData:i}},BarrageBase.prototype.destroy=function destroy(e){var t=this,r=(Array.isArray(e)?e:[e]).length;r>0&&([].slice.call(this.$barrageList.querySelectorAll("."+this.itemClassName)).forEach(function(e,i){i<r&&t.$barrageList.removeChild(e)}),this.callbacks.destroy.call(this,e))},BarrageBase.prototype.render=function render(e){var t=this,r=!1,i=[],n=[],a=document.createDocumentFragment(),o=e||{},l=o.list,s=void 0===l?[]:l,c=o.cacheLength,u=void 0===c?0:c;Ts(Array.isArray(s)?s:[s],function(e){if(Ps(e)){var o=t.MODULE[e.barrageName]||{},l=Object.assign({},o,{data:e}),s=Rs(o.render)?o.render.call(l,e):null;if(s){var c=document.createElement("li");c.id=e.uniqueIdentifier,c.className=t.itemClassName+(e.selector?" "+e.selector:""),c.innerHTML=s,a.appendChild(c),Rs(o.method)&&n.push({context:l,method:o.method,data:e}),e.isSelf&&(r=!0),i.push(e)}}}),a.hasChildNodes()&&(this.$barrageList.appendChild(a),this.callbacks.render.call(this,{hasSelfBarrage:r,cacheLength:u,data:i}),n.length&&this.method(n))},BarrageBase.prototype.method=function method(e){e.forEach(function(e){var t=e||{},r=t.context,i=t.method,n=t.data;i.call(r,n)})},BarrageBase}(),Ls=void 0,zs=function create(e,t){return Ls||(Ls=new Bs(e)),Rs(t)&&t.call(Ls),Ls},Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageScroll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageScroll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var As,Is,Fs,xs=n.a.Service,Gs=/\s+/g,Us=(Ns=xs(ss.a),Ss=xs(m.DataCenter.global),Cs=xs(m.DataCenter.common),ws=function(){function BarrageScroll(e){var t=this;!function barrageScroll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageScroll),barrageScroll_initDefineProp(this,"barrageService",Os,this),barrageScroll_initDefineProp(this,"global",Es,this),barrageScroll_initDefineProp(this,"common",Ds,this);var r=e.main,i=e.scrollbar;r&&1===r.nodeType&&(this.config=Ms({},e,{floatingClass:"js-floating-barrage",nobleBarrageClass:"js-noblefloating-barrage",fansBarrageClass:"js-fansfloating-barrage",fansBarrageBgClass:"Barrage-listItem--floatingFansBadgeBg",floatingContainer:document.getElementById("js-floatingbarrage-container"),floatingTimer:null}),this.common.get("$DATA").subscribe(function(e){t.nobleBarrageFloatingSwitch=e.get("colligate.NobleSuspend")}),ys.a.subscribe(oa.a,function(){i.update()},!1),ys.a.subscribe(oa.d,function(){t.updateBarrageScroll(),i.update()},!1),ys.a.subscribe(oa.e,function(){t.updateBarrageScroll()},!1),ys.a.subscribe(oa.h,function(e){t.watchScroll(e)},!1))}return BarrageScroll.prototype.updateBarrageScroll=function updateBarrageScroll(){var e=this.config.scrollbar;this.barrageService.getState("isLockScreen")||e.scrollToBottom()},BarrageScroll.prototype.watchScroll=function watchScroll(){var e=this.barrageService,t=this.config.scrollbar;if(t){var r=t.getClientHeight(),i=t.getScrollHeight(),n=t.getScrollTop();parseInt(i-n-r,10)<=0?e.toggleLockScreen(!1):e.toggleLockScreen(!0),this.nobleBarrageFloatingSwitch&&this.watchNobleBarrageFloating()}},BarrageScroll.prototype.watchNobleBarrageFloating=function watchNobleBarrageFloating(){for(var e=this.config,t=e.main,r=e.list,i=e.floatingClass,n=e.fansBarrageClass,a=e.fansBarrageBgClass,o=e.floatingContainer,l=r.getElementsByClassName(i)||[],s=t.getBoundingClientRect().top,c=0;c<l.length;c++){var u=l[c];if(u){var p=u.className,f=void 0===p?"":p,d=f.split(Gs);if(!(d.indexOf(i)>-1&&u.getBoundingClientRect().top<=s))break;var b=u.cloneNode(!0);b.setAttribute("data-guid",u.id),b.id="",o.innerHTML="",d.indexOf(n)>-1&&(b.className+=" "+a),o.appendChild(b),u.className=f.replace(i+" "," "),this.startDelayRemove(b)}}},BarrageScroll.prototype.startDelayRemove=function startDelayRemove(e){e&&e.parentNode&&(clearTimeout(this.config.floatingTimer),this.config.floatingTimer=setTimeout(function(){e.parentNode.removeChild(e)},3e3))},BarrageScroll}(),Os=barrageScroll_applyDecoratedDescriptor(ws.prototype,"barrageService",[Ns],{enumerable:!0,initializer:null}),Es=barrageScroll_applyDecoratedDescriptor(ws.prototype,"global",[Ss],{enumerable:!0,initializer:null}),Ds=barrageScroll_applyDecoratedDescriptor(ws.prototype,"common",[Cs],{enumerable:!0,initializer:null}),ws),Hs=void 0,Ws=function init(e){return Hs||(Hs=new Us(e)),Hs},Vs=r("f7145"),$s=r("a04ac");function barrageTipsServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageTipsServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ks,qs,Qs,Js=(As=(0,n.a.Store)(),Is=function(e){function BarrageTipsServices(){var t,r;!function barrageTipsServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageTipsServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageTipsServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Fs,r),barrageTipsServices_possibleConstructorReturn(r,t)}return barrageTipsServices_inherits(BarrageTipsServices,e),BarrageTipsServices.prototype.updateSysTips=function updateSysTips(e){var t={tipsInfo:e,isShow:!0};this.store.dispatch(ca.updateSysTips(t))},BarrageTipsServices.prototype.hideSysTips=function hideSysTips(){this.store.dispatch(ca.hideSysTips({isShow:!1}))},BarrageTipsServices}(b.Service),Fs=function barrageTipsServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Is.prototype,"store",[As],{enumerable:!0,initializer:null}),Is),Ys=r("09473"),Xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageGeeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Zs,ec,tc,rc,ic,nc,ac,oc,lc,sc,cc,uc,pc,fc={"content-type":"application/x-www-form-urlencoded"},dc=(Ks=(0,n.a.Store)(),qs=function(e){function BarrageGeeServices(){!function barrageGeeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeServices);var t=function barrageGeeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function barrageGeeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"store",Qs,t),t.geeFn=null,t.dstUid=null,t.roomId="",t}return barrageGeeServices_inherits(BarrageGeeServices,e),BarrageGeeServices.prototype.init=function init(e){var t=this;this.dstUid=e,this.geeFn=Object(Ys.a)({geeInitParams:{isNeedCheck:!0,data:{}},xhrParams:{url:"/member/cpSecurity/check_geetest_status",data:{op_type:30}},geeOptions:{id:"BarrageGee-captcha",area:".captcha-gt"},success:function success(){t.success()},error:function error(){t.error()}})},BarrageGeeServices.prototype.show=function show(e,t){var r={dstUid:e||"",isShow:!0};this.roomId=t,this.store.dispatch(_a.showGeeTest(r))},BarrageGeeServices.prototype.close=function close(){this.store.dispatch(_a.hideGeeTest({isShow:!1}))},BarrageGeeServices.prototype.success=function success(){var e=this,t=this.getResult(),r=Xs({dst_uid:e.dstUid||"",room_id:e.roomId},t);m.httpClient.post(String,"/member/forwardmute/index",r,{headers:fc}).subscribe(function(t){var r=t.code,i=t.msg;0!==r?(p.a.error(i||"\u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38"),e.geeFn.refresh()):(e.geeFn.destroy(),e.geeFn=null,e.close())})},BarrageGeeServices.prototype.error=function error(){p.a.error("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")},BarrageGeeServices.prototype.getResult=function getResult(){var e={};return this.geeFn&&(e=this.geeFn.getGeeResult()),e},BarrageGeeServices}(b.Service),Qs=function barrageGeeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(qs.prototype,"store",[Ks],{enumerable:!0,initializer:null}),qs),bc=r("c659d"),mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function sysServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function sysServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function sysServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function sysServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function sysServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var hc,vc,gc,yc,_c,Nc,Sc,Cc=Ni.a.socketStream,wc=n.a.Service,Oc=m.DataCenter.global.get("$SYS"),Ec=(Zs=wc(m.DataCenter.acj),ec=wc(m.DataCenter.global),tc=wc(m.DataCenter.common),rc=wc(Js),ic=wc(dc),nc=wc(bc.a),ac=function(e){function SysBarrageServices(){var t,r;!function sysServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SysBarrageServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=sysServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),sysServices_initDefineProp(r,"acj",oc,r),sysServices_initDefineProp(r,"global",lc,r),sysServices_initDefineProp(r,"common",sc,r),sysServices_initDefineProp(r,"barrageTipsService",cc,r),sysServices_initDefineProp(r,"barrageGeeService",uc,r),sysServices_initDefineProp(r,"userRoleService",pc,r),sysServices_possibleConstructorReturn(r,t)}return sysServices_inherits(SysBarrageServices,e),SysBarrageServices.prototype.init=function init(e){var t=this,r=this,i=parseInt(this.global.get("USER_INFO.uid"),10);Cc.subscribe("chatres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e;return"288"===(i=Object($s.k)(i)).res||"356"===i.res?null:"363"===i.res?null:("391"===i.res&&window.loader.loadAsyncModule("accountSecurity",function(){t.common.push("securityData",{resource:1})}),i.resMsg=r.getResMsg(i.res),i.resMsg?i:null)})).subscribe(function(t){r.handle(t,e)})}),Cc.subscribe("newblackres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(t){var n=t,a=parseInt(n.ret,10),o=parseInt(Oc.owner_uid,10);if(0===a)i&&n.sid&&n.did&&o&&i===parseInt(n.sid,10)&&parseInt(n.did,10);else if(268===a)r.barrageGeeService.show(n.did,e.$ROOM.room_id);else if(4822===a)return null;return n.resMsg=r.getSysMsg(n),n})).subscribe(function(t){r.handle(t,e)})}),Cc.subscribe("gbmres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(e){var t=e,r="",i=0,n=parseInt(t.ret,10),a=t.uname||"";if(0===n)r='<span class="Barrage-notice--name">'+a+"</span>\u88ab\u5c01\u53f7";else if(208===n)r='<span class="Barrage-notice--name">'+a+"</span>\u5df2\u88ab\u5c01\u7981\u6216\u5df2\u88ab\u4e00\u952e\u5c01\u53f7";else{if(4822===n)return null;r='<span class="Barrage-notice--name">'+a+"</span>\u8fdb\u884c\u4e00\u952e\u5c01\u53f7\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+n,i=1}return mc({},t,{resMsg:{str:r,type:i}})})).subscribe(function(t){r.handle(t,e)})}),Cc.subscribe("setadminres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e,n=parseInt(i.rescode,10),a=parseInt(i.group,10),o=i.adnick;return 0!==n&&206!==n&&208!==n&&214!==n||(0===n&&t.userRoleService.setUserGroup(i.uid,{rg:i.group||1}),i.resMsg=r.getAdminMsg(n,a,o)),i})).subscribe(function(t){r.handle(t,e)})}),Cc.subscribe("error",function(t){var i=t.code;if(59===parseInt(void 0===i?0:i,10)){r.handle({type:"chatres",resMsg:{type:1,str:'\u60a8\u7684\u8d26\u53f7\u5728\u53e6\u4e00\u5730\u70b9\u767b\u5f55\uff0c\u5f39\u5e55\u8fde\u63a5\u5df2\u65ad\u5f00 <a class="js-danmu-reconnect Barrage-notice--red" style="cursor: pointer;">\u70b9\u51fb\u91cd\u65b0\u8fde\u63a5\u5f39\u5e55</a>'}},e)}}),ys.a.subscribe(oa.a,function(){r.handle({type:"chatres",resMsg:{str:"\u5df2\u6e05\u7a7a\u6240\u6709\u5f39\u5e55\u5185\u5bb9",type:2}},e)},!1),ys.a.subscribe(oa.b,function(t){if(t){var i=t.resMsg;if(i){var n={type:"chatres",resMsg:{type:0,str:i}};r.handle(n,e)}}},!1),ys.a.subscribe(oa.c,function(t){if(t){var i=t.resMsg;if(i){var n={resMsg:{type:2,str:i}};r.handle(n,e)}}},!1)},SysBarrageServices.prototype.getSysMsg=function getSysMsg(e){var t=parseInt(m.DataCenter.global.get("USER_INFO.uid"),10),r=parseInt(Oc.owner_uid,10),i="";switch(parseInt(e.ret,10)){case 0:i=e.sid===t?'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u6210\u529f\u7981\u8a00":'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u7981\u8a00",t&&e.sid&&e.did&&r&&t===parseInt(e.sid,10)&&parseInt(e.did,10);break;case 4807:case 4808:i="\u8be5\u7528\u6237\u5df2\u88ab\u7981\u8a00\u3002";break;case 264:i='\u8d35\u65cf\u7528\u6237 <span class="Barrage-notice--name">'+(e.dnic||e.did)+"</span>",i+=' \u9632\u5fa1\u4e86\u623f\u7ba1 <span class="Barrage-notice--name">'+(e.snic||e.sid)+"</span> \u7684\u7981\u8a00 ",i+='<a class="Barrage-notice--systemLink js-buy-noble" href="javascript:;">\u8d2d\u4e70\u8d35\u65cf\u9632\u5fa1\u7981\u8a00</a>'}return{str:i,type:0}},SysBarrageServices.prototype.getResMsg=function getResMsg(e){var t=ua.a.BARRAGE_ERROR,r="";return Object.keys(t).forEach(function(i){parseInt(e,10)===parseInt(i,10)&&(r=t[i])}),{str:r,type:2}},SysBarrageServices.prototype.getAdminMsg=function getAdminMsg(e,t,r){var i="",n=0;return 0===e?i=t>1?'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u4efb\u547d\u4e3a\u623f\u7ba1":'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u89e3\u9664\u623f\u7ba1\u8eab\u4efd":214===e?(i="\u623f\u7ba1\u6570\u91cf\u5df2\u8fbe\u4e0a\u9650",n=2):206===e?(i="\u975e\u6cd5\u64cd\u4f5c",n=2):208===e&&(i="\u7528\u6237\u4e0d\u5728\u623f\u95f4",n=2),{str:i,type:n}},SysBarrageServices.prototype.handle=function handle(e,t){if(e&&e.resMsg&&0!==Object.keys(e.resMsg).length){var r=e.resMsg,i=void 0===r?{}:r,n=i.type,a=void 0===n?0:n,o=i.str,l=void 0===o?"":o;2===a&&l?this.barrageTipsService.updateSysTips(l):t.barrageBase.push(e)}},SysBarrageServices}(b.Service),oc=sysServices_applyDecoratedDescriptor(ac.prototype,"acj",[Zs],{enumerable:!0,initializer:null}),lc=sysServices_applyDecoratedDescriptor(ac.prototype,"global",[ec],{enumerable:!0,initializer:null}),sc=sysServices_applyDecoratedDescriptor(ac.prototype,"common",[tc],{enumerable:!0,initializer:null}),cc=sysServices_applyDecoratedDescriptor(ac.prototype,"barrageTipsService",[rc],{enumerable:!0,initializer:null}),uc=sysServices_applyDecoratedDescriptor(ac.prototype,"barrageGeeService",[ic],{enumerable:!0,initializer:null}),pc=sysServices_applyDecoratedDescriptor(ac.prototype,"userRoleService",[nc],{enumerable:!0,initializer:null}),ac),Dc=r("878cf"),kc=r("0ec06"),jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function shieldToolServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function shieldToolServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function shieldToolServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function shieldToolServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Rc,Pc,Tc,Bc=n.a.Store,Lc=n.a.Service,zc=new ds.a,Mc=o.a.decode,Ac=Ni.a.socketStream,Ic=Ni.a.socketProxy,Fc=function setLocalStorage(e,t,r){return m.DataCenter.localStorage.set(e,t,r)},xc=function getLocalStorage(e){return m.DataCenter.localStorage.get(e)},Gc="shield_showShieldTip",Uc=null,Hc=[],Wc=!1,Vc=[106,107,108,105],$c={106:"allGift",107:"message",108:"videoBroadcast",105:"smallgift"},Kc={allGift:106,message:107,videoBroadcast:108,smallgift:105},qc=[],Qc=(hc=Bc(),vc=Lc(m.DataCenter.acj),gc=Lc(ss.a),yc=function(e){function ShieldToolServices(){var t,r;!function shieldToolServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldToolServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=shieldToolServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),shieldToolServices_initDefineProp(r,"store",_c,r),shieldToolServices_initDefineProp(r,"acj",Nc,r),shieldToolServices_initDefineProp(r,"barrageService",Sc,r),shieldToolServices_possibleConstructorReturn(r,t)}return shieldToolServices_inherits(ShieldToolServices,e),ShieldToolServices.prototype.init=function init(){this.listenMsgShield(),this.fpsMonitorSwitch=!0,this.showShieldTipCallback=null,Uc=xc(Gc);var e=this.getStorageShieldDataToNew();this.updateReducerShield(e)},ShieldToolServices.prototype.listenFPS=function listenFPS(){var e=this;return Object(Dc.timer)(3e3,500).subscribe(function(){return!!e.fpsMonitorSwitch&&(zc.fps<15&&(Hc.push(zc.fps),e.checkToShieldGiftEffect()),!1)})},ShieldToolServices.prototype.checkToShieldGiftEffect=function checkToShieldGiftEffect(){Hc&&Hc.length>=10&&!this.getShield(105)&&(this.fpsMonitorSwitch=!1,Hc=[],this.switchShield({id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269",state:0},1),this.showShieldTipCallback&&this.checkShowTip()&&(this.setShieldTipShowExpired(),this.showShieldTipCallback()))},ShieldToolServices.prototype.checkShowTip=function checkShowTip(){return!Uc||1===Uc.type&&Uc.num<2},ShieldToolServices.prototype.showShieldTip=function showShieldTip(e){"function"===typeof e&&(this.showShieldTipCallback=e)},ShieldToolServices.prototype.initShieldStatus=function initShieldStatus(){var e=this.getStorageShieldDataToNew();Hc=[],zc.start(),this.listenFPS(),this.getShield(105)&&(this.fpsMonitorSwitch=!1),this.sendFlashShield(e,2)},ShieldToolServices.prototype.getStorageShieldDataToNew=function getStorageShieldDataToNew(){var e=xc("chat-shield-config"),t=e&&"string"===typeof e?b.GSON.parse(e):{},r=this.shieldConfigToNew(t),i=Ko;return r&&(i=r),this.getToShieldData(i)},ShieldToolServices.prototype.setToShieldData=function setToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(r){e[r]&&(t[r]=parseInt(e[r].state,10)||0)}),t},ShieldToolServices.prototype.getToShieldData=function getToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys($o).forEach(function(r){t[r]=Object.assign({},$o[r],{state:parseInt(e[r],10)||0})}),t},ShieldToolServices.prototype.sendCPPShieldData=function sendCPPShieldData(e){qc=e,Ic.isSocketReady?(Ic.sendMessage({type:"dmfbdreq",dfl:e}),Ic.sendMessage({type:"dmfbdreq",dfl:e},kc.e.barrage)):Wc||(Wc=!0,Ac.subscribe("socket_ready",function(){Ic.sendMessage({type:"dmfbdreq",dfl:qc}),Ic.sendMessage({type:"dmfbdreq",dfl:qc},kc.e.barrage)}))},ShieldToolServices.prototype.sendFlashShield=function sendFlashShield(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e||{},i=b.GSON.stringify($o),n=b.GSON.parse(i),a={},o=[];Object.keys(n).forEach(function(e){if(n[e]&&999!==n[e].id){var t=r[e]||{};a[n[e].type]=t.state?1:0,o.push({sn:t.id,ss:t.state?1:0})}}),this.acj.push(bn.c.JS_SHIELDEFFECTS,a),2!==t&&this.sendCPPShieldData(o)},ShieldToolServices.prototype.listenMsgShield=function listenMsgShield(){var e=this,t=b.GSON.stringify($o);Ac.subscribe("dmfbdres",function(r){var i=Object.assign({},b.GSON.parse(t));if(r.dfl){var n={};Mc(r.dfl).forEach(function(e){var t=Mc(e);n[t.sn]=parseInt(t.ss,10),i[t.sn]&&(i[t.sn].state=parseInt(t.ss,10)?1:0)})}var a=0,o=i[999];Object.keys(i).forEach(function(e){"allShield"!==i[e].type&&1===i[e].state&&(a+=1)}),o.state=4===a?1:a>0&&a<4?2:0,e.updateReducerShield(i)}),this.acj.get(bn.d.ROOM_DATA_SHIELD_EFFECT).subscribe(function(t){var r=t||{},i=[];Object.keys(Kc).forEach(function(e){"smallgift"===e?i.push({sn:Kc[e],ss:+r.smallGift?1:0}):i.push({sn:Kc[e],ss:+r[e]?1:0})}),e.acj.push(bn.c.JS_SHIELDEFFECTS,r),e.sendCPPShieldData(i)}),this.acj.get(bn.d.ROOM_PLAYER_READY).subscribe(function(){e.initShieldStatus()})},ShieldToolServices.prototype.switchShield=function switchShield(e,t){var r=this.getToShieldData(this.store.getState().shieldConfig);if("allShield"===e.type){var i=[],n={},a=[];Object.keys(r).forEach(function(t){r[t].id&&(i.push({sn:r[t].id,ss:e.state?0:1}),n[t]=Object.assign({},r[t],{state:e.state?0:1}),e.state&&r[t].state&&999!==r[t].id?a.push(Vc.indexOf(r[t].id)+1):e.state||r[t].state||999===r[t].id||a.push(Vc.indexOf(r[t].id)+1))}),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:a.join(",")}):this.DYSub("click_shield_gift_select",{shield_sel:a.join(",")}),this.sendFlashShield(n)}else this.sendCPPShieldData([{sn:e.id,ss:e.state?0:1}]),r[e.id]&&(r[e.id].state=e.state?0:1),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:Vc.indexOf(e.id)+1}):this.DYSub("click_shield_gift_select",{shield_sel:Vc.indexOf(e.id)+1}),this.sendFlashShield(r,2);1!==t&&this.showShieldMsg(e),this.store.dispatch(qo.switchShield(e))},ShieldToolServices.prototype.showShieldMsg=function showShieldMsg(e){var t=null;switch(e.type){case"allShield":t=e.state?"\u5df2\u5f00\u542f\u5168\u90e8\u7279\u6548":"\u5df2\u5c4f\u853d\u5168\u90e8\u7279\u6548";break;case"allGift":t=e.state?"\u5df2\u5f00\u542f\u5168\u90e8\u793c\u7269\u4fe1\u606f":"\u5df2\u5c4f\u853d\u5168\u90e8\u793c\u7269\u4fe1\u606f";break;case"message":t=e.state?"\u5df2\u5f00\u542f\u4fe1\u606f\u901a\u77e5\u5f39\u5e55":"\u5df2\u5c4f\u853d\u4fe1\u606f\u901a\u77e5\u5f39\u5e55";break;case"videoBroadcast":t=e.state?"\u5df2\u5f00\u542f\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad":"\u5df2\u5c4f\u853d\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad";break;case"smallGift":t=e.state?"\u5df2\u5f00\u542f\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55":"\u5df2\u5c4f\u853d\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55"}t&&this.barrageService.receiveSysTipsMsg({resMsg:t})},ShieldToolServices.prototype.updateReducerShield=function updateReducerShield(e){var t=this.setToShieldData(e),r=b.GSON.stringify(this.shieldConfigToOld(t));Fc("chat-shield-config",r),m.DataCenter.global.set("shield_setConfig",t),this.store.dispatch(qo.updateShield(t))},ShieldToolServices.prototype.setShieldTipShowExpired=function setShieldTipShowExpired(e){var t=new Date,r=xc(Gc);return 2===e?(Uc={num:r?r.num:1,type:2,endTimes:t.getTime()+432e5},Fc(Gc,Uc,604800-(3600*t.getHours()+60*t.getMinutes()+t.getSeconds()))):r?(Uc={num:3===e?r.num:2,type:1,endTimes:t.getTime()+432e5},Fc(Gc,Uc,43200-parseInt((r.endTimes-t.getTime())/1e3,10))):(Uc={num:1,type:1,endTimes:t.getTime()+432e5},Fc(Gc,Uc,43200))},ShieldToolServices.prototype.getShield=function getShield(e){var t=(this.store.getState()||{}).shieldConfig;return e?t[e]||0:t},ShieldToolServices.prototype.shieldConfigToOld=function shieldConfigToOld(e){var t={allGift:0,message:0,videoBroadcast:0,smallgift:0};return e&&Object.keys(t).forEach(function(r){var i=Kc[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.shieldConfigToNew=function shieldConfigToNew(e){var t={106:0,107:0,108:0,105:0};return e&&Object.keys(t).forEach(function(r){var i=$c[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.DYSub=function DYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(pr.dysub)(e,jc({},t))},ShieldToolServices}(b.Service),_c=shieldToolServices_applyDecoratedDescriptor(yc.prototype,"store",[hc],{enumerable:!0,initializer:null}),Nc=shieldToolServices_applyDecoratedDescriptor(yc.prototype,"acj",[vc],{enumerable:!0,initializer:null}),Sc=shieldToolServices_applyDecoratedDescriptor(yc.prototype,"barrageService",[gc],{enumerable:!0,initializer:null}),yc);function superServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function superServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jc,Yc,Xc,Zc,eu,tu=Ni.a.socketStream,ru=(Rc=(0,n.a.Service)(Qc),Pc=function(e){function SuperServices(){var t,r;!function superServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=superServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function superServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Tc,r),superServices_possibleConstructorReturn(r,t)}return superServices_inherits(SuperServices,e),SuperServices.prototype.init=function init(e){var t=this;tu.subscribe("ssd",function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){return t.shieldToolService.getShield(107)?null:e})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},SuperServices}(b.Service),Tc=function superServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Pc.prototype,"shieldToolService",[Rc],{enumerable:!0,initializer:null}),Pc);function athenaServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function athenaServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function athenaServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function athenaServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function athenaServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var iu,nu,au,ou=n.a.Service,lu=0,su=[],cu=void 0,uu=(Jc=ou(m.DataCenter.acj),Yc=ou(Qc),Xc=function(e){function AthenaServices(){var t,r;!function athenaServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AthenaServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=athenaServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),athenaServices_initDefineProp(r,"acj",Zc,r),athenaServices_initDefineProp(r,"shieldToolService",eu,r),athenaServices_possibleConstructorReturn(r,t)}return athenaServices_inherits(AthenaServices,e),AthenaServices.prototype.init=function init(e){this.cateId=e.$ROOM.cate_id,this.roomId=e.$ROOM.room_id,this.athenaSwitch=e.$COLLIGATE.athena_switch||{},this.distributeBarrage(),this.listenBarrage(e)},AthenaServices.prototype.distributeBarrage=function distributeBarrage(){var e=this.athenaSwitch.sdm||0;100*Math.random()<e&&this.loadDistributeInfo()},AthenaServices.prototype.listenBarrage=function listenBarrage(e){var t=this,r=this;this.acj.get(bn.d.ROOM_PLAYER_READY).subscribe(function(){r.flashReady()}),this.acj.get(bn.d.ROOM_DATA_ATHENA_SUPERMSG).subscribe(function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){if(t.shieldToolService.getShield(107))return null;var r=e;return r.type="athena",r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},AthenaServices.prototype.isReverse=function isReverse(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(n)try{var a=JSON.parse(n);a.isReverse=a.remark-1,t.push(a)}catch(e){}}return t},AthenaServices.prototype.loadDistributeInfo=function loadDistributeInfo(){var e=this,t=this.cateId,r=this.roomId;return m.httpClient.get(String,"lapi/athena/room/barrage",{t:(new Date).getTime(),roomId:r,cid:t}).subscribe(function(t){if(0===t.error&&t.data&&t.data instanceof Array){var r=t.data.length>0?e.isReverse(t.data):[];lu?e.distributeBarrageByQueue(r):su=r}else e.distributeBarrageByQueue([])})},AthenaServices.prototype.flashReady=function flashReady(){lu||this.distributeBarrageByQueue(su),lu=1},AthenaServices.prototype.distributeBarrageByQueue=function distributeBarrageByQueue(e){var t=this;clearTimeout(cu);var r=this.athenaSwitch.lmt||60;if(r*=1e3,e&&0!==e.length){var i=e.shift();this.acj.push(bn.c.JS_SEND_SUPER_DANMU,i),cu=setTimeout(function(){t.distributeBarrageByQueue(e)},r)}else cu=setTimeout(function(){t.loadDistributeInfo()},6e4)},AthenaServices}(b.Service),Zc=athenaServices_applyDecoratedDescriptor(Xc.prototype,"acj",[Jc],{enumerable:!0,initializer:null}),eu=athenaServices_applyDecoratedDescriptor(Xc.prototype,"shieldToolService",[Yc],{enumerable:!0,initializer:null}),Xc);function fishBallServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fishBallServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fishBallServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pu,fu,du,bu,mu,hu,vu,gu,yu,_u,Nu,Su,Cu,wu,Ou,Eu=Ni.a.socketStream,Du=(iu=(0,n.a.Service)(Qc),nu=function(e){function FishBallServices(){var t,r;!function fishBallServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FishBallServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fishBallServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function fishBallServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",au,r),fishBallServices_possibleConstructorReturn(r,t)}return fishBallServices_inherits(FishBallServices,e),FishBallServices.prototype.init=function init(e){var t=this;Eu.subscribe("clubreward",function(r){var i=m.DataCenter.global.get("USER_INFO.nickname");r.unick!==i&&t.shieldToolService.getShield(105)||r&&0!==Object.keys(r).length&&e.barrageBase.push(r)})},FishBallServices}(b.Service),au=function fishBallServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(nu.prototype,"shieldToolService",[iu],{enumerable:!0,initializer:null}),nu);function WeekRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function WeekRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function WeekRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function WeekRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function WeekRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ku,ju,Ru,Pu,Tu,Bu,Lu,zu,Mu,Au,Iu,Fu,xu,Gu,Uu,Hu=m.basicTypes.string,Wu=(pu=(0,m.basicTypes.mapping)({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",nobleLevel:"ne",userLevel:"level",trend:"rs",trendRank:"lrk",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ee.log)(fu=pu((du=function(e){function WeekRankDto(){var t,r;!function WeekRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WeekRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=WeekRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),WeekRankDto_initDefineProp(r,"uid",bu,r),WeekRankDto_initDefineProp(r,"nickName",mu,r),WeekRankDto_initDefineProp(r,"avatar",hu,r),WeekRankDto_initDefineProp(r,"nobleLevel",vu,r),WeekRankDto_initDefineProp(r,"userLevel",gu,r),WeekRankDto_initDefineProp(r,"trend",yu,r),WeekRankDto_initDefineProp(r,"trendRank",_u,r),WeekRankDto_initDefineProp(r,"gold",Nu,r),WeekRankDto_initDefineProp(r,"isShowSuperIcon",Su,r),WeekRankDto_initDefineProp(r,"isInvisible",Cu,r),WeekRankDto_initDefineProp(r,"groupId",wu,r),WeekRankDto_initDefineProp(r,"rg",Ou,r),WeekRankDto_possibleConstructorReturn(r,t)}return WeekRankDto_inherits(WeekRankDto,e),WeekRankDto}(m.EntityDto),bu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"uid",[Hu],{enumerable:!0,initializer:null}),mu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"nickName",[Hu],{enumerable:!0,initializer:null}),hu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"avatar",[Hu],{enumerable:!0,initializer:null}),vu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"nobleLevel",[Hu],{enumerable:!0,initializer:null}),gu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"userLevel",[Hu],{enumerable:!0,initializer:null}),yu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"trend",[Hu],{enumerable:!0,initializer:null}),_u=WeekRankDto_applyDecoratedDescriptor(du.prototype,"trendRank",[Hu],{enumerable:!0,initializer:null}),Nu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"gold",[Hu],{enumerable:!0,initializer:null}),Su=WeekRankDto_applyDecoratedDescriptor(du.prototype,"isShowSuperIcon",[Hu],{enumerable:!0,initializer:null}),Cu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"isInvisible",[Hu],{enumerable:!0,initializer:null}),wu=WeekRankDto_applyDecoratedDescriptor(du.prototype,"groupId",[Hu],{enumerable:!0,initializer:null}),Ou=WeekRankDto_applyDecoratedDescriptor(du.prototype,"rg",[Hu],{enumerable:!0,initializer:null}),fu=du))||fu)||fu);function MonthRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MonthRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MonthRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MonthRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MonthRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Vu,$u,Ku,qu,Qu,Ju,Yu,Xu,Zu,ep,tp,rp=m.basicTypes.string,ip=m.basicTypes.mapping,np=m.basicTypes.optional,ap=(ku=ip({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",avatarRl:"iconrl",nobleLevel:"ne",userLevel:"level",trend:"rs",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ee.log)(ju=ku((Ru=function(e){function MonthRankDto(){var t,r;!function MonthRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MonthRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MonthRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MonthRankDto_initDefineProp(r,"uid",Pu,r),MonthRankDto_initDefineProp(r,"nickName",Tu,r),MonthRankDto_initDefineProp(r,"avatar",Bu,r),MonthRankDto_initDefineProp(r,"avatarRl",Lu,r),MonthRankDto_initDefineProp(r,"nobleLevel",zu,r),MonthRankDto_initDefineProp(r,"userLevel",Mu,r),MonthRankDto_initDefineProp(r,"trend",Au,r),MonthRankDto_initDefineProp(r,"gold",Iu,r),MonthRankDto_initDefineProp(r,"isShowSuperIcon",Fu,r),MonthRankDto_initDefineProp(r,"isInvisible",xu,r),MonthRankDto_initDefineProp(r,"groupId",Gu,r),MonthRankDto_initDefineProp(r,"rg",Uu,r),MonthRankDto_possibleConstructorReturn(r,t)}return MonthRankDto_inherits(MonthRankDto,e),MonthRankDto}(m.EntityDto),Pu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"uid",[rp],{enumerable:!0,initializer:null}),Tu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"nickName",[rp],{enumerable:!0,initializer:null}),Bu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"avatar",[rp],{enumerable:!0,initializer:null}),Lu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"avatarRl",[np,rp],{enumerable:!0,initializer:null}),zu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"nobleLevel",[rp],{enumerable:!0,initializer:null}),Mu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"userLevel",[rp],{enumerable:!0,initializer:null}),Au=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"trend",[rp],{enumerable:!0,initializer:null}),Iu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"gold",[rp],{enumerable:!0,initializer:null}),Fu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"isShowSuperIcon",[rp],{enumerable:!0,initializer:null}),xu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"isInvisible",[rp],{enumerable:!0,initializer:null}),Gu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"groupId",[rp],{enumerable:!0,initializer:null}),Uu=MonthRankDto_applyDecoratedDescriptor(Ru.prototype,"rg",[rp],{enumerable:!0,initializer:null}),ju=Ru))||ju)||ju),op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function chatRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var lp,sp,cp,up,pp,fp,dp,bp=n.a.Store,mp=Ni.a.socketStream,hp=Ni.a.socketProxy,vp=n.a.Service,gp=(Vu=vp(m.DataCenter.global),$u=vp(m.DataCenter.localStorage),Ku=vp(m.DataCenter.common),qu=vp(bc.a),Qu=bp(),Ju=function(e){function ChatRankServices(){var t,r;!function chatRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatRankServices_initDefineProp(r,"global",Yu,r),chatRankServices_initDefineProp(r,"localStorage",Xu,r),chatRankServices_initDefineProp(r,"common",Zu,r),chatRankServices_initDefineProp(r,"userRoleService",ep,r),chatRankServices_initDefineProp(r,"store",tp,r),chatRankServices_possibleConstructorReturn(r,t)}return chatRankServices_inherits(ChatRankServices,e),ChatRankServices.prototype.initSocket=function initSocket(){var e=this;this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.get("room"),e.setAboutConfig(),e.checkRankSwitch(),e.weekRank()})},ChatRankServices.prototype.weekRank=function weekRank(){var e=this,t=this;mp.subscribe("ranklist",function(r){var i=r.list||[],n=r.list_all||[],a=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),Wu.fromJSON(t)}),o=n.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),Wu.fromJSON(t)});e.store.dispatch(za.receiveWeekRank(t.handleRankData(a))),e.store.dispatch(Ho.receiveAllRank(t.handleRankData(o)))}),mp.subscribe("umrtpgb",function(r){var i=(r.list||[]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),ap.fromJSON(t)});e.store.dispatch(Ho.receiveMonthRank(t.handleRankData(i,"month")))});var r={type:"qrl",et:0,rid:this.global.get("$ROOM.room_id")};mp.subscribe("socket_ready",function(){hp.sendMessage(r)})},ChatRankServices.prototype.findUpdateList=function findUpdateList(){this.socket.emit("contributionRankUpDate",1)},ChatRankServices.prototype.openRankAll=function openRankAll(){this.store.dispatch(Ho.openAllRank(!0))},ChatRankServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(Ho.openAllRank(!1))},ChatRankServices.prototype.handleRankData=function handleRankData(e,t){var r,i=this.defaultConfig.maxListLength,n=this.defaultConfig.maxMonthLength,a=e||[],o=0,l=null,s=[],c=this.global.get("USER_INFO.uid");for(r=(a="month"===t?a.slice(0,n):a.slice(0,i)).length;o<r;o++)(l=a[o])&&(l.isShowMedal=!0,String(c)===String(l.uid)?l.isOwn=!0:l.isOwn=!1,+l.isInvisible&&(l.isOwn||this.UserRole.isAnchor||this.UserRole.isSuper?(l.isShowInvisible=!0,l.isShowMedal=!0,"month"===t&&l.avatarRl&&(l.avatar=l.avatarRl)):("month"===t&&(l.nickName="\u795e\u79d8\u4eba"),l.isShowMedal=!1)),l.trend=this.setTrend(l.trend),l.trendRank>=1&&l.trendRank<=i?l.trendTitle="\u4e4b\u524d\u6392\u540d\u7b2c"+l.trendRank+"\u4f4d":l.trendTitle="\u4e4b\u524d\u672a\u4e0a\u699c","month"===t&&(l.trendTitle=""),l.gold=l.gold?l.gold/100:0,l.gold>=1e6?l.fgold=this.formatNumber({number:l.gold,unit:"\u4e07"}):l.fgold=l.gold,s.push(l));return s},ChatRankServices.prototype.setTrend=function setTrend(e){switch(parseInt(e,10)){case 1:return"rankUp";case-1:return"rankDown";case 0:return"rankNormal";default:return!1}},ChatRankServices.prototype.setAboutConfig=function setAboutConfig(){var e=this.global,t=this.$ROOM;this.UserRole={isAnchor:String(e.get("USER_INFO.uid"))===String(t.owner_uid),isSuper:5===parseInt(e.get("USER_INFO.groupId"),10)},this.defaultConfig={isFaceScore:t.isVertical||0,maxUserLevel:120,maxListLength:10,maxMonthLength:50},this.store.dispatch(za.getUserRole(this.UserRole)),this.store.dispatch(za.setDeafultConfig(this.defaultConfig)),this.store.dispatch(Ho.setDeafultConfig(this.defaultConfig))},ChatRankServices.prototype.checkRankSwitch=function checkRankSwitch(){var e=this,t=this.global,r=this.$ROOM,i=t.get("$SYS.webconfUrl"),n=r.cate_id,a=i+"/resource/common/gxrsw/web.json";m.jsonpClient.get(String,a,"rankAllSwitch").subscribe(function(t){if(t&&0===+t.error){var r=t.data?JSON.parse(t.data):"",i=r.sw||{},a=+(r.month||{})[n],o=+i[n];e.store.dispatch(za.receiveAllRankSwitch(o)),e.store.dispatch(za.receiveMonthRankSwitch(a))}})},ChatRankServices.prototype.notifyIsCloseAllRank=function notifyIsCloseAllRank(){return(this.store.getState()||{}).chatRank.isCloseAllRank},ChatRankServices.prototype.formatNumber=function formatNumber(e){var t=0,r=e.unit||"";switch(r){case"\u5343\u4e07":t=1e7;break;case"\u767e\u4e07":case"t":case"T":t=1e6;break;case"\u4e07":t=1e4;break;case"\u5343":case"k":case"K":t=1e3;break;case"\u767e":t=100}return parseFloat(Number(e.number)||0/t).toFixed(e.precision||0)+(e.isUnit?r:"")},ChatRankServices.prototype.setDYSub=function setDYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(pr.dysub)(e,op({},t))},ChatRankServices}(b.Service),Yu=chatRankServices_applyDecoratedDescriptor(Ju.prototype,"global",[Vu],{enumerable:!0,initializer:null}),Xu=chatRankServices_applyDecoratedDescriptor(Ju.prototype,"localStorage",[$u],{enumerable:!0,initializer:null}),Zu=chatRankServices_applyDecoratedDescriptor(Ju.prototype,"common",[Ku],{enumerable:!0,initializer:null}),ep=chatRankServices_applyDecoratedDescriptor(Ju.prototype,"userRoleService",[qu],{enumerable:!0,initializer:null}),tp=chatRankServices_applyDecoratedDescriptor(Ju.prototype,"store",[Qu],{enumerable:!0,initializer:null}),Ju),yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function rankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function rankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function rankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function rankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _p,Np,Sp,Cp,wp,Op=Ni.a.socketStream,Ep=n.a.Service,Dp=(lp=(0,n.a.Store)(),sp=Ep(Qc),cp=Ep(gp),up=function(e){function RankServices(){var t,r;!function rankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=rankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),rankServices_initDefineProp(r,"store",pp,r),rankServices_initDefineProp(r,"shieldToolService",fp,r),rankServices_initDefineProp(r,"chatRankService",dp,r),r.MaxListNum=10,rankServices_possibleConstructorReturn(r,t)}return rankServices_inherits(RankServices,e),RankServices.prototype.initRankUpdate=function initRankUpdate(e){var t=this,r=this,i=m.DataCenter.global.get("USER_INFO.uid");Op.subscribe("rankup",function(n){if((parseInt(n.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(107))&&(2!==parseInt(n.rkt,10)||!t.chatRankService.notifyIsCloseAllRank())&&n&&0!==Object.keys(n).length){if(parseInt(n.rn,10)>r.MaxListNum)return;var a=r.getNickName(n);e.barrageBase.push(yp({},n,{nickName:a}))}})},RankServices.prototype.initRankGap=function initRankGap(e){var t=this;Op.subscribe("notify_cgap",function(r){if(r&&0!==Object.keys(r).length){var i=parseInt(r.nz,10),n=parseInt(r.urn,10);if(1!==i&&3!==i)return;if(n>t.MaxListNum)return;e.barrageBase.push(r)}})},RankServices.prototype.getNickName=function getNickName(e){var t=e.nk,r=parseInt(e.ih,10),i=this.store.getState().userRoleData,n=i.isAnchor,a=i.isSuperAdmin,o=m.DataCenter.global.get("USER_INFO.uid");return r&&(n||a||parseInt(o,10)===parseInt(e.uid,10))&&(t=e.nk+"(\u5df2\u9690\u8eab)"),t},RankServices}(b.Service),pp=rankServices_applyDecoratedDescriptor(up.prototype,"store",[lp],{enumerable:!0,initializer:null}),fp=rankServices_applyDecoratedDescriptor(up.prototype,"shieldToolService",[sp],{enumerable:!0,initializer:null}),dp=rankServices_applyDecoratedDescriptor(up.prototype,"chatRankService",[cp],{enumerable:!0,initializer:null}),up),kp=r("ed531"),jp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function levelUpServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function levelUpServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function levelUpServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function levelUpServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function levelUpServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Rp,Pp,Tp,Bp=Ni.a.socketStream,Lp=n.a.Service,zp=(_p=Lp(d.a),Np=Lp(Qc),Sp=function(e){function LevelUpServices(){var t,r;!function levelUpServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelUpServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=levelUpServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),levelUpServices_initDefineProp(r,"medalOperatService",Cp,r),levelUpServices_initDefineProp(r,"shieldToolService",wp,r),levelUpServices_possibleConstructorReturn(r,t)}return levelUpServices_inherits(LevelUpServices,e),LevelUpServices.prototype.initUserLevelUp=function initUserLevelUp(e){var t=this,r=m.DataCenter.global.get("USER_INFO.uid");Bp.subscribe("upgrade",function(i){if((parseInt(i.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&i&&0!==Object.keys(i).length){if((i.level?i.level:0)%20!==0)return;e.barrageBase.push(jp({},i,{isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))}})},LevelUpServices.prototype.initFansLevelUp=function initFansLevelUp(e){var t=this,r=m.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.room_id;Bp.subscribe("blab",function(n){Object(s.of)(n).pipe(Object(c.map)(function(e){var i=parseInt(e.ba,10),n=null;return parseInt(e.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)?null:("blab"!==e.type||1!==i&&3!==i||(n=e),jp({},n))}),Object(kp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.medalOperatService.getConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var r={};if(e){var i=e[0];if(i&&0!==Object.keys(i).length){var n=e[1].data,a={name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"};(r=i).fansMedal={medalBgOptions:t.medalOperatService.handleMedalOptions(a,n),name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"}}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(jp({},t,{curRoomId:i}))})})},LevelUpServices.prototype.initAnchorLevelUp=function initAnchorLevelUp(e){Bp.subscribe("upbc",function(t){var r=m.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(jp({},t,{ownerName:n}))})},LevelUpServices.prototype.initAnchorLevelDown=function initAnchorLevelDown(e){Bp.subscribe("dgbc",function(t){var r=m.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(jp({},t,{ownerName:n}))})},LevelUpServices}(b.Service),Cp=levelUpServices_applyDecoratedDescriptor(Sp.prototype,"medalOperatService",[_p],{enumerable:!0,initializer:null}),wp=levelUpServices_applyDecoratedDescriptor(Sp.prototype,"shieldToolService",[Np],{enumerable:!0,initializer:null}),Sp);function videoServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function videoServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function videoServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Mp=Ni.a.socketStream,Ap=(Rp=(0,n.a.Service)(Qc),Pp=function(e){function VideoServices(){var t,r;!function videoServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=videoServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function videoServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Tp,r),videoServices_possibleConstructorReturn(r,t)}return videoServices_inherits(VideoServices,e),VideoServices.prototype.init=function init(e){var t=this,r=parseInt(m.DataCenter.global.get("USER_INFO.uid"),10);Mp.subscribe("redirect",function(t){var r=t;if(r&&0!==Object.keys(r).length){if("redirect"!==r.type||"wdf_video"!==r.msgtype)return;r.senderId=e.$ROOM.owner_uid,r.senderNick=e.$ROOM.owner_name,e.barrageBase.push(r)}}),Mp.subscribe("srres",function(i){parseInt(i.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)||i&&0!==Object.keys(i).length&&e.barrageBase.push(i)})},VideoServices}(b.Service),Tp=function videoServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Pp.prototype,"shieldToolService",[Rp],{enumerable:!0,initializer:null}),Pp),Ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function guessServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fp=Ni.a.socketStream,xp=o.a.decode,Gp=o.a.isArray,Up=function(e){function GuessServices(){var t,r;!function guessServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=guessServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.defaultAvatar="//teststatic.dz11.com/app/douyu/res/com/defaultAvatar.png?20161229",r.avatarDomain="https://apic.douyucdn.cn/",guessServices_possibleConstructorReturn(r,t)}return guessServices_inherits(GuessServices,e),GuessServices.prototype.init=function init(e){Fp.subscribe("qzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(Gp(r)?xp(r):[r]).map(function(e){return Ip({type:t.type},xp(e))});e.barrageBase.push(i)}})},GuessServices}(b.Service),Hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessTicketServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessTicketServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Wp,Vp,$p,Kp=Ni.a.socketStream,qp=o.a.decode,Qp=o.a.isArray,Jp=function(e){function GuessTicketServices(){return function guessTicketServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessTicketServices),function guessTicketServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return guessTicketServices_inherits(GuessTicketServices,e),GuessTicketServices.prototype.init=function init(e){Kp.subscribe("tkqzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(Qp(r)?qp(r):[r]).map(function(e){return Hp({type:t.type},qp(e))});e.barrageBase.push(i)}})},GuessTicketServices}(b.Service);function BroadCastDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BroadCastDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BroadCastDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Yp,Xp,Zp,ef=m.basicTypes.string,tf=Object(ee.log)((Vp=function(e){function BroadCastDto(){var t,r;!function BroadCastDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadCastDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BroadCastDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BroadCastDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"title",$p,r),BroadCastDto_possibleConstructorReturn(r,t)}return BroadCastDto_inherits(BroadCastDto,e),BroadCastDto}(m.EntityDto),$p=function BroadCastDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Vp.prototype,"title",[ef],{enumerable:!0,initializer:null}),Wp=Vp))||Wp,rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function broadcastServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function broadcastServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function broadcastServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nf=n.a.Service,af=Ni.a.socketStream,of=o.a.decode,lf=(Yp=nf(m.DataCenter.acj),Xp=function(e){function BroadcastServices(){var t,r;!function broadcastServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadcastServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=broadcastServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function broadcastServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"acj",Zp,r),broadcastServices_possibleConstructorReturn(r,t)}return broadcastServices_inherits(BroadcastServices,e),BroadcastServices.prototype.init=function init(e){var t=this;af.subscribe("gbroadcast",function(r){var i=r||{};Object(s.of)(i).pipe(Object(c.map)(function(e){var t=e,r=parseInt(t.ft,10),i={};return 1===r?i=JSON.parse(t.gbcc):2===r&&(i=of(t.gbcc)),11===i.gbcss&&rf({},t,{boardCast:i})}),Object(kp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.loadBroadCastData()):Object(s.of)(null)}),Object(c.map)(function(e){var t={};if(e){var r=e[0];if(r&&0!==Object.keys(r).length){var i=e[1].data,n=r.boardCast;i&&n.param_v2&&i[n.param_v2]&&(t.title=i[n.param_v2].title||""),t.rid=n.rid,t.onn=n.onn,t.type="gbroadcast"}}return t})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},BroadcastServices.prototype.loadBroadCastData=function loadBroadCastData(){return m.jsonpClient.get(Object(m.Dictionary)(tf),"//webconf.douyucdn.cn//resource/common/privilege_broadcast/broadcast.json","privilegeBroadcasConfig")},BroadcastServices}(b.Service),Zp=function broadcastServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Xp.prototype,"acj",[Yp],{enumerable:!0,initializer:null}),Xp);function firstChargeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function firstChargeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sf=Ni.a.socketStream,cf=function(e){function FirstChargeServices(){return function firstChargeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirstChargeServices),function firstChargeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return firstChargeServices_inherits(FirstChargeServices,e),FirstChargeServices.prototype.init=function init(e){sf.subscribe("frb",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},FirstChargeServices}(b.Service);function spreadServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function spreadServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uf=Ni.a.socketStream,pf=function(e){function SpreadServices(){return function spreadServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpreadServices),function spreadServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return spreadServices_inherits(SpreadServices,e),SpreadServices.prototype.init=function init(e){uf.subscribe("npue",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},SpreadServices}(b.Service);function lotteryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lotteryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ff=Ni.a.socketStream,df=function(e){function lotteryServices(){return function lotteryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,lotteryServices),function lotteryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lotteryServices_inherits(lotteryServices,e),lotteryServices.prototype.init=function init(e){ff.subscribe("ldn",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},lotteryServices}(b.Service);function drawBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function drawBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bf,mf,hf,vf=Ni.a.socketStream,gf=function(e){function DrawBarrageServices(){return function drawBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DrawBarrageServices),function drawBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return drawBarrageServices_inherits(DrawBarrageServices,e),DrawBarrageServices.prototype.init=function init(e){var t=this;vf.subscribe("lds",function(r){t.handle(r,e)}),vf.subscribe("lds_v2",function(r){t.handle(r,e)}),vf.subscribe("lde",function(r){t.handle(r,e)}),vf.subscribe("lde_v2",function(r){t.handle(r,e)})},DrawBarrageServices.prototype.handle=function handle(e,t){var r=this,i=null;if(e&&e.type)switch(e.type){case"lds":case"lds_v2":var n=t.$ROOM.owner_name||"";i={type:e.type,anchorName:n};break;case"lde":case"lde_v2":var a=JSON.parse(e.win_list),o=e.prize_name,l=a.length,s=m.DataCenter.global.get("USER_INFO.uid"),c=t.$ROOM.owner_uid,u=!1;if(+s===+c&&(u=!0),l){var p=l>10?a.slice(0,10):a,f="";p.forEach(function(e,t){var i=r.getUserStarNickName(e.nickname,u,+e.uid===+s);f+=i,t<p.length-1&&(f+="\u3001")}),i={type:e.type,nickName:f,len:a.length,prize:o}}else u&&(i={type:e.type,len:0})}i&&0!==Object.keys(i).length&&t.barrageBase.push(i)},DrawBarrageServices.prototype.getUserStarNickName=function getUserStarNickName(e,t,r){if(t||r)return e;var i=e,n=e.length,a="";if(n<5){for(var o=1;o<n;o++)a+="*";i=i.substring(0,1)+a}else i=i.substring(0,1)+"***"+i.substring(4,n);return i},DrawBarrageServices}(b.Service),yf=r("b3089"),_f=r("a07af"),Nf=r("620ed"),Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function enterEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Cf,wf,Of,Ef,Df,kf,jf,Rf,Pf,Tf,Bf,Lf=n.a.Store,zf=Ni.a.socketStream,Mf=(bf=Lf(),mf=function(e){function EnterEffectServices(){var t,r;!function enterEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",hf,r),enterEffectServices_possibleConstructorReturn(r,t)}return enterEffectServices_inherits(EnterEffectServices,e),EnterEffectServices.prototype.init=function init(){var e=this;zf.subscribe("clubcall",function(t){e.store.dispatch(Co.receiveMotorcadeEnter(t))})},EnterEffectServices.prototype.handlerEnterData=function handlerEnterData(e,t){var r=this,i=Sf({},e),n=i.el,a=i.ceid,o=i.nl,l=[1500000263,1500000264,1500000265,1500000279];if(n&&this.processArrData(e.el).some(function(t){var i=t||{},n=i.etp,a=i.ef,o=Sf({},e,{el:t});return 2===+n&&1===+a&&(r.store.dispatch(Co.receiveNormalEnter(o)),!0)}))return!0;if(a)return this.store.dispatch(Co.receiveLevel120Enter(e)),!0;if(n&&this.processArrData(e.el).some(function(t){var i=(t||{}).eid,n=Sf({},e,{el:t});return l.some(function(e){return+i===e&&(r.store.dispatch(Co.receiveSharkEnter(n)),!0)})}))return!0;if(n&&t.cateVaLid&&this.processArrData(e.el).some(function(i){if(+(i||{}).eid===+t.effect_id){var n=["duke","king","emperor"],a={enterBg:t.effect_url||"",wText:t.welcome_text||"",nColor:t.normal_color||"#111",nkColor:t.normal_nn_color||"#111"};o>3&&7!==+o&&(a={enterBg:t[n[+o-4]+"_pic"]||t.effect_url||"",wText:t.welcome_text||"",nColor:t[n[+o-4]+"_color"]||t.normal_color||"#111",nkColor:t[n[+o-4]+"_nn_color"]||t.normal_nn_color||"#111"});var l=Sf({},e,{el:i,wcConfig:a});return r.store.dispatch(Co.receiveWindCloudEnter(l)),!0}return!1}))return!0;return o>3&&7!==+o&&(this.store.dispatch(Co.receiveNobleEnter(e)),!0)},EnterEffectServices.prototype.processArrData=function processArrData(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/").forEach(function(t){var r=Nf.a.decode(t).too();0!==Object.keys(r).length&&e.push(r)}),e},EnterEffectServices.prototype.deleteEnterData=function deleteEnterData(e){this.store.dispatch(Co.deleteEnter(e))},EnterEffectServices}(b.Service),hf=function enterEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(mf.prototype,"store",[bf],{enumerable:!0,initializer:null}),mf),Af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function userEnterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function userEnterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function userEnterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function userEnterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function userEnterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var If,Ff,xf,Gf,Uf=Ni.a.socketStream,Hf=n.a.Service,Wf=(Cf=Hf(m.DataCenter.global),wf=Hf(yf.a),Of=Hf(_f.a),Ef=Hf(Mf),Df=Hf(bc.a),kf=function(e){function UserEnterServices(){var t,r;!function userEnterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEnterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=userEnterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),userEnterServices_initDefineProp(r,"global",jf,r),userEnterServices_initDefineProp(r,"barrageMedalService",Rf,r),userEnterServices_initDefineProp(r,"barrageMotorService",Pf,r),userEnterServices_initDefineProp(r,"enterEffectServices",Tf,r),userEnterServices_initDefineProp(r,"userRoleService",Bf,r),userEnterServices_possibleConstructorReturn(r,t)}return userEnterServices_inherits(UserEnterServices,e),UserEnterServices.prototype.init=function init(e){var t=this,r=this;m.jsonpClient.get(String,this.global.get("$SYS.webconfUrl")+"resource/common/activity/wind_cloud.json","actCloud").subscribe(function(i){var n=t.flattenLogicCate(i,e.$ROOM.cate2_id);Uf.subscribe("uenter",function(i){Object(s.of)(i).pipe(Object(c.map)(function(i){var a=i,o=t.enterEffectServices.handlerEnterData(a,n),l=t.notHighLevelStrategy(a);return o||l?null:(a=Object($s.k)(a),a=r.barrageMedalService.setMedalData([a,e.$ROOM.effectInfo,e.$COLLIGATE.madelConfig]),t.userRoleService.setUserGroup(a.uid,{pg:a.pg||1,rg:a.rg||1}),a)}),Object(kp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.barrageMotorService.loadMotorcadeData()):Object(s.of)(null)}),Object(c.map)(function(e){var r=null;if(e){var i=e[0];if(i&&0!==Object.keys(i).length){var n=e[1].data;(r=i).motorcadeFlag=t.barrageMotorService.getMotorcadeConfig(r,n),r.motorcadeBg=t.barrageMotorService.getMotorcadeBg(r,n)}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(Af({},t,{nobleConfig:e.$ROOM.nobleConfig,isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))})})})},UserEnterServices.prototype.notHighLevelStrategy=function notHighLevelStrategy(){var e=(this.global.get("BARRAGE_CACHE_LENGTH")||{}).bufferCount;return(void 0===e?0:e)>=5&&!!parseInt(8*Math.random(),10)},UserEnterServices.prototype.flattenLogicCate=function flattenLogicCate(e,t){var r={cateVaLid:!1},i=e.zone_list||{};return Object.keys(i).forEach(function(e){i[e].forEach(function(e){+e.cate2_id===+t&&Object.assign(r,e||{},{cateVaLid:!0})})}),r},UserEnterServices}(b.Service),jf=userEnterServices_applyDecoratedDescriptor(kf.prototype,"global",[Cf],{enumerable:!0,initializer:null}),Rf=userEnterServices_applyDecoratedDescriptor(kf.prototype,"barrageMedalService",[wf],{enumerable:!0,initializer:null}),Pf=userEnterServices_applyDecoratedDescriptor(kf.prototype,"barrageMotorService",[Of],{enumerable:!0,initializer:null}),Tf=userEnterServices_applyDecoratedDescriptor(kf.prototype,"enterEffectServices",[Ef],{enumerable:!0,initializer:null}),Bf=userEnterServices_applyDecoratedDescriptor(kf.prototype,"userRoleService",[Df],{enumerable:!0,initializer:null}),kf),Vf=r("ead42"),$f=r("b2b3f"),Kf=r("d48de"),qf=((If={1:"BANNER_4_GIFT",2:"BANNER_4_NOBLE"}).BANNER_4_GIFT=1,If.BANNER_4_NOBLE=2,{BANNER_4_GIFT:[54,76,88],BANNER_4_NOBLE:[0,94,106,106,106,106,106,75]}),Qf=qf,Jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageBannerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageBannerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageBannerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Yf,Xf,Zf,ed,td,rd,id,nd,ad,od,ld,sd,cd,ud,pd,fd=n.a.Service,dd=Ni.a.socketStream,bd=m.DataCenter.global.get("$ROOM"),md=m.DataCenter.global.get("USER_INFO"),hd=(Ff=fd(m.DataCenter.common),xf=function(e){function BarrageBannerService(){var t,r;!function barrageBannerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBannerService);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageBannerServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageBannerServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"common",Gf,r),r.bannersList=[],r.bannersMap={},r.BANNER_LIST_MAX_LENGTH=4,r.forbiddenMap={},barrageBannerServices_possibleConstructorReturn(r,t)}return barrageBannerServices_inherits(BarrageBannerService,e),BarrageBannerService.prototype.bindStateChange=function bindStateChange(e){var t=this;this.changeView=e,dd.subscribe("ban_user",function(e){var r=e.uid;r&&(t.forbiddenMap[r]=r,t.clearBanner(r))})},BarrageBannerService.prototype.isUserBanned=function isUserBanned(e){return!!this.forbiddenMap[e]},BarrageBannerService.prototype.getBannerData=function getBannerData(e){if("BANNER_4_NOBLE"===e.bannerType){var t=+new Date,r=this.getBannerId(e),i=t+(e.bannerStayTime||0)+300;return Jf({},e,{bannerId:r,createTime:t,expireTime:i,bannerHeight:Qf[e.bannerType][e.objectId]})}return"BANNER_4_GIFT"===e.bannerType?this.getGiftBanner(e):null},BarrageBannerService.prototype.getGiftBanner=function getGiftBanner(e){var t=e.hitTimes,r=e.senderId,i=e.senderName,n=e.id,a=e.name,o=e.devote,l=e.stayTime,s=void 0===l?0:l,c=e.bimg,u=e.himg,p=e.brgb,f=e.urgb,d=e.grgb,b=e.drgb,m=e.batchBannerConf,h=e.type,v=e.pc,g=e.batchData,y=e.batchNumArr,_=e.data||{},N=_.bst,S=_.gfcnt,C=_.bcnt,w={bannerType:"BANNER_4_GIFT",senderId:r,senderName:i,objectId:n,objectName:a,senderFansname:"",hitTimes:parseInt(t,10)||1,gfcnt:parseInt(S,10)||1,bcnt:parseInt(C,10)||1,contribution:o*(S||1),bannerStayTime:(N&&"0"!==N?1e3*N:s)||0,level:6,bannerBgImg:c,bannerHeaderImg:u,bannerHeaderImgBorder:p,senderNameColor:f,actionColor:b,objectColor:d},O={batchBannerConf:m,type:h,pc:v,gfcnt:S,batchData:g,batchNumArr:y},E=+new Date,D=this.getBannerId(w),k=E+(w.bannerStayTime||0)+300,j=this.getBatchBannerData(w,O);return Object.assign(Jf({bannerId:D,createTime:E,expireTime:k,gfcnt:S,bcnt:C},j),w)},BarrageBannerService.prototype.receiveBannerData=function receiveBannerData(e){var t=this,r=e.giftData;r&&(this.$ROOM?this.handleBannerData(r):this.common.get("$DATA").subscribe(function(e){t.$ROOM=e.get("room"),t.handleBannerData(r)}))},BarrageBannerService.prototype.handleBannerData=function handleBannerData(e){var t=this.bannersList,r=this.getBannerData(e),i=r.bannerId,n=t.concat();if(!this.forbiddenMap[r.senderId]){if(n.unshift(r),n=this.sort(n),this.bannersMap[i])Object.assign(this.bannersMap[i],r);else if(n.length>4){(n=n.slice(0,4)).indexOf(r)>-1?(this.destroyBanner(3),t.unshift(r),this.bannersMap[i]=r):+r.senderId===+md.uid&&(this.destroyBanner(3,r),this.bannersMap[i]=r)}else t.unshift(r),this.bannersMap[i]=r;this.bannersList=this.sort(t),this.setPositions(),this.changeView(this.bannersList),this.runTimer()}},BarrageBannerService.prototype.getBatchBannerData=function getBatchBannerData(e,t){var r=t.type,i=t.pc,n=t.gfcnt,a=void 0===n?1:n,o=t.batchNumArr,l=void 0===o?[]:o,s=t.batchData,c=void 0===s?{}:s,u=t.batchBannerConf,p=void 0===u?{}:u,f=0;p&&p.threshold&&(1===r?f=p.threshold.ywsw:2===r&&(f=p.threshold.ycsw));for(var d=i*(a||1),b=this.getPriceIndex(d,f)||0,m=Qf[e.bannerType][b],h="",v=0,g=0;g<l.length;g++)parseInt(a,10)>=parseInt(l[g],10)&&(h=l[g]);var y=c[h]?c[h].bimg_effect:"",_=c[h]?c[h].bimg_lv:0;1===_?v=0:2===_?v=1:3===_&&(v=2);var N={};if(p){var S=p.room||{},C=p.tag||{},w=p.default||{},O=bd.room_id,E=this.$ROOM.cate_id;S[O]?N=S[O]||{}:C[E]?N=C[E]||{}:w&&(N=w||{})}var D=N.src||[],k=N.nc?"#"+N.nc:"#ffffff",j=N.gnc?"#"+N.gnc:"#ffffff",R=N.oc?"#"+N.oc:"#ffffff";return y||(y=D[b],v=b),{bannerHeight:m,bannerBatchBg:y,batchPriceIndex:v,nickNameColor:k,giftNameColor:j,otherColor:R}},BarrageBannerService.prototype.getPriceIndex=function getPriceIndex(e,t){for(var r=0,i=0;i<t.length;i++)parseInt(e,10)>=parseInt(t[i],10)&&(r=i+1);return r},BarrageBannerService.prototype.getBannerId=function getBannerId(e){return e.bannerType+"-"+e.senderId+"-"+e.objectId},BarrageBannerService.prototype.sort=function sort(e){return e.sort(function(e,t){var r=void 0,i=e.gfcnt>1?e.bcnt:e.hitTimes,n=t.gfcnt>1?t.bcnt:t.hitTimes;return e.contribution!==t.contribution?r=t.contribution-e.contribution:i!==n?r=n-i:e.createTime!==t.createTime&&(r=t.createTime-e.createTime),r})},BarrageBannerService.prototype.setPositions=function setPositions(){var e=this,t=30;this.bannersList.forEach(function(r,i){e.bannersList[i].top=t,t+=r.bannerHeight+15})},BarrageBannerService.prototype.runTimer=function runTimer(){var e=this;this.isTimerRunning=!0;!function timerRun(){e.bannersList.forEach(function(t,r){+new Date>=t.expireTime&&(e.destroyBanner(r),e.setPositions(),e.changeView(e.bannersList))}),e.bannersList.length>0?setTimeout(function(){timerRun()},500):e.isTimerRunning=!1}()},BarrageBannerService.prototype.destroyBanner=function destroyBanner(e,t){var r=this.bannersList,i=this.getBannerId(r[e]);this.bannersMap[i]=null,delete this.bannersMap[i],t?this.bannersList.splice(e,1,t):this.bannersList.splice(e,1),this.changeView(this.bannersList)},BarrageBannerService.prototype.clearBanner=function clearBanner(e){var t=this;e?(this.bannersList=this.bannersList.filter(function(r){var i=r.senderId,n=t.getBannerId(r),a=+i===+e;return a&&(t.bannersMap[n]=null,delete t.bannersMap[n]),!a}),this.setPositions(),this.changeView(this.bannersList)):(this.bannersList=[],this.bannersMap={},this.changeView(this.bannersList))},BarrageBannerService}(b.Service),Gf=function barrageBannerServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(xf.prototype,"common",[Ff],{enumerable:!0,initializer:null}),xf);function giftBarrageServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftBarrageServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vd,gd,yd,_d=Ni.a.socketStream,Nd=n.a.Service,Sd=(Yf=Nd(Kf.a),Xf=Nd(_f.a),Zf=Nd(d.a),ed=Nd(Qc),td=Nd(hd),rd=Nd(m.DataCenter.common),id=Nd(m.DataCenter.global),nd=function(e){function GiftBarrageServices(){!function giftBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftBarrageServices);var t=function giftBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftBarrageServices_initDefineProp(t,"giftSendService",ad,t),giftBarrageServices_initDefineProp(t,"barrageMotorService",od,t),giftBarrageServices_initDefineProp(t,"medalOperatService",ld,t),giftBarrageServices_initDefineProp(t,"shieldToolService",sd,t),giftBarrageServices_initDefineProp(t,"barrageBannerServices",cd,t),giftBarrageServices_initDefineProp(t,"common",ud,t),giftBarrageServices_initDefineProp(t,"global",pd,t),t.giftList=[],t}return giftBarrageServices_inherits(GiftBarrageServices,e),GiftBarrageServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},GiftBarrageServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(m.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},GiftBarrageServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(Vf.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},GiftBarrageServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},GiftBarrageServices.prototype.init=function init(e){var t=this,r=this,i=m.DataCenter.global.get("USER_INFO.uid"),n=new $f.Subject;n.subscribe(function(e){return t.handleGiftBat.apply(t,e)}),this.common.get("$DATA").subscribe(function(a){var o=+a.get("room.owner_uid"),l=i>0&&i===o?"bgd":"dgb";_d.subscribe(l,function(a){var l={};Object.assign(l,a,{anchorId:o}),parseInt(l.uid,10)!==parseInt(i,10)&&t.shieldToolService.getShield(106)||t.barrageBannerServices.isUserBanned(l.uid)||(t.isNeedBarrageAbandon(l)?0===t.giftList.length?(t.pressInGiftList([l,e]),t.giftAsync(n)):t.pressInGiftList([l,e]):r.handleGiftBat(l,e))})}),_d.subscribe("tsgs",function(r){if(parseInt(r.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(105)){var n=r;parseInt(n.silver,10)?n.type="tsgspeck":n.type="tsgsprop",n&&0!==Object.keys(n).length&&e.barrageBase.push(n)}})},GiftBarrageServices.prototype.handleGiftBat=function handleGiftBat(e,t){var r=this,i=this,n=Object($s.k)(e);Object(s.of)(n).pipe(Object(kp.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),r.barrageMotorService.loadMotorcadeData(),r.medalOperatService.getConfig(),r.giftSendService.getAllGiftConfig(),r.giftSendService.getAllPropsConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var n=null;if(e){var a=e[0];if(a&&0!==Object.keys(a).length){var o=e[1].data,l=e[2].data,s=e[3].data||[],c=e[4].data||[],u={name:a.bnn,lev:parseInt(a.bl,10),medalId:parseInt(a.brid,10),isVipFan:a.vipfan,type:"special"},p=s.filter(function(e){return parseInt(e.id,10)===parseInt(a.gfid,10)})[0];if(!p&&!(p=c[a.gfid]))return null;if(i.giftBatterMsgShow(a,p))return null;(n=a).motorcadeFlag=r.barrageMotorService.getMotorcadeConfig(n,o),n.motorcadeBg=r.barrageMotorService.getMotorcadeBg(n,o),n.fansMedal={medalBgOptions:r.medalOperatService.handleMedalOptions(u,l),name:a.bnn,lev:parseInt(a.bl,10),medalId:parseInt(a.brid,10),isVipFan:a.vipfan,type:"special"},n.curRoomId=t.$ROOM.room_id,n.nobleConfig=t.$ROOM.nobleConfig,n.isShowUserLevel=t.$COLLIGATE.userLevelSwitch>0?1:0,n.giftConfig=p}}return n})).subscribe(function(e){e&&0!==Object.keys(e).length&&t.barrageBase.push(e)})},GiftBarrageServices.prototype.giftBatterMsgShow=function giftBatterMsgShow(e,t){if(!t)return!1;var r=e.gfcnt||1,i=parseInt(e.bcnt,10)||0,n=parseInt(e.hits,10)||0,a=t.pc/100*r,o=e.yzxq_dst_uid,l=(e.yzxq_dst_nn,o&&+e.anchorId!==+o?0:1);if(a<=1){if(!n||n<=1)return!1;if(1!==l)return!1;if(r>1){if(i>0&&i%10===0||1===i)return!1}else if(n>1&&n%10===0)return!1;return!0}return!1},GiftBarrageServices}(b.Service),ad=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"giftSendService",[Yf],{enumerable:!0,initializer:null}),od=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"barrageMotorService",[Xf],{enumerable:!0,initializer:null}),ld=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"medalOperatService",[Zf],{enumerable:!0,initializer:null}),sd=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"shieldToolService",[ed],{enumerable:!0,initializer:null}),cd=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"barrageBannerServices",[td],{enumerable:!0,initializer:null}),ud=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"common",[rd],{enumerable:!0,initializer:null}),pd=giftBarrageServices_applyDecoratedDescriptor(nd.prototype,"global",[id],{enumerable:!0,initializer:null}),nd);function yzServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function yzServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function yzServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Cd=Ni.a.socketStream,wd=o.a.decode,Od=(vd=(0,n.a.Service)(Qc),gd=function(e){function YzServices(){var t,r;!function yzServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,YzServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=yzServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function yzServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",yd,r),yzServices_possibleConstructorReturn(r,t)}return yzServices_inherits(YzServices,e),YzServices.prototype.init=function init(e){var t=this,r=m.DataCenter.global.get("USER_INFO.uid");Cd.subscribe("apkb",function(i){var n=i;if((parseInt(n.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&4===parseInt(n.cmd,10)){var a=n.ac,o=n.bc,l=wd(n.ai),s=wd(n.bi),c=wd(n.ua),u=wd(n.ub),p={},f={};if(parseInt(a,10)===parseInt(o,10))return;parseInt(a,10)>parseInt(o,10)?(p=l||{},f=c||{}):(p=s||{},f=u||{}),p.id=e.$ROOM.owner_uid,n.winerInfo=p,n.maxDevoteUser=f,e.barrageBase.push(n)}})},YzServices}(b.Service),yd=function yzServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gd.prototype,"shieldToolService",[vd],{enumerable:!0,initializer:null}),gd),Ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleNotifyServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleNotifyServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Dd=Ni.a.socketStream,kd=function(e){function NobleNotifyServices(){return function nobleNotifyServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNotifyServices),function nobleNotifyServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleNotifyServices_inherits(NobleNotifyServices,e),NobleNotifyServices.prototype.init=function init(e){Dd.subscribe("rnewbc",function(t){var r=e.$ROOM.room_id||"",i=e.$ROOM.nobleConfig||{},n="";t.nl&&(n=i[t.nl].noble_name),t&&0!==Object.keys(t).length&&parseInt(r,10)===parseInt(t.drid,10)&&e.barrageBase.push(Ed({},t,{nobleName:n,nobleConfig:i}))})},NobleNotifyServices}(b.Service);function goldPlayServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function goldPlayServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var jd,Rd,Pd,Td=Ni.a.socketStream,Bd=function(e){function GoldPlayServices(){return function goldPlayServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GoldPlayServices),function goldPlayServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return goldPlayServices_inherits(GoldPlayServices,e),GoldPlayServices.prototype.init=function init(e){Td.subscribe("pwvthr",function(t){e.barrageBase.push(t)})},GoldPlayServices}(b.Service),Ld=r("bf2d1");function motorcadeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function motorcadeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function motorcadeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zd,Md,Ad=Ni.a.socketStream,Id=(jd=(0,n.a.Service)(Ld.a),Rd=function(e){function MotorcadeServices(){var t,r;!function motorcadeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MotorcadeServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=motorcadeServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function motorcadeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"baseConfigService",Pd,r),motorcadeServices_possibleConstructorReturn(r,t)}return motorcadeServices_inherits(MotorcadeServices,e),MotorcadeServices.prototype.init=function init(){var e=this;Ad.subscribe("socket_ready",function(){e.baseConfigService.privateLetterCreate().then(function(){var e=window.ImJsSdk;if(e){if(e.driverInPlace)try{e.driverInPlace()}catch(e){}if(e.getParams)try{e.getParams(1,pr.dysub)}catch(e){}}})})},MotorcadeServices}(b.Service),Pd=function motorcadeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Rd.prototype,"baseConfigService",[jd],{enumerable:!0,initializer:null}),Rd);function summerMedalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function summerMedalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fd,xd,Gd,Ud,Hd,Wd,Vd,$d,Kd,qd,Qd,Jd,Yd,Xd,Zd,eb,tb,rb,ib,nb,ab,ob,lb,sb,cb,ub,pb,fb,db,bb,mb,hb,vb,gb,yb,_b,Nb,Sb,Cb,wb,Ob,Eb,Db,kb=[1500000272,1500000271,1500000270],jb=(Md=zd=function(e){function SummerMedalServices(){return function summerMedalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SummerMedalServices),function summerMedalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return summerMedalServices_inherits(SummerMedalServices,e),SummerMedalServices}(b.Service),zd.getSummerMedal=function(e){if(e&&e.length){var t=!1,r="";return e.length&&(e.forEach(function(e){parseInt(e.eid,10)===kb[0]&&(r="high",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===kb[1]&&(r="middle",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===kb[2]&&(r="low",t=!0)})),r}return!1},Md),Rb=(r("61df2"),function Identity(e){var t=e.showSuperIdentity,r=e.platformGroup,i=e.roomGroup,n=e.identityName||"";if(""===n)if(5!==r&&2!==r||1!==t){if(4!==i)return"";n="roomAdmin"}else n="superAdmin";return'<span class="Barrage-icon Barrage-icon--'+n+'"></span>'}),Pb=(r("65e8a"),function Noble(e){var t=e.nobleLevel,r=void 0===t?0:t,i=e.nobleConfig,n=r?i[r]:null;return n?'\n        <span class="Barrage-icon Barrage-noble">\n            <img class="Barrage-nobleImg" src="//res.douyucdn.cn//resource/'+n.symbol.web_symbol_pic1+'" title="'+n.symbol.name+'"/>\n        </span>\n    ':""}),Tb=(r("7b832"),function Medal(e){var t=e.chatMedal,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="Medal" '+(e.link?"href="+e.link:"")+" data-id="+e.eid+" "+(e.link?'target="_blank"':"")+' >\n                    <img class="Medal-image '+(e.achievementId?"is-achievement":"")+'" src="'+e.img+'" title="'+(e.title||"")+'" data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),Bb=(r("0c7af"),function Reward(e){var t=e.roomPayLevel,r=e.roomPayCount,i=e.platformPayLevel,n=e.roomPayTitle;return t>0&&r?'\n            <span class="Reward"}\n                title="'+n+'"\n            >\n                <span class="Reward-image Reward-image--level'+t+'"></span>\n                <em class="Reward-level Reward-level--level'+t+'">x'+r+"</em>\n            </span>\n        ":i>0?'\n            <span class="Reward">\n                <span class="Reward-image Reward-image--other" title="\u916c\u52e4\u7528\u6237"></span>\n            </span>\n        ':""}),Lb=function AnchorLevel(e){var t=e.anchorLevel;return t?'\n        <span\n            class="AnchorLevel AnchorLevel-'+t+'" style="margin-right:4px"\n            title="\u4e3b\u64ad\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null},zb=(r("0d663"),function Level(e){var t=e.userLevel,r=e.isNext,i=void 0===r?"":r,n=e.isShowUserLevel;return t&&(void 0===n||n)?'\n        <span\n            class="UserLevel UserLevel--'+(i?"next-":"")+t+'"\n            title="\u7528\u6237\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null}),Mb=function Fans(e){var t=e.fansMedal||{},r=t.lev,i=void 0===r?0:r,n=t.name,a=void 0===n?"":n,o=t.medalBgOptions,l=void 0===o?{}:o,s=t.medalId,c=l.isBest,u=l.url,p=e.checkCode,f=void 0===p?"":p,d=e.curRoomId,b=void 0===d?"":d,m=e.fansIsDys,h=void 0!==m&&m;return i?u?b!==s?'\n                <a class="FansMedal '+(c?"is-best":"is-made")+" Barrage-icon "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" \n                href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'\n                style="display:inline-block;background-image: url('+u+')">\n                    <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n                </a>\n            ":'\n            <div class="FansMedal '+(c?"is-best":"is-made")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" style="background-image: url('+u+')" data-rid="'+s+'">\n                <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n            </div>\n        ":b!==s?'\n            <a class="FansMedal level-'+i+" "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'>\n                <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n            </a>\n        ":'\n        <div class="FansMedal level-'+i+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" data-rid="'+s+'">\n            <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n        </div>\n    ":""},Ab=(r("c913b"),function Name(e){var t=e.isSelf,r=e.senderNick,i=e.senderId,n=void 0===i?"":i,a=e.hasColon,o=e.senderNickPre,l=void 0===o?"":o,s=e.roleInfo,c=["Barrage-nickName","Barrage-nickName--"+(e.senderNickColor||"blue"),t?"is-self":"",e.hasCard?"js-nick":""].filter(Boolean).join(" "),u=(s?s.name:r)+(a?"\uff1a":""),p=e.senderNickTitle||r;return r?"\n            "+function renderPre(e){return e?'<span class="Barrage-nickName Barrage-nickName--blue">'+e+"</span>":""}(l)+'\n            <span class="'+c+'" title="'+p+'" data-uid="'+n+'">'+u+"</span>\n        ":""}),Ib=(r("a8286"),r("a469f"),function Emot(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=void 0===i?"":i;return n&&r?'\n            <img class="Emot-image" rel="dy'+r+'" src="'+n+'" />\n    ':""}),Fb=(r("9cdeb"),function Content(e){var t=e.barrageColor,r=e.chatId,i=e.chatCampColor,n=t>=0?" Barrage-content--color"+t:"",a=e.barrageContent,o=Object($s.l)(a);return o&&o.length>0&&o.forEach(function(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=Ib({emotCode:r,repUrl:void 0===i?"":i});a=a.replace(new RegExp("\\[emot:dy"+r+"\\]","g"),n)}),a?'\n        <span class="Barrage-content'+n+'" data-chatId="'+r+'" '+(i?'style="color:'+i+'"':"")+">\n            "+a+"\n        </span>\n    ":""}),xb=function Link(e){var t=e.superLink,r=void 0===t?{}:t;return'\n        <a class="HyperLink js-link-dysclick" data-msg-type="'+r.type+'" href="'+r.link+'" target="_blank">\n            <span class="HyperLink-brace">\u3010</span>\n            '+Fb(e)+'\n            <span class="HyperLink-brace">\u3011</span>\n        </a>\n    '},Gb=(r("ee4ef"),function Baby(e){var t=e.chatBaby,r=(void 0===t?[]:t)[0],i="";return r&&(i+='\n            <a class="Baby" '+(r.link?'href="'+r.link+'"':"")+" data-id="+r.eid+" "+(r.link?'target="_blank"':"")+'>\n                <img class="Baby-image '+(r.achievementId?"is-achievement":"")+'" src="'+r.img+'" title="'+(r.title||"")+'" data-achievementId="'+r.achievementId+'" />\n            </a>\n        '),i}),Ub=(r("72b37"),function System(e){var t=e.resMsg,r=void 0===t?{}:t,i=r.type,n=void 0===i?0:i,a=r.str,o=void 0===a?"":a,l="\u7cfb\u7edf\u63d0\u793a\uff1a";return 0===n?l="\u7cfb\u7edf\u63d0\u793a\uff1a":1===n&&(l="\u6d88\u606f\u63d0\u9192\uff1a"),o?'\n        <i class="Barrage-icon Barrage-icon--sys"></i>\n        <div class="Barrage-notice">\n            <span class="Barrage-text Barrage-notice--red">'+l+'</span>\n            <span class="Barrage-text">'+o+"</span>\n        </div>\n    ":""}),Hb=(r("6a5cb"),function Motor(e){var t=e.motorcadeFlag,r=void 0===t?"":t,i=e.motorcadeBg,n=void 0===i?"":i;return r?'\n            <span class="Motor" title="'+r+'" data-motorcade="'+r+'" \n            '+(n?'style="background-image:url('+n+')"':"")+'"\n            >\n                <span class="Motor-flag">'+r+"</span>\n            </span>\n        ":""}),Wb=(r("2977f"),function SummerMedal(e){var t=e.summerMedal,r="";return t&&"high"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_high" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u9ad8\u9636\u5fbd\u7ae0"></a>\n        ':t&&"middle"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_middle" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4e2d\u9636\u5fbd\u7ae0"></a>\n        ':t&&"low"===t&&(r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_low" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4f4e\u9636\u5fbd\u7ae0"></a>\n        '),r}),Vb=(r("7f84e"),function ChatAchievement(e){var t=e.chatAchievement,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="ChatAchievement">\n                    <img class="ChatAchievement-image is-achievement '+(2===+e.imgType?"is-small2Img":"")+'" src="'+e.img+'"  data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),$b=(r("8fa72"),{identity:Rb,noble:Pb,medal:Tb,reward:Bb,summerMedal:Wb,anchorLevel:Lb,level:zb,name:Ab,fans:Mb,link:xb,content:Fb,emot:Ib,baby:Gb,system:Ub,motor:Hb,chatAchievement:Vb,roleAvatar:function RoleAvatar(e){var t=e.roleInfo;return t?'\n            <span class="RoleAvatar-wrapper" title="'+t.name+'">\n                <img src="'+t.img+'" />\n            </span>\n        ':null}}),Kb=function Elements(e,t){var r=[];return(e instanceof Array?e:[e]).forEach(function(e){var i=$b[e];i&&r.push(i(t))}),r.join("")},qb=(r("cdf7a"),{protocol:["chatmsg","chatres"],model:function model(e){var t=this;if(!Object($s.a)(e.txt))return null;var r=e.roleid?(new Vn.a).getSelectedRoleInfo(e.roleid):null,i=this.nicknameHandle(e),n=i.nicknamePre,a=i.nickname;return{senderNickPre:function senderNickPre(){return n},senderNick:function senderNick(){return a},senderNickColor:function senderNickColor(e){return Object($s.b)(e.el).color},senderNickTitle:function senderNickTitle(e){return Object($s.b)(e.el).title},userLevel:function userLevel(e){return Object($s.d)(e.level,0)},roomGroup:function roomGroup(e){return Object($s.d)(e.rg,1)},anchorLevel:function anchorLevel(e){return Object($s.d)(e.ol,0)},roomPayLevel:function roomPayLevel(e){return Object($s.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object($s.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object($s.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object($s.f)(e.dlv)},chatMedal:"chatMedal",chatAchievement:"chatAchievement",chatBaby:"chatBaby",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",barrageContent:function barrageContent(e){return Object($s.i)(e.txt)},chatId:"cid",barrageColor:function barrageColor(e){return Object($s.d)(e.col,0)-1},nobleLevel:function nobleLevel(e){return Object($s.d)(e.nl,0)},nobleBarrage:function nobleBarrage(e){return Object($s.d)(e.nc,0)},fansMedal:"fansMedal",summerMedal:function summerMedal(e){return jb.getSummerMedal(e.el)},isFansFloatingBarrage:function isFansFloatingBarrage(e){return Object($s.d)(e.hl,0)},checkCode:"hc",superLink:function superLink(e){return Object($s.g)(e.lk||"",e.linkMsgConfig)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object($s.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object($s.d)(e.pg,0)},showSuperIdentity:function showSuperIdentity(e){return Object($s.c)(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",fansIsDys:function fansIsDys(){return!0},chatCampColor:"chatCampColor",isShowUserLevel:"isShowUserLevel",nobleColor:"nobleColor",pid:"pid",roleInfo:function roleInfo(){return r},selector:function selector(e){var t="";return 1===Object($s.d)(e.nc,0)?t="js-floating-barrage js-noblefloating-barrage":1===Object($s.d)(e.hl,0)&&(t="js-floating-barrage js-fansfloating-barrage"),t},loveDayMedal:function loveDayMedal(e){return t.getBarrageConfig({list:e.el,config:e.actLoveDayConfig})}}},render:function render(e){var t=e.superLink&&e.superLink.open,r=0!==e.anchorLevel,i=e.roleInfo,n="",a="";return 1===e.nobleBarrage?(n="js-noblefloating-barragecont Barrage-notice--noble",a=e.nobleColor?"background-color: "+e.nobleColor:""):n=1===e.isFansFloatingBarrage?"js-fansfloating-barragecont Barrage--paddedBarrage":"Barrage-notice--normalBarrage",'\n            <div class="'+n+'"'+(a?' style="'+a+'"':"")+">\n                "+Kb(["identity","noble","reward","medal"],Object.assign({},e,{hasColon:!0}))+"\n                "+(e.loveDayMedal?'<span class="ActLoveDay-medal"><img src='+e.loveDayMedal+" /></span>":"")+"\n                "+Kb(["fans","summerMedal",r?"anchorLevel":"level","motor","chatAchievement",i?"roleAvatar":"","name",t?"link":"content","emot","baby"],Object.assign({},e,{hasColon:!0}))+"\n            </div>\n        "},nicknameHandle:function nicknameHandle(e){return e.isAnchor&&16===+e.ct&&45447946===+e.pid?{nicknamePre:"[\u7edd\u5730\u6c42\u751f\u5b98\u65b9APP]",nickname:e.nn.replace("\u7ad9\u5916_","")}:{nicknamePre:"",nickname:e.nn}},getBarrageConfig:function getBarrageConfig(e){var t=e||{},r=t.list,i=void 0===r?{}:r,n=(t.type,t.config),a=(void 0===n?{}:n).medal||{},o="";return i.forEach(function(e){+e.eid===+a.medal_id&&(o=a.w_pic)}),o}}),Qb=(r("d2686"),{protocol:["chatres","newblackres","gbmres","setadminres"],model:function model(){return{resMsg:"resMsg"}},render:function render(e){return e.resMsg?Kb(["system"],Object.assign({},e)):null}}),Jb=(r("30567"),{protocol:["impress"],model:function model(e){var t=(Object($s.i)(e.txt)||"").split("|");return 0===t.length?null:{senderNick:"nn",tags:function tags(){return t},isAnchor:"isAnchor"}},render:function render(e){var t="";return e.tags.forEach(function(e){t+='<span style="color:#f70;margin-left:2px">['+e+"]</span>"}),'\n            <div class="Barrage-message">\n                '+Kb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    '+(e.isAnchor?"\u5bf9\u4f60\u7684\u5370\u8c61\u662f":"\u5bf9\u4e3b\u64ad\u7684\u5370\u8c61\u662f")+"\n                    "+t+"\n                </span>\n            </div>\n        "}}),Yb=(r("6066b"),{protocol:["ssd"],model:function model(){return{superId:"sdid",jumpType:"jmptp",roomId:"trid",linkUrl:"url",barrageContent:"content"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-super-barrage Barrage-text" \n                    data-superId="'+e.superId+'"\n                    data-jumpType="'+e.jumpType+'"\n                    data-roomId="'+e.roomId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),Xb=(r("52d06"),{protocol:["athena"],model:function model(e){var t=this;return e?{bid:"bid",boothId:function boothId(e){return e.isReverse?10:1},rulesetId:"ruleset_id",conId:"con_id",roomId:function roomId(e){return 2===Object($s.d)(e.jump_type,0)?e.jump_to:""},videoId:function videoId(e){return 1!==Object($s.d)(e.jump_type,0)&&2!==Object($s.d)(e.jump_type,0)?e.jump_to:""},linkUrl:function linkUrl(e){return t.handle(e)},barrageContent:"title",isReverse:"isReverse",jumpType:"jump_type"}:null},handle:function handle(e){return 1===Object($s.d)(e.jump_type,0)?e.jump_to:2===Object($s.d)(e.jump_type,0)?"/"+e.jump_to:"//v.douyu.com/show/"+e.jump_to},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-athena-barrage Barrage-text"\n                    data-bid="'+e.bid+'"\n                    data-boothId="'+e.boothId+'"\n                    data-rulesetId="'+e.rulesetId+'"\n                    data-conId="'+e.conId+'"\n                    data-roomId="'+e.roomId+'"\n                    data-videoId="'+e.videoId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                    data-reverse="'+e.isReverse+'"\n                    data-jumpType="'+e.jumpType+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),Zb={protocol:["clubreward"],model:function model(){var e=this;return{userNick:"unick",senderNick:"cnick",num:"num",awardName:function awardName(t){return e.getRewardByType(Object($s.d)(t.retype,0))}}},render:function render(e){return'\n            <div class="Barrage-message">\n                '+Kb(["name"],{senderNick:e.userNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+Kb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.num+"\u4e2a"+e.awardName+"</span>\n                </span>\n            </div>\n        "},getRewardByType:function getRewardByType(e){var t="";switch(e){case 0:t="\u672a\u77e5";break;case 1:t="\u9c7c\u4e38";break;case 2:t="\u9c7c\u7fc5"}return t}},em=(r("6c92a"),{protocol:["pwvthr"],model:function model(){return{name:"uname",content:"dm"}},render:function render(e){return'\n            <div class="Barrage-goldPlay">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class=" Barrage-nickName Barrage-nickName--blue ">\n                        '+e.name+'\n                    </span>\n                    <span class="Barrage-text">\n                        '+e.content+"\n                    </span>\n                </div>\n            </div>\n        "}}),tm=(r("0f1fe"),{protocol:["rankup"],model:function model(){return{senderNick:"nickName",rankTypeName:function rankTypeName(e){return Object($s.e)(e.rkt)},rankNum:function rankNum(e){return Object($s.d)(e.rn,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text">\u7684'+e.rankTypeName+'\u6392\u540d\u4e0a\u5347\u5230\u4e86</span>\n                <span class="Barrage-notice--red Barrage-text">\u7b2c'+e.rankNum+'\u540d</span>\n                <span class="Barrage-text">\uff01</span>\n            </div>\n        '},getNickColor:function getNickColor(e){return parseInt(e.ih,10)?"purple":"blue"},getRankTypeName:function getRankTypeName(e){var t=e.rkt;return 1===t||"1"===t?"\u8d21\u732e\u5468\u699c":2===t||"2"===t?"\u8d21\u732e\u603b\u699c":"\u8d21\u732e\u5468\u699c"}}),rm={protocol:["notify_cgap"],model:function model(){return{gap:function gap(e){return Object($s.d)(e.cg,1)},rankTypeName:function rankTypeName(e){return Object($s.e)(e.rt)},rankNum:function rankNum(e){return Object($s.d)(e.urn,2)-1}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    <span class="Barrage-notice--red">\u6d88\u606f\u63d0\u9192\uff1a</span>\u7ee7\u7eed\u8d60\u9001\n                    <span class="Barrage-notice--red">'+e.gap+"</span>\n                    \u70b9\u8d21\u732e\u503c\uff0c\u60a8\u5c31\u53ef\u4ee5\u5347\u5230"+e.rankTypeName+'<span class="Barrage-notice--red">\u7b2c'+e.rankNum+"\u540d</span>\n                </span>\n            </div>\n        "}},im=(r("0b551"),{protocol:["upgrade"],model:function model(){return{senderNick:"nn",userLevel:function userLevel(e){return Object($s.d)(e.level,0)},clientType:function clientType(e){return Object($s.d)(e.ct,0)},hasCard:function hasCard(){return!0},senderId:"uid",senderAvatar:"ic",showSuperIdentity:function showSuperIdentity(e){return Object($s.c)(e.sahf)},isShowUserLevel:"isShowUserLevel",groupId:"gid"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text">\n                    \u5347\u7ea7\u5230\n                    '+Kb(["level"],e)+"\n                </span>\n            </div>\n        "}}),nm={protocol:["blab"],model:function model(){return{senderNick:"nn",fansMedal:"fansMedal",curRoomId:"curRoomId"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text">\n                    \u7c89\u4e1d\u7b49\u7ea7\u5347\u7ea7\u5230\n                </span>\n                '+Kb(["fans"],e)+'\n                <span class="Barrage-text">\n                    \uff0c\u4e3b\u64ad\u66f4\u7231\u4f60\u54df\n                </span>\n            </div>\n        '}},am={protocol:["upbc"],model:function model(){return{senderNick:"ownerName",anchorLevel:function anchorLevel(e){return Object($s.d)(e.lev,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text">\u4e3b\u64ad\u7b49\u7ea7\u8fbe\u5230</span>\n                '+Kb(["anchorLevel"],e)+'\n                <span class="Barrage-text">\uff0c\u7ee7\u7eed\u6311\u6218\u65b0\u7684\u4fdd\u7ea7\u4efb\u52a1\u5427</span>\n            </div>\n        '}},om={protocol:["dgbc"],model:function model(){var e=this;return{senderNick:"ownerName",userLevel:function userLevel(e){return Object($s.d)(e.llev,0)},exp:function exp(t){return e.formatContribute(parseInt(t.ddct,10)/100,2)||0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u5f88\u9057\u61be\uff0c</span>\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text Barrage-notice--red">'+e.userLevel+'\u7ea7\u4fdd\u7ea7\u5931\u8d25</span>\n                <span class="Barrage-text">\uff0c\u6263\u9664</span>\n                <span class="Barrage-text Barrage-notice--red">'+e.exp+'</span>\n                <span class="Barrage-text">\u7ecf\u9a8c\u503c</span>\n            </div>\n        '},formatContribute:function formatContribute(e,t){var r=e;return e>=1e4&&(r=this.formatDecimals(e/1e4,t)+"\u4e07"),r},formatDecimals:function formatDecimals(e,t){var r=new RegExp("(\\.\\d{"+t+"})\\d*$"),i=(""+e).replace(r,"$1");return i=this.formatDotZero(i)},formatDotZero:function formatDotZero(e){return String(e).replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")}},lm={protocol:["redirect"],model:function model(){return{senderNick:"senderNick",anchorLevel:function anchorLevel(e){return Object($s.d)(e.rl,0)},identityName:function identityName(){return"anchor"},videoId:"vid",clientType:function clientType(e){return Object($s.d)(e.ct,0)},senderId:"senderId",hasCard:function hasCard(){return!0},senderAvatar:"ic"}},render:function render(e){return'\n            <div class="Barrage-videoMsg">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    '+Kb(["anchorLevel","name"],Object.assign({},e,{hasColon:!1}))+'\n                    <span class="Barrage-text">\n                        <a href=//v.douyu.com/show/'+e.videoId+' target="_blank">\n                            \u5f55\u5236\u4e86\u4e00\u6bb5\u7cbe\u5f69\u65f6\u523b\n                        </a>\n                        \u5feb\u6765\u56f4\u89c2\u5427\uff01\n                    </span>\n                </div>\n            </div>\n        '}},sm=(r("d4c57"),{protocol:["qzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){return t.ec>=1e4?e.decimal(t.ec)+"\u4e07":t.ec},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+Kb(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u9c7c\u4e38</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),cm=(r("8dc58"),{protocol:["tkqzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){var r=e.parseTicket(t.ec);return r>=1e4?e.decimal(r)+"\u4e07":r},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+Kb(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u63a2\u9669\u5238</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},parseTicket:function parseTicket(e){var t=0;return isNaN(+e)||(t=parseInt(+e/100*10,10)/10),t},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),um=(r("5e1fa"),{protocol:["gbroadcast"],model:function model(){return{title:"title",roomId:"rid",senderNick:"onn"}},render:function render(e){return e.senderNick&&e.roomId?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <a class="Barrage-notice Barrage-notice--red" href=/'+e.roomId+' target="_blank" style="display:inline-block;">\n                    <span class="Barrage-text">'+(e.title||"")+"\uff1a"+(e.senderNick||"")+" \u5f00\u64ad\u4e86\uff01\u5feb\u6765\u56f4\u89c2\u5427\uff01</span>\n                </a>\n            ":null}}),pm=(r("65b06"),{protocol:["frb"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5c06<span class="Barrage-notice--red">\u7b2c\u4e00\u6b21</span>\u5145\u503c\u732e\u7ed9\u4e86\u672c\u623f\u95f4\u4e3b\u64ad\uff0c\u5e76\u83b7\u5f97\u4e86<span class="Barrage-notice--red">\u9996\u5145\u5956\u52b1</span>\n                </span>\n            </div>\n        '}}),fm=(r("8f68e"),{protocol:["npue"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+Kb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u901a\u8fc7\u76f4\u64ad\u63a8\u5e7f\u6765\u4e86\n                </span>\n            </div>\n        '}}),dm=(r("3e6fd"),{protocol:["ldn"],model:function model(e){var t=this;return e?{condition:function condition(e){return t.getCondition(e)},secStr:function secStr(e){return t.getSecStr(e)}}:null},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    \u4e3b\u64ad\u5c06\u4f1a\u5728'+e.secStr+"\u5f00\u59cb\u4ece"+e.condition+"\u7684\u7528\u6237\u4e2d\u62bd\u53d6\u5e78\u8fd0\u89c2\u4f17\uff0c\u5feb\u6765\u53c2\u4e0e\u5427~\n                </span>\n            </div>\n        "},getCondition:function getCondition(e){var t=e.sl||0,r=e.gl/100||0;return t>0?r>0?"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a\u6216"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a":r>0?"\u8d60\u9001\u8fc7"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":""},getSecStr:function getSecStr(e){return e.sec<60?e.sec+"\u79d2\u540e":parseInt(e.sec/60,10)+"\u5206\u949f\u540e"}}),bm=(r("3dcc5"),{protocol:["lde","lds","lde_v2","lds_v2"],model:function model(e){if(!e)return null;return{type:"type",anchorName:"anchorName",nickName:"nickName",len:"len",prize:"prize"}},render:function render(e){var t=e.type,r=void 0===t?"":t,i=e.len,n=void 0===i?0:i;return"lds"===r||"lds_v2"===r?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u4e3a\u4e86\u56de\u9988\u5e7f\u5927\u6c34\u53cb\uff0c</span>\n                    <span class="Barrage-nickName Barrage-nickName--blue">'+e.anchorName+'</span>\n                    <span class="Barrage-text">\u53d1\u8d77\u62bd\u5956\u6d3b\u52a8\uff0c\u5feb\u6765\u53c2\u52a0\u5566\uff01</span>\n                </div>\n            ':"lde"===r||"lde_v2"===r?n>0?'\n                    <i class="Barrage-icon Barrage-icon--sys"></i>\n                    <div class="Barrage-notice">\n                        <span class="Barrage-text">\u606d\u559c</span>\n                        <span class="Barrage-nickName Barrage-nickName--blue">'+e.nickName+'</span>\n                        <span class="Barrage-text">    \n                            '+(n>10?"\u7b49"+n+"\u4eba":"")+'\n                            \u83b7\u5f97<span class="Barrage-notice--red">'+e.prize+"</span>\uff01\n                        </span>\n                    </div>\n                ":'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u5f53\u524d\u6ca1\u6709\u4e00\u4e2a\u4eba\u6ee1\u8db3\u62bd\u5956\u6761\u4ef6</span>\n                </div>\n            ':""}}),mm=(r("1bcca"),{protocol:["uenter"],model:function model(e){var t=this.getBackGround(e),r=parseInt(e.nl,10),i="blue";return t?(i=r&&(r<=3||7===r)?"blue":this.checkGirlPri(e.el,1500000173)?"red":"blue",{isSelf:function isSelf(){return!1},senderNick:"nn",senderNickColor:function senderNickColor(){return i},userLevel:function userLevel(e){return Object($s.d)(e.level,0)},anchorLevel:function anchorLevel(e){return Object($s.d)(e.ol,0)},roomPayLevel:function roomPayLevel(e){return Object($s.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object($s.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object($s.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object($s.f)(e.dlv)},chatMedal:"chatMedal",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",nobleLevel:function nobleLevel(e){return Object($s.d)(e.nl,0)},nobleBarrage:function nobleBarrage(e){return Object($s.d)(e.nc,0)},background:function background(){return t},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object($s.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object($s.d)(e.pg,1)},roomGroup:function roomGroup(e){return Object($s.d)(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return Object($s.c)(e.sahf)},isShowUserLevel:"isShowUserLevel",nobleConfig:"nobleConfig"}):null},render:function render(e){var t=0!==e.anchorLevel,r=e.nobleLevel>0?1:0;return'\n            <div class="'+e.background+'">\n                '+(r>0?"":'<span class="Barrage-hiIcon"></span>')+"\n                "+Kb(["noble","reward","medal",t?"anchorLevel":"level",!r>0?"motor":"","name"],e)+'\n                <span class="Barrage-text">\u6b22\u8fce\u6765\u5230\u672c\u76f4\u64ad\u95f4</span>\n            </div>\n        '},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1},getBackGround:function getBackGround(e){var t="Barrage-userEnter Barrage-userEnter--default",r=parseInt(e.nl,10);if(e.ceid)return"";if(r&&r>3&&7!==r)return"";if(r&&(r<=3||7===r)){switch(r){case 7:t="Barrage-userEnter is-noble Barrage-userEnter--paladin";break;case 1:t="Barrage-userEnter is-noble Barrage-userEnter--knigft";break;case 2:t="Barrage-userEnter is-noble Barrage-userEnter--viscount";break;case 3:t="Barrage-userEnter is-noble Barrage-userEnter--earl"}return t}return t}}),hm=r("ad03a"),vm=(r("7cd2d"),{protocol:["dgb","bgd"],model:function model(e){var t=this,r=e.giftConfig||{};return{isSelf:function isSelf(){return!1},senderNick:"nn",userLevel:function userLevel(e){return Object($s.d)(e.level,0)},senderNickColor:function senderNickColor(e){return t.checkGirlPri(e.el,1500000173)?"red":"blue"},nobleLevel:function nobleLevel(e){return Object($s.d)(e.nl,0)},roomPayLevel:function roomPayLevel(e){return Object($s.d)(e.dlv,0)},roomPayCount:function roomPayCount(e){return Object($s.d)(e.dc,0)},platformPayLevel:function platformPayLevel(e){return Object($s.d)(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return Object($s.f)(e.dlv)},fansMedal:"fansMedal",checkCode:"hc",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",giftCImg:function giftCImg(){return r.cimg},giftName:function giftName(){return r.name},hits:function hits(e){return Object($s.d)(e.hits,1)},batchGiftPerNum:function batchGiftPerNum(e){return Object($s.d)(e.gfcnt,1)},batchGiftHits:function batchGiftHits(e){return Object($s.d)(e.bcnt,1)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return Object($s.d)(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return Object($s.d)(e.pg,1)},roomGroup:function roomGroup(e){return Object($s.d)(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return Object($s.c)(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",isShowUserLevel:"isShowUserLevel",fansIsDys:function fansIsDys(){return!0},targetUid:function targetUid(e){return e.yzxq_dst_uid},targetName:function targetName(e){return e.yzxq_dst_nn},targetIsAnchor:function targetIsAnchor(e){return e.yzxq_dst_uid&&+e.anchorId!==+e.yzxq_dst_uid?0:1}}},render:function render(e){var t="";return e.batchGiftPerNum>1?(t+='<span style="margin-right:6px">x'+e.batchGiftPerNum+"</span>",e.batchGiftHits>1&&!e.targetUid&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>")):e.hits>1&&!e.targetUid&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>"),'\n            <div class="Barrage-message">\n                '+Kb(["noble","award","fans","level","motor","name"],e)+'\n                <span class="Barrage-text">\n                    \u8d60\u9001\u7ed9'+(0===e.targetIsAnchor?e.targetName:"\u4e3b\u64ad")+"\n                    <img src="+(e.giftCImg+hm.imgSuffix)+' width="22" height="22" />\n                    '+t+"\n                </span>\n            </div>\n        "},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1}}),gm={protocol:["tsgspeck"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",fishBallCount:"silver",dct:function dct(e){return e.dct||""},isLucker:function isLucker(e){return parseInt(e.lk,10)?1:0},giftType:function giftType(e){return parseInt(e.lt,10)||0}}},render:function render(e){var t=e.giftType;return e.isLucker?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+Kb(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+Kb(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+'\u9c7c\u4e38</span>\n                        \uff0c\u6210\u4e3a\u672c\u573a\n                        <span class="Barrage-message--red">\u624b\u6c14\u738b\uff01</span>\n                    </span>\n                </div>\n            ':t>0?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+Kb(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+Kb(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u89e6\u53d1\u66b4\u51fb\n                        '+(t>1?"x"+t:"")+'\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+"\u9c7c\u4e38</span>\n                    </span>\n                </div>\n            ":'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+Kb(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+Kb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.fishBallCount+"\u4e2a\u9c7c\u4e38</span>\n                </span>\n            </div>\n        "}},ym={protocol:["tsgsprop"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",giftCount:"pcnt",giftName:"pnm",dct:function dct(e){return e.dct||""}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+Kb(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+Kb(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.giftCount+"\u4e2a"+e.giftName+"</span>\n                </span>\n            </div>\n        "}},_m=(r("2ecd5"),{protocol:["apkb"],model:function model(e){if(!e)return null;return{senderId:function senderId(e){return e.maxDevoteUser.id||""},senderNick:function senderNick(e){return e.maxDevoteUser.nn||""},senderAvatar:function senderAvatar(e){return e.maxDevoteUser.icon||""},anchorId:function anchorId(e){return e.winerInfo.id||""},anchorNick:function anchorNick(e){return e.winerInfo.nn||""},anchorLevel:function anchorLevel(e){return e.winerInfo.lv||""},anchorAvatar:function anchorAvatar(e){return e.winerInfo.icon||""},anchorNobleLevel:function anchorNobleLevel(e){return e.winerInfo.nl||""},conValue:function conValue(e){return e.maxDevoteUser.cb||0},hasCard:function hasCard(){return!0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+Kb(["name"],e)+'\n                <span class="Barrage-text">\u4e3a\u4e3b\u64ad </span>\n                '+Kb(["name"],{senderId:e.anchorId,senderNick:e.anchorNick})+'\n                <span class="Barrage-text Barrage-text--red">\u8d21\u732e'+e.conValue/100+'\uff0c</span>\n                <span class="Barrage-text">\u52a9\u529b\u4e3b\u64ad\u83b7\u53d6\u80dc\u5229\uff01\uff01\uff01</span>\n            </div>\n        '}}),Nm=(r("e4e1c"),{protocol:["srres"],model:function model(){return{senderNick:"nickname",exp:function exp(e){return Object($s.d)(e.exp,0)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+Kb(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5206\u4eab\u4e86\u8be5\u76f4\u64ad\u95f4'+(e.exp?'\uff0c\u83b7\u5f97<span class="Barrage-text--red">'+(e.exp||"--")+"\u7ecf\u9a8c\u503c</span>":"")+"\n                </span>\n            </div>\n        "}}),Sm=(r("a4682"),{protocol:["rnewbc"],model:function model(){return{senderNick:function senderNick(e){return e.gvnk?e.gvnk:e.unk},anchorName:"donk",reciverName:"unk",isSend:function isSend(e){return!!e.gvnk},nobleName:"nobleName",nobleConfig:"nobleConfig",nobleLevel:function nobleLevel(e){return Object($s.d)(e.nl,0)}}},render:function render(e){var t=document.createElement("div"),r='\n            <i class="Barrage-icon--sys" style="top:12px;"></i>\n            <div class="Barrage-notice BarrageNobleNotify-notice BarrageNobleNotify-notice--nobleNotify'+e.nobleLevel+'">\n                '+Kb(["noble","name"],{senderNick:e.senderNick,nobleLevel:e.nobleLevel,nobleConfig:e.nobleConfig})+"\n                "+(e.anchorName?'<span class="Barrage-text">\u5728</span>\n                    '+Kb(["name"],{senderNick:e.anchorName})+'\n                    <span class="Barrage-text">\u76f4\u64ad\u95f4</span>':"")+"\n                "+(e.isSend?'<span class="Barrage-text">\u7ed9</span>\n                    '+Kb(["name"],{senderNick:e.reciverName}):"")+'\n                <span class="Barrage-text">\u7eed\u8d39\u4e86</span>\n                <span class="BarrageNobleNotify-nobleName">'+e.nobleName+"</span>\n            </div>\n        ";return t.className="BarrageNobleNotify",t.innerHTML=r,document.getElementById("js-barrage-container").appendChild(t),setTimeout(function(){document.getElementById("js-barrage-container").removeChild(t)},15e3),null}});function barrageConfig_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageConfig_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Cm,wm,Om,Em,Dm,km,jm,Rm,Pm,Tm=n.a.Service,Bm=(Fd=Tm(Vs.a),xd=Tm(Ec),Gd=Tm(ru),Ud=Tm(uu),Hd=Tm(Du),Wd=Tm(Dp),Vd=Tm(zp),$d=Tm(Ap),Kd=Tm(Up),qd=Tm(Jp),Qd=Tm(lf),Jd=Tm(cf),Yd=Tm(pf),Xd=Tm(df),Zd=Tm(gf),eb=Tm(Wf),tb=Tm(Sd),rb=Tm(Od),ib=Tm(kd),nb=Tm(Id),ab=Tm(Bd),ob=function(){function BarrageConfig(){!function barrageConfig_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageConfig),barrageConfig_initDefineProp(this,"normalService",lb,this),barrageConfig_initDefineProp(this,"sysService",sb,this),barrageConfig_initDefineProp(this,"superService",cb,this),barrageConfig_initDefineProp(this,"athenaService",ub,this),barrageConfig_initDefineProp(this,"fishBallService",pb,this),barrageConfig_initDefineProp(this,"rankService",fb,this),barrageConfig_initDefineProp(this,"levelUpService",db,this),barrageConfig_initDefineProp(this,"videoService",bb,this),barrageConfig_initDefineProp(this,"guessService",mb,this),barrageConfig_initDefineProp(this,"guessTicketServices",hb,this),barrageConfig_initDefineProp(this,"broadcastService",vb,this),barrageConfig_initDefineProp(this,"firstChargeService",gb,this),barrageConfig_initDefineProp(this,"spreadService",yb,this),barrageConfig_initDefineProp(this,"lotteryService",_b,this),barrageConfig_initDefineProp(this,"drawBarrageService",Nb,this),barrageConfig_initDefineProp(this,"userEnterService",Sb,this),barrageConfig_initDefineProp(this,"giftBarrageService",Cb,this),barrageConfig_initDefineProp(this,"yzServices",wb,this),barrageConfig_initDefineProp(this,"nobleNotifyServices",Ob,this),barrageConfig_initDefineProp(this,"motorcadeService",Eb,this),barrageConfig_initDefineProp(this,"goldPlayService",Db,this),this.barrageConfig={barrage:{"normal-barrage":qb,"sys-barrage":Qb,"impress-barrage":Jb,"super-barrage":Yb,"athena-barrage":Xb,"rankUp-barrage":tm,"rankGap-barrage":rm,"userLevelUp-barrage":im,"fansLevelUp-barrage":nm,"anchorLevelUp-barrage":am,"anchorLevelDown-barrage":om,"video-barrage":lm,"guess-barrage":sm,"guess-ticket-barrage":cm,"broadcast-barrage":um,"firstCharge-barrage":pm,"spread-barrage":fm,"lottery-barrage":dm,"draw-barrage":bm,"userEnter-barrage":mm,"gift-barrage":vm,"peck-barrage":gm,"prop-barrage":ym,"motorFishBall-barrage":Zb,"yz-barrage":_m,"weibo-barrage":Nm,"nobleNotify-barrage":Sm,"goldPlay-barrage":em},services:[{serviceName:this.normalService,methodName:"init"},{serviceName:this.sysService,methodName:"init"},{serviceName:this.superService,methodName:"init"},{serviceName:this.athenaService,methodName:"init"},{serviceName:this.fishBallService,methodName:"init"},{serviceName:this.rankService,methodName:["initRankUpdate","initRankGap"]},{serviceName:this.levelUpService,methodName:["initUserLevelUp","initFansLevelUp","initAnchorLevelUp","initAnchorLevelDown"]},{serviceName:this.videoService,methodName:"init"},{serviceName:this.guessService,methodName:"init"},{serviceName:this.guessTicketServices,methodName:"init"},{serviceName:this.broadcastService,methodName:"init"},{serviceName:this.firstChargeService,methodName:"init"},{serviceName:this.spreadService,methodName:"init"},{serviceName:this.lotteryService,methodName:"init"},{serviceName:this.drawBarrageService,methodName:"init"},{serviceName:this.userEnterService,methodName:"init"},{serviceName:this.giftBarrageService,methodName:"init"},{serviceName:this.yzServices,methodName:"init"},{serviceName:this.nobleNotifyServices,methodName:"init"},{serviceName:this.motorcadeService,methodName:"init"},{serviceName:this.goldPlayService,methodName:"init"}]}}return BarrageConfig.prototype.export=function _export(){return this.barrageConfig},BarrageConfig}(),lb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"normalService",[Fd],{enumerable:!0,initializer:null}),sb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"sysService",[xd],{enumerable:!0,initializer:null}),cb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"superService",[Gd],{enumerable:!0,initializer:null}),ub=barrageConfig_applyDecoratedDescriptor(ob.prototype,"athenaService",[Ud],{enumerable:!0,initializer:null}),pb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"fishBallService",[Hd],{enumerable:!0,initializer:null}),fb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"rankService",[Wd],{enumerable:!0,initializer:null}),db=barrageConfig_applyDecoratedDescriptor(ob.prototype,"levelUpService",[Vd],{enumerable:!0,initializer:null}),bb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"videoService",[$d],{enumerable:!0,initializer:null}),mb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"guessService",[Kd],{enumerable:!0,initializer:null}),hb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"guessTicketServices",[qd],{enumerable:!0,initializer:null}),vb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"broadcastService",[Qd],{enumerable:!0,initializer:null}),gb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"firstChargeService",[Jd],{enumerable:!0,initializer:null}),yb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"spreadService",[Yd],{enumerable:!0,initializer:null}),_b=barrageConfig_applyDecoratedDescriptor(ob.prototype,"lotteryService",[Xd],{enumerable:!0,initializer:null}),Nb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"drawBarrageService",[Zd],{enumerable:!0,initializer:null}),Sb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"userEnterService",[eb],{enumerable:!0,initializer:null}),Cb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"giftBarrageService",[tb],{enumerable:!0,initializer:null}),wb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"yzServices",[rb],{enumerable:!0,initializer:null}),Ob=barrageConfig_applyDecoratedDescriptor(ob.prototype,"nobleNotifyServices",[ib],{enumerable:!0,initializer:null}),Eb=barrageConfig_applyDecoratedDescriptor(ob.prototype,"motorcadeService",[nb],{enumerable:!0,initializer:null}),Db=barrageConfig_applyDecoratedDescriptor(ob.prototype,"goldPlayService",[ab],{enumerable:!0,initializer:null}),ob),Lm=function init(){return(new Bm).export()},zm=r("3a3e1");function barrageInit_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageInit_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Mm,Am,Im,Fm=Ni.a.socketInit,xm=Ni.a.socketStream,Gm=n.a.Service,Um=(Cm=Gm(ss.a),wm=Gm(m.DataCenter.acj),Om=Gm(m.DataCenter.common),Em=Gm(m.DataCenter.global),km=barrageInit_applyDecoratedDescriptor((Dm=function BarrageInit(e){!function barrageInit_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageInit),barrageInit_initDefineProp(this,"barrageService",km,this),barrageInit_initDefineProp(this,"acj",jm,this),barrageInit_initDefineProp(this,"common",Rm,this),barrageInit_initDefineProp(this,"global",Pm,this);var t=this.barrageService,r=this.acj,i=this.global,n=this.common,a=e.list;zs({element:a,itemClassName:"Barrage-listItem",currentUserId:i.get("USER_INFO.uid"),barrageLimit:{defaultLimit:t.getState("defaultLimit"),bufferLimit:t.getState("bufferLimit")},callbacks:{render:function render(e){var r=e.hasSelfBarrage,n=e.data;i.set("BARRAGE_CACHE_LENGTH",n.length),r&&t.toggleLockScreen(!1),t.renderedLength(n.length),cs.a.set({type:1,data:n})},destroy:function destroy(e){t.toggleLockScreen(!1),cs.a.splice({data:e})}}},function BarrageCreatedCallback(){var a=this,o=Lm(),l=o.barrage,s=o.services;Object.keys(l).forEach(function(e){a.register(e,l[e])}),n.get("$DATA").subscribe(function(e){var n=e.room||{},o=e.colligate||{};s.forEach(function(e){var t=e.serviceName,i=e.methodName;i instanceof Array?i.forEach(function(e){t[e]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}):"string"===typeof i&&t[i]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}),xm.subscribe("loginres",function(e){var r=e.roomgroup,a=e.pg,o=zm.e;ps.a.check()&&(o=zm.b,+i.get("USER_INFO.uid")===+n.owner_uid&&(o=zm.a),4===+r&&(o=zm.c),5===+a&&(o=zm.d)),t.updateLimit(o)})}),Ws(e),Fm()})}).prototype,"barrageService",[Cm],{enumerable:!0,initializer:null}),jm=barrageInit_applyDecoratedDescriptor(Dm.prototype,"acj",[wm],{enumerable:!0,initializer:null}),Rm=barrageInit_applyDecoratedDescriptor(Dm.prototype,"common",[Om],{enumerable:!0,initializer:null}),Pm=barrageInit_applyDecoratedDescriptor(Dm.prototype,"global",[Em],{enumerable:!0,initializer:null}),Dm),Hm=void 0,Wm=function init(e){return Hm||(Hm=new Um(e)),Hm},Vm=r("8a2d1"),$m=r.n(Vm),Km=r("0a81c"),qm=(r("a4e02"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageCmd/BarrageCmd.js");function BarrageCmd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Qm=(Mm=(0,n.a.Service)(Dr.a),Am=function(e){function BarrageCmd(){var t,r;!function BarrageCmd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageCmd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageCmdService",Im,r),BarrageCmd_possibleConstructorReturn(r,t)}return BarrageCmd_inherits(BarrageCmd,e),BarrageCmd.prototype.componentDidMount=function componentDidMount(){this.barrageCmdService.initSocket()},BarrageCmd.prototype.render=function render(){var e=this,t=this.props.barrageCmd;return rs.a.createElement("div",{className:"BarrageCmd",style:{maxHeight:t.isShow?"300px":"0",color:t.commonColor},__source:{fileName:qm,lineNumber:28},__self:this},rs.a.createElement("span",{className:"BarrageCmd-btn--close",onClick:function onClick(){e.barrageCmdService.closeCDAndPanel()},__source:{fileName:qm,lineNumber:32},__self:this},"\xd7"),rs.a.createElement("div",{className:"BarrageCmd-result",dangerouslySetInnerHTML:{__html:t.result},__source:{fileName:qm,lineNumber:35},__self:this}))},BarrageCmd}(rs.a.Component),Im=function BarrageCmd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Am.prototype,"barrageCmdService",[Mm],{enumerable:!0,initializer:null}),Am);Qm.propTypes={barrageCmd:$m.a.object.isRequired};var Jm,Ym,Xm,Zm,eh=Object(Km.connect)(function mapStateToProps(e){return{barrageCmd:e.barrageCmd}})(Qm),th=r("63f14"),rh=r.n(th),ih=(r("4cd83"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageTips/BarrageTips.js");function BarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nh=null,ah=(Jm=(0,n.a.Service)(Js),Object(ee.log)((Xm=function(e){function BarrageTips(){var t,r;!function BarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTips);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageTips_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageTipsService",Zm,r),BarrageTips_possibleConstructorReturn(r,t)}return BarrageTips_inherits(BarrageTips,e),BarrageTips.prototype.hideSysTips=function hideSysTips(){var e=this;nh&&clearTimeout(nh),nh=setTimeout(function(){e.barrageTipsService.hideSysTips()},3e3)},BarrageTips.prototype.render=function render(){var e=this.props,t=e.tipsInfo,r=void 0===t?"":t,i=e.isShow,n=void 0!==i&&i;return r?(this.hideSysTips(),rh.a.createPortal(rs.a.createElement("div",{className:"BarrageTips"+(n?" BarrageTips--active":""),__source:{fileName:ih,lineNumber:41},__self:this},rs.a.createElement("span",{className:"BarrageTips-txt",__source:{fileName:ih,lineNumber:42},__self:this},rs.a.createElement("span",{className:"BarrageTips-icon",__source:{fileName:ih,lineNumber:43},__self:this}),rs.a.createElement("span",{__source:{fileName:ih,lineNumber:44},__self:this},r))),document.getElementById("js-player-asideMain"))):null},BarrageTips}(rs.a.Component),Zm=function BarrageTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Xm.prototype,"barrageTipsService",[Jm],{enumerable:!0,initializer:null}),Ym=Xm))||Ym);ah.propTypes={tipsInfo:$m.a.string.isRequired,isShow:$m.a.bool.isRequired};var oh,lh,sh,ch=Object(Km.connect)(function mapStateToProps(e){return{tipsInfo:e.barrageTips.tipsInfo,isShow:e.barrageTips.isShow}})(ah),uh=(r("43126"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGee/BarrageGee.js");function BarrageGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ph=(oh=(0,n.a.Service)(dc),lh=function(e){function BarrageGee(){!function BarrageGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGee);var t=function BarrageGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageGeeService",sh,t),t.state={hideGee:!1},t.geeFn=null,t}return BarrageGee_inherits(BarrageGee,e),BarrageGee.prototype.clickClose=function clickClose(){this.barrageGeeService.close()},BarrageGee.prototype.componentDidUpdate=function componentDidUpdate(){this.props.isShow&&this.barrageGeeService.init(this.props.dstUid)},BarrageGee.prototype.render=function render(){return this.props.isShow?rh.a.createPortal(rs.a.createElement("div",{className:"BarrageGee",__source:{fileName:uh,lineNumber:40},__self:this},rs.a.createElement("div",{className:"BarrageGee-close",onClick:this.clickClose.bind(this),__source:{fileName:uh,lineNumber:41},__self:this},"\xd7"),rs.a.createElement("span",{className:"BarrageGee-icon",__source:{fileName:uh,lineNumber:42},__self:this}),rs.a.createElement("div",{className:"BarrageGee-header",__source:{fileName:uh,lineNumber:43},__self:this},"\u8bf7\u901a\u8fc7\u5b89\u5168\u6821\u9a8c"),rs.a.createElement("div",{className:"BarrageGee-area",__source:{fileName:uh,lineNumber:44},__self:this}),rs.a.createElement("div",{className:"BarrageGee-captcha",id:"BarrageGee-captcha",__source:{fileName:uh,lineNumber:45},__self:this},rs.a.createElement("div",{className:"captcha-gt",__source:{fileName:uh,lineNumber:46},__self:this}))),document.body):null},BarrageGee}(rs.a.Component),sh=function BarrageGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(lh.prototype,"barrageGeeService",[oh],{enumerable:!0,initializer:null}),lh);ph.propTypes={dstUid:$m.a.string.isRequired,isShow:$m.a.bool.isRequired};var fh=Object(Km.connect)(function mapStateToProps(e){return{dstUid:e.barrageGee.dstUid,isShow:e.barrageGee.isShow}})(ph),dh=(r("719f0"),"startStep$"),bh="rocketSmallUp$",mh="superRocketSmallUp$",hh="planeSmallUp$",vh="superRockerUp$",gh="rockerUp$",yh="planeUp$",_h="batchUp$",Nh="nobleOpen$",Sh="banner$",Ch="dropDown$",wh="treasure$",Oh="endStep$";function giftReconcilerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftReconcilerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Eh=function(e){function GiftReconcilerServices(){!function giftReconcilerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftReconcilerServices);var t=function giftReconcilerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[bh]=new $f.Subject,t[mh]=new $f.Subject,t[hh]=new $f.Subject,t[dh]=new $f.Subject,t[_h]=new $f.Subject,t[yh]=new $f.Subject,t[gh]=new $f.Subject,t[vh]=new $f.Subject,t[Nh]=new $f.Subject,t[Sh]=new $f.Subject,t[Ch]=new $f.Subject,t[wh]=new $f.Subject,t[Oh]=new $f.Subject,t}return giftReconcilerServices_inherits(GiftReconcilerServices,e),GiftReconcilerServices.prototype.setStepList=function setStepList(e){this.totalSteps=this.totalSteps||[],this.stepList=[].concat(e),this.stepList.pop(),this.stepList.shift(),this.totalSteps=this.totalSteps.concat(this.stepList)},GiftReconcilerServices.prototype.runNext=function runNext(e){var t=this.totalSteps.shift();"startStep$"!==t&&"endStep$"!==t&&this[t].next(e)},GiftReconcilerServices}(b.Service);function giftViewServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftViewServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Dh,kh,jh,Rh,Ph,Th=function(e){function GiftViewServices(){!function giftViewServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftViewServices);var t=function giftViewServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[bh]=new $f.Subject,t[mh]=new $f.Subject,t[hh]=new $f.Subject,t[dh]=new $f.Subject,t[_h]=new $f.Subject,t[yh]=new $f.Subject,t[gh]=new $f.Subject,t[vh]=new $f.Subject,t[Nh]=new $f.Subject,t[Sh]=new $f.Subject,t[Ch]=new $f.Subject,t[wh]=new $f.Subject,t[Oh]=new $f.Subject,t}return giftViewServices_inherits(GiftViewServices,e),GiftViewServices}(b.Service),Bh=r("f57e5"),Lh=r("5f94a"),zh=r("368f5"),Mh=r("5bb61");function giftCenterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftCenterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftCenterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftCenterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ah=n.a.Service,Ih=(Dh=Ah(Th),kh=Ah(hd),jh=function(e){function GiftCenterService(){!function giftCenterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftCenterService);var t=function giftCenterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftCenterServices_initDefineProp(t,"giftViewController",Rh,t),giftCenterServices_initDefineProp(t,"barrageBannerServices",Ph,t),t.initStartStep(),t.initRocketSmallUp(),t.initSuperRocketSmallUp(),t.initPlaneSmallUp(),t.initPlaneSmallUp(),t.initSuperRockerUp(),t.initRockerUp(),t.initPlaneUp(),t.initBatchUp(),t.initNobleOpen(),t.initBanner(),t.initDropDown(),t.initTreasureBox(),t.initEndStep(),t}return giftCenterServices_inherits(GiftCenterService,e),GiftCenterService.prototype.callbackFromAnimation=function callbackFromAnimation(e,t,r){e[r].pipe(Object(Mh.take)(1)).subscribe(function(e){t(e)})},GiftCenterService.prototype.initStartStep=function initStartStep(){this[dh]=function(e){return Object(s.of)(e)}},GiftCenterService.prototype.initRocketSmallUp=function initRocketSmallUp(){var e=this;this[bh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,bh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initSuperRocketSmallUp=function initSuperRocketSmallUp(){var e=this;this[mh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,mh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initPlaneSmallUp=function initPlaneSmallUp(){var e=this;this[hh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,hh),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initRockerUp=function initRockerUp(){var e=this;this[gh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,gh),n[gh].next(t)}))}},GiftCenterService.prototype.initSuperRockerUp=function initSuperRockerUp(){var e=this;this[vh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,vh),n[vh].next(t)}))}},GiftCenterService.prototype.initPlaneUp=function initPlaneUp(){var e=this;this[yh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,yh),n[yh].next(t)}))}},GiftCenterService.prototype.initBatchUp=function initBatchUp(){var e=this;this[_h]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,_h),n[_h].next(t)}))}},GiftCenterService.prototype.initNobleOpen=function initNobleOpen(){var e=this;this[Nh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Nh),n[Nh].next(t)}))}},GiftCenterService.prototype.initBanner=function initBanner(){var e=this;this[Sh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Sh),e.barrageBannerServices.receiveBannerData({giftData:i,reconcilerService:n,viewService:a}),n.runNext(t)}))}},GiftCenterService.prototype.initDropDown=function initDropDown(){var e=this;this[Ch]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Ch),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initTreasureBox=function initTreasureBox(){var e=this;this[wh]=function(t){return Object(Bh.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,wh),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initEndStep=function initEndStep(){this[Oh]=function(){return Object(s.of)("\u5b8c\u6210")}},GiftCenterService.prototype.mappingStep=function mappingStep(e){var t=this,r=[];e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):r.push(e)});var i=r.map(function(e){var r=t[e];return Object(zh.mergeMap)(r)});return i.push(Object(Ot.catchError)(function(e){return e})),i},GiftCenterService.prototype.runSchedule=function runSchedule(e){var t=this;this.runningSchedule||(this.runningSchedule=!0,Lh.queue.schedule(function(r){var i=this;if(0!==r.length){var n=r.shift();t.reconcilerService.setStepList(e),this.runningAnimation=!0,n.subscribe(function(){0!==r.length?i.schedule(r):(t.runningAnimation=!1,t.runningSchedule=!1)})}},0,this.animationQueue$))},GiftCenterService.prototype.ayncAnimationStep=function ayncAnimationStep(e){var t=this;return e.map(function(e){if(Array.isArray(e))return Object(zh.mergeMap)(function(r){var i=[];return e.forEach(function(e){var n=t[e](r);i.push(n)}),l.forkJoin.apply(void 0,i)});var r=t[e];return Object(zh.mergeMap)(r)})},GiftCenterService}(b.Service),Rh=giftCenterServices_applyDecoratedDescriptor(jh.prototype,"giftViewController",[Dh],{enumerable:!0,initializer:null}),Ph=giftCenterServices_applyDecoratedDescriptor(jh.prototype,"barrageBannerServices",[kh],{enumerable:!0,initializer:null}),jh);function superRockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superRockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fh=function(e){function SuperRockerGiftService(){!function superRockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperRockerGiftService);var t=function superRockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,mh,vh,Sh,Ch,wh,Oh],t.animationQueue$=[],t.reconcilerService=new Eh,t.viewService=new Th,t}return superRockerGiftServices_inherits(SuperRockerGiftService,e),SuperRockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},SuperRockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},SuperRockerGiftService}(Ih);function rockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var xh=function(e){function RockerGiftService(){!function rockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RockerGiftService);var t=function rockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,gh,Sh,Ch,wh,Oh],t.animationQueue$=[],t.reconcilerService=new Eh,t.viewService=new Th,t}return rockerGiftServices_inherits(RockerGiftService,e),RockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},RockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},RockerGiftService}(Ih);function planeGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function planeGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Gh=function(e){function PlaneGiftService(){!function planeGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaneGiftService);var t=function planeGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,yh,Sh,Ch,wh,Oh],t.animationQueue$=[],t.viewService=new Th,t}return planeGiftServices_inherits(PlaneGiftService,e),PlaneGiftService.prototype.execute=function execute(e){var t,r=new Eh,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},PlaneGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},PlaneGiftService}(Ih);function batchGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function batchGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Uh=function(e){function BatchGiftService(){!function batchGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchGiftService);var t=function batchGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,_h,Sh,Ch,wh,Oh],t.animationQueue$=[],t.reconcilerService=new Eh,t.viewService=new Th,t}return batchGiftServices_inherits(BatchGiftService,e),BatchGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},BatchGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},BatchGiftService}(Ih);function normalGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function normalGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Hh,Wh,Vh,$h,Kh,qh,Qh,Jh,Yh,Xh,Zh,ev,tv,rv,iv,nv,av,ov,lv,sv,cv=function(e){function NormalGiftService(){!function normalGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NormalGiftService);var t=function normalGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,Sh,Oh],t.animationQueue$=[],t.viewService=new Th,t}return normalGiftServices_inherits(NormalGiftService,e),NormalGiftService.prototype.execute=function execute(e){var t,r=new Eh,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},NormalGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},NormalGiftService}(Ih);function GiftSendMsgDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function GiftSendMsgDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftSendMsgDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftSendMsgDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function GiftSendMsgDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var uv,pv,fv,dv,bv,mv,hv,vv,gv,yv,_v,Nv,Sv,Cv,wv,Ov,Ev,Dv,kv,jv,Rv,Pv=m.basicTypes.string,Tv=m.basicTypes.number,Bv=m.basicTypes.optional,Lv=(Hh=(0,m.basicTypes.mapping)({senderId:"uid",senderName:"nn",senderAvatar:"ic",giftId:"gfid",hitTimes:"hits",anchorWeight:"dw",senderIcon:"ic",senderLv:"level",giftBoxId:"rpid",pecktype:"rpt"}),Wh=Bv(""),Vh=Bv(""),$h=Bv("1"),Kh=Bv(""),qh=Bv(""),Qh=Bv(""),Jh=Bv(""),Object(ee.log)(Yh=Hh((Xh=function(e){function GiftMsgDto(){var t,r;!function GiftSendMsgDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftMsgDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftSendMsgDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),GiftSendMsgDto_initDefineProp(r,"senderId",Zh,r),GiftSendMsgDto_initDefineProp(r,"senderName",ev,r),GiftSendMsgDto_initDefineProp(r,"senderAvatar",tv,r),GiftSendMsgDto_initDefineProp(r,"giftId",rv,r),GiftSendMsgDto_initDefineProp(r,"hitTimes",iv,r),GiftSendMsgDto_initDefineProp(r,"anchorWeight",nv,r),GiftSendMsgDto_initDefineProp(r,"senderIcon",av,r),GiftSendMsgDto_initDefineProp(r,"senderLv",ov,r),GiftSendMsgDto_initDefineProp(r,"giftBoxId",lv,r),GiftSendMsgDto_initDefineProp(r,"pecktype",sv,r),GiftSendMsgDto_possibleConstructorReturn(r,t)}return GiftSendMsgDto_inherits(GiftMsgDto,e),GiftMsgDto}(m.EntityDto),Zh=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"senderId",[Pv],{enumerable:!0,initializer:null}),ev=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"senderName",[Wh,Pv],{enumerable:!0,initializer:null}),tv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"senderAvatar",[Vh,Pv],{enumerable:!0,initializer:null}),rv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"giftId",[Tv],{enumerable:!0,initializer:null}),iv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"hitTimes",[$h,Pv],{enumerable:!0,initializer:null}),nv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"anchorWeight",[Pv],{enumerable:!0,initializer:null}),av=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"senderIcon",[Kh,Pv],{enumerable:!0,initializer:null}),ov=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"senderLv",[qh,Pv],{enumerable:!0,initializer:null}),lv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"giftBoxId",[Qh,Pv],{enumerable:!0,initializer:null}),sv=GiftSendMsgDto_applyDecoratedDescriptor(Xh.prototype,"pecktype",[Jh,Pv],{enumerable:!0,initializer:null}),Yh=Xh))||Yh)||Yh),zv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function giftEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Mv,Av,Iv,Fv=n.a.Store,xv=n.a.Service,Gv=Ni.a.socketStream,Uv=o.a.decode,Hv=(uv=Fv(),pv=xv(m.DataCenter.global),fv=xv(m.DataCenter.common),dv=xv(Fh),bv=xv(xh),mv=xv(Gh),hv=xv(Uh),vv=xv(cv),gv=xv(Qc),yv=xv(Kf.a),_v=function(e){function giftEffectServices(){!function giftEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,giftEffectServices);var t=function giftEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftEffectServices_initDefineProp(t,"store",Nv,t),giftEffectServices_initDefineProp(t,"global",Sv,t),giftEffectServices_initDefineProp(t,"common",Cv,t),giftEffectServices_initDefineProp(t,"superRockerGiftService",wv,t),giftEffectServices_initDefineProp(t,"rockerGiftService",Ov,t),giftEffectServices_initDefineProp(t,"planeGiftServices",Ev,t),giftEffectServices_initDefineProp(t,"batchGiftServices",Dv,t),giftEffectServices_initDefineProp(t,"normalGiftServices",kv,t),giftEffectServices_initDefineProp(t,"shieldToolServices",jv,t),giftEffectServices_initDefineProp(t,"giftSendServices",Rv,t),t.config={allGiftConfMap:null,allPropConfMap:null,batchConf:null},t.giftList=[],t}return giftEffectServices_inherits(giftEffectServices,e),giftEffectServices.prototype.bindingSuperRocketSmallStateChange=function bindingSuperRocketSmallStateChange(e){this.superRockerGiftService.viewService[mh].subscribe(function(t){e(t)})},giftEffectServices.prototype.bindingSuperRocketStateChange=function bindingSuperRocketStateChange(e){this.superRockerGiftService.viewService[vh].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextSuperRocketAnimation=function runNextSuperRocketAnimation(e){this.superRockerGiftService.runNext(e)},giftEffectServices.prototype.bindingRockerStateChange=function bindingRockerStateChange(e){this.rockerGiftService.viewService[gh].subscribe(function(t){return e(t)})},giftEffectServices.prototype.runNextRockerAnimation=function runNextRockerAnimation(e){this.rockerGiftService.runNext(e)},giftEffectServices.prototype.bindingPlaneStateChange=function bindingPlaneStateChange(e){this.planeGiftServices.viewService[yh].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextPlaneAnimation=function runNextPlaneAnimation(e){this.planeGiftServices.runNext(e)},giftEffectServices.prototype.bindingBatchStateChange=function bindingBatchStateChange(e){this.batchGiftServices.viewService[_h].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextBatchAnimation=function runNextBatchAnimation(e){this.batchGiftServices.runNext(e)},giftEffectServices.prototype.giftEffectInit=function giftEffectInit(){this.giftMsgListen()},giftEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},giftEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},giftEffectServices.prototype.listenHistoryGiftMsg=function listenHistoryGiftMsg(){var e=this;Gv.subscribe("aghl",function(t){var r=t.glist;(void 0===r?[]:r).forEach(function(t){var r=Uv(t),i={isEnterRoom:!0,bannerType:"BANNER_4_GIFT",objectId:r.gid,senderId:r.sid,senderName:r.snk,hitTimes:parseInt(r.hs,10)||0,batchCount:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst};e.checkShieldIsStopEffect(r)||e.fetchGiftData(i)})})},giftEffectServices.prototype.listenGiftMsg=function listenGiftMsg(){var e=this,t=+this.global.get("USER_INFO.uid");this.common.get("$DATA").subscribe(function(r){var i=+r.get("room.owner_uid"),n=t>0&&t===i?"bgd":"dgb";Gv.subscribe(n,function(t){var r={isEnterRoom:!1,bannerType:"BANNER_4_GIFT",objectId:t.gfid,senderId:t.uid,senderName:t.nn,hitTimes:parseInt(t.hits,10)||0,batchCount:parseInt(t.bcnt,10)||0};e.checkShieldIsStopEffect(t)||e.fetchGiftData(r)})})},giftEffectServices.prototype.fetchGiftData=function fetchGiftData(e){var t=this,r=this.config||{},i=r.allGiftConfMap,n=r.allPropConfMap,a=r.batchConf;(i||n)&&a?this.handleGift({giftBaseInfo:e,allGiftConfMap:i,allPropConfMap:n,batchConf:a}):Object(l.forkJoin)(this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getAllPropsConfig(),this.giftSendServices.getBatchGiftConfig()).subscribe(function(i){var n=i[0],a=void 0===n?{}:n,o=i[1],l=void 0===o?{}:o,s=i[2],c=void 0===s?{}:s,u=a.data||[];r.allGiftConfMap={},u.forEach(function(e){r.allGiftConfMap[e.id]=e}),r.allPropConfMap=l.data||{},r.batchConf=c,t.handleGift({giftBaseInfo:e,allGiftConfMap:r.allGiftConfMap,allPropConfMap:r.allPropConfMap,batchConf:r.batchConf})})},giftEffectServices.prototype.log=function log(){console&&console.log(arguments)},giftEffectServices.prototype.handleGift=function handleGift(e){var t=e.giftBaseInfo,r=e.allGiftConfMap,i=e.allPropConfMap,n=e.batchConf,a=zv({},t),o=r[t.objectId],l=n;o?(a.giftType="gift",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u8d60\u9001...")):(o=i[t.objectId])&&(a.giftType="prop",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u9053\u5177\u8d60\u9001...")),o?(this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e"),this.processGift({giftBaseInfo:a,giftConfInfo:o,giftBatchInfo:l})):this.handleSingleGift({giftBaseInfo:a,giftBatchInfo:l})},giftEffectServices.prototype.handleSingleGift=function handleSingleGift(e){var t=this,r=e.giftBaseInfo,i=e.giftBatchInfo;console.warn("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e\u9700\u5355\u72ec\u5f02\u6b65\u5904\u7406\u6b64\u793c\u7269/\u9053\u5177"),this.giftSendServices.getSingleGiftConfig(r.objectId).subscribe(function(e){t.processGift({giftBaseInfo:r,giftConfInfo:e,giftBatchInfo:i})})},giftEffectServices.prototype.processGift=function processGift(e){var t=e.giftBaseInfo,r=e.giftConfInfo,i=e.giftBatchInfo;this.log("[\u793c\u7269\u7cfb\u7edf]: \u6b64\u793c\u7269\u4e3a",1===r.type?"\u9c7c\u4e38\u793c\u7269":"\u9c7c\u7fc5\u793c\u7269"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5355\u793c\u7269/\u9053\u5177\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5f00\u59cb\u8fdb\u5165\u52a8\u753b\u8fc7\u7a0b"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u57fa\u7840\u4fe1\u606f",t),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u914d\u7f6e\u4fe1\u606f",r),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u6279\u91cf\u4fe1\u606f",i)},giftEffectServices.prototype.listenHandler=function listenHandler(e){var t=this,r=e;if(this.checkShieldIsStopEffect(r))return!1;r.gfid=parseInt(r.gfid,10);var i=Lv.fromJSON(r);return Object(l.forkJoin)(Object(s.of)(i),this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getBatchGiftConfig(),this.giftSendServices.getAllPropsConfig()).subscribe(function(r){var i=r[0],n=r[1]?r[1].data:[],a=r[2]||{},o=r[3]?r[3].data:{},l=a.batch_conf||{},s=a.bimg||{},c={},u=n.map(function(e){var t=Object.assign({},e),r=l[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t});Object.keys(o).forEach(function(e){var t=o[e]||{},r=Object.assign({},t),i=l[e];if(i){var n=i.list;r.isBatch=1,r.cultureContent=i.culture_content,r.descA=i.desc_content_1,r.descB=i.desc_content_2,r.batchNumArr=[],r.batchData={},n.forEach(function(e){r.batchNumArr.push(e.num),r.batchData[e.num]=e})}c[e]=r});var p={};u&&u.length>0&&u.forEach(function(e){p[e.id]=e});var f=(u=zv({},c,p))[i.giftId];if(f){var d=Object.assign({},zv({bannerType:"BANNER_4_GIFT"},f,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:f,sttData:i,data:e,batchBannerConf:s}));switch(parseInt(f.ef,10)){case 0:d.data.gfcnt>1?t.batchGiftServices.execute(d):t.normalGiftServices.execute(d);break;case 101:case 1:case 2:t.batchGiftServices.execute(d);break;default:t.normalGiftServices.execute(d)}}}),!1},giftEffectServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},giftEffectServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(m.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},giftEffectServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(Vf.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},giftEffectServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},giftEffectServices.prototype.giftMsgListen=function giftMsgListen(){var e=this,t=+this.global.get("USER_INFO.uid"),r=new $f.Subject;r.subscribe(function(t){return e.listenHandler(t)}),this.common.get("$DATA").subscribe(function(i){var n=+i.get("room.owner_uid"),a=t>0&&t===n?"bgd":"dgb";Gv.subscribe(a,function(t){e.isNeedBarrageAbandon(t)?0===e.giftList.length?(e.pressInGiftList(t),e.giftAsync(r)):e.pressInGiftList(t):e.listenHandler(t)}),Gv.subscribe("aghl",function(t){var r=t.glist,i=void 0===r?[]:r;return Object(l.forkJoin)(Object(s.of)(i),e.giftSendServices.getAllGiftConfig(),e.giftSendServices.getBatchGiftConfig(),e.giftSendServices.getAllPropsConfig()).subscribe(function(t){var r=t[0],i=t[1]?t[1].data:[],n=t[2]||{},a=t[3]?t[3].data:{},o=n.batch_conf||{},l=n.bimg||{},s=i.map(function(e){var t=Object.assign({},e),r=o[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t}),c={};s&&s.length>0&&s.forEach(function(e){c[e.id]=e}),s=zv({},a,c),r.forEach(function(t){var r=Uv(t),i={bannerType:"BANNER_4_GIFT",componentKey:"giftEffect-"+(new Date).getTime(),giftId:r.gid,senderId:r.sid,senderName:r.snk,bannerStyle:r.gs,hitTimes:r.hs||1,bcnt:r.hs||1,gfcnt:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst,bst:r.bst};if(!e.checkShieldIsStopEffect(i)){var n=s[i.giftId];if(n){var a=Object.assign({},zv({},n,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:n,sttData:i,data:i,batchBannerConf:l}));e.normalGiftServices.execute(a)}}})}),!1})})},giftEffectServices}(b.Service),Nv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"store",[uv],{enumerable:!0,initializer:null}),Sv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"global",[pv],{enumerable:!0,initializer:null}),Cv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"common",[fv],{enumerable:!0,initializer:null}),wv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"superRockerGiftService",[dv],{enumerable:!0,initializer:null}),Ov=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"rockerGiftService",[bv],{enumerable:!0,initializer:null}),Ev=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"planeGiftServices",[mv],{enumerable:!0,initializer:null}),Dv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"batchGiftServices",[hv],{enumerable:!0,initializer:null}),kv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"normalGiftServices",[vv],{enumerable:!0,initializer:null}),jv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"shieldToolServices",[gv],{enumerable:!0,initializer:null}),Rv=giftEffectServices_applyDecoratedDescriptor(_v.prototype,"giftSendServices",[yv],{enumerable:!0,initializer:null}),_v),Wv=r("2a355"),Vv=r.n(Wv);function svgaEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function svgaEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}m.DataCenter.global;var $v=new(Mv=(0,n.a.Service)(ss.a),Av=function(e){function SvgaEffectServices(){!function svgaEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SvgaEffectServices);var t=function svgaEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function svgaEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageService",Iv,t),t.effectQueue={array:[],isComplete:!0,flag:!0,parentDom:document.querySelector(".GiftEffect-svga"),documentHidden:!1},t.listen(),t}return svgaEffectServices_inherits(SvgaEffectServices,e),SvgaEffectServices.prototype.init=function init(){var e=this.effectQueue,t=this.checkSupportSvga();window.loader.loadFile("//sta-op.douyucdn.cn/front-publish/sdk-file-master/js/svga_5a7bd4a.js",function(){var t=svgaLib.default;e.svga=new t,e.parentDom=document.querySelector(".GiftEffect-svga"),e.svga.initDom(e.parentDom)}),e.flag=t},SvgaEffectServices.prototype.listen=function listen(){var e=this.effectQueue;Vv.a.subscribe(function(t){e.documentHidden=t.hidden})},SvgaEffectServices.prototype.startQueue=function startQueue(e){var t=this.effectQueue;if(0===t.array.length)return t.isComplete=!0,void(e&&e());if(t.isComplete){var r=t.array[0];t.isComplete=!1,this.playSvga(r,e)}},SvgaEffectServices.prototype.playSvga=function playSvga(e,t){var r=this,i=this.effectQueue;i.svga.addSVGA(e,1,function(){if(i.svga.disposeSvga(),i.array.shift(),0!==i.array.length){var e=i.array[0];r.playSvga(e)}else i.isComplete=!0,i.svga.disposeSvga();t&&t()},function(){})},SvgaEffectServices.prototype.pushQueue=function pushQueue(e,t){var r=this.effectQueue;r.parentDom||this.init(),r.flag?r.documentHidden?r.documentHidden&&t&&t():(r.array.push(e),this.startQueue(t)):(this.barrageService.receiveSysTipsMsg({resMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u89c2\u770b\u793c\u7269\u52a8\u6548"}),t&&t())},SvgaEffectServices.prototype.checkSupportSvga=function checkSupportSvga(){var e=!1;try{e=0===(new ArrayBuffer).byteLength}catch(e){console.log("\u6d4f\u89c8\u5668\u7248\u672c\u4e0d\u652f\u6301SVGA")}return e},SvgaEffectServices}(b.Service),Iv=function svgaEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Av.prototype,"barrageService",[Mv],{enumerable:!0,initializer:null}),Av);$v.init();var Kv,qv,Qv,Jv=$v;function Batch_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Batch_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Batch_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Yv,Xv,Zv,eg=(Kv=(0,n.a.Service)(Hv),qv=function(e){function Batch(){var t,r;!function Batch_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Batch);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=Batch_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function Batch_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",Qv,r),Batch_possibleConstructorReturn(r,t)}return Batch_inherits(Batch,e),Batch.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.giftEffect,r=e.clearGiftData,i=t.giftData,n=this.getSvgaUrl(i);if(n)Jv.pushQueue(n,function(){r()});else{var a=i.effectIcon;a?(a=a.replace(/https?:/,""),Jv.pushQueue(a,function(){r()})):r()}this.clearAnimate(t)},Batch.prototype.clearAnimate=function clearAnimate(e){this.giftEffectServices.runNextBatchAnimation(e)},Batch.prototype.getSvgaUrl=function getSvgaUrl(e){for(var t=e.batchNumArr,r=void 0===t?[]:t,i=e.batchData,n=void 0===i?{}:i,a=e.data,o=(void 0===a?{}:a).gfcnt||1,l="",s=0;s<r.length;s++)parseInt(o,10)>=parseInt(r[s],10)&&(l=r[s]);var c=n[l]?n[l].barrage_effect:"";return c=c.replace(/https?:/,"")},Batch.prototype.render=function render(){return this.props.giftEffect.giftData?rs.a.createElement("div",{className:"GiftEffect-empty",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/Batch.js",lineNumber:70},__self:this}):null},Batch}(rs.a.Component),Qv=function Batch_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(qv.prototype,"giftEffectServices",[Kv],{enumerable:!0,initializer:null}),qv),tg="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/BatchContainer.js";function BatchContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BatchContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rg,ig,ng,ag,og,lg,sg,cg,ug,pg,fg,dg,bg=(Yv=(0,n.a.Service)(Hv),Xv=function(e){function BatchContainer(t){!function BatchContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchContainer);var r=function BatchContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BatchContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",Zv,r),r.state={giftData:[]},r}return BatchContainer_inherits(BatchContainer,e),BatchContainer.prototype.componentDidMount=function componentDidMount(){this.giftEffectServices.bindingBatchStateChange(this.changeData.bind(this))},BatchContainer.prototype.changeData=function changeData(e){var t=this.state.giftData||[];t.push(e),this.setState({giftData:t})},BatchContainer.prototype.clearGiftData=function clearGiftData(){var e=this.state.giftData||[];e.shift(),this.setState({giftData:e})},BatchContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=rs.a.createElement(eg,{key:r.giftData.giftEHash,giftEffect:r,clearGiftData:this.clearGiftData.bind(this),__source:{fileName:tg,lineNumber:46},__self:this})}return t},BatchContainer.prototype.render=function render(){var e=this.state.giftData,t=this.getEffectDom(e);return rs.a.createElement("div",{className:"GiftEffect-batch"+(e.length>0?" is-active":""),__source:{fileName:tg,lineNumber:61},__self:this},rs.a.createElement("div",{className:"GiftEffect-svga",__source:{fileName:tg,lineNumber:62},__self:this}),t)},BatchContainer}(rs.a.Component),Zv=function BatchContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Xv.prototype,"giftEffectServices",[Yv],{enumerable:!0,initializer:null}),Xv);function NobleOpenEffectDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleOpenEffectDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffectDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleOpenEffectDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mg,hg,vg,gg,yg,_g,Ng,Sg,Cg,wg,Og,Eg,Dg,kg,jg=m.basicTypes.string,Rg=m.basicTypes.mapping,Pg=m.basicTypes.number,Tg=Rg({roomId:"rid",gid:"gid",bt:"bt",userId:"uid",hrp:"hrp",userNick:"unk",openRoomId:"drid",nobleLevel:"nl",ts:"ts",userAvatar:"uic"})((ig=function(e){function NobleOpenEffectDto(){var t,r;!function NobleOpenEffectDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffectDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleOpenEffectDto_initDefineProp(r,"roomId",ng,r),NobleOpenEffectDto_initDefineProp(r,"gid",ag,r),NobleOpenEffectDto_initDefineProp(r,"bt",og,r),NobleOpenEffectDto_initDefineProp(r,"userId",lg,r),NobleOpenEffectDto_initDefineProp(r,"hrp",sg,r),NobleOpenEffectDto_initDefineProp(r,"userNick",cg,r),NobleOpenEffectDto_initDefineProp(r,"openRoomId",ug,r),NobleOpenEffectDto_initDefineProp(r,"nobleLevel",pg,r),NobleOpenEffectDto_initDefineProp(r,"ts",fg,r),NobleOpenEffectDto_initDefineProp(r,"userAvatar",dg,r),NobleOpenEffectDto_possibleConstructorReturn(r,t)}return NobleOpenEffectDto_inherits(NobleOpenEffectDto,e),NobleOpenEffectDto}(m.EntityDto),ng=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"roomId",[jg],{enumerable:!0,initializer:null}),ag=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"gid",[jg],{enumerable:!0,initializer:null}),og=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"bt",[jg],{enumerable:!0,initializer:null}),lg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"userId",[jg],{enumerable:!0,initializer:null}),sg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"hrp",[jg],{enumerable:!0,initializer:null}),cg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"userNick",[jg],{enumerable:!0,initializer:null}),ug=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"openRoomId",[jg],{enumerable:!0,initializer:null}),pg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"nobleLevel",[Pg],{enumerable:!0,initializer:null}),fg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"ts",[jg],{enumerable:!0,initializer:null}),dg=NobleOpenEffectDto_applyDecoratedDescriptor(ig.prototype,"userAvatar",[jg],{enumerable:!0,initializer:null}),rg=ig))||rg;function NobleEffectConfigDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleEffectConfigDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleEffectConfigDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleEffectConfigDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleEffectConfigDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Bg=m.basicTypes.string,Lg=m.basicTypes.number,zg=m.basicTypes.optional,Mg=(mg=(0,m.basicTypes.mapping)({nobleEffectSwitch:"is_special",bannerStayTime:"stay_milli_sec",bannerBgImg:"pc_bg",bannerHeaderImg:"pc_pic",nobleOpenSwf:"spl_pc_flash",nobleOpenBg:"spl_pc_bg",bannerSenderNameColor:"text_color1",bannerObjectNameColor:"text_color2",contribution:"display_rank"}),hg=zg(""),vg=zg(""),Object(ee.log)(gg=mg((yg=function(e){function NobleEffectConfigDto(){var t,r;!function NobleEffectConfigDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleEffectConfigDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleEffectConfigDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleEffectConfigDto_initDefineProp(r,"nobleEffectSwitch",_g,r),NobleEffectConfigDto_initDefineProp(r,"bannerStayTime",Ng,r),NobleEffectConfigDto_initDefineProp(r,"bannerBgImg",Sg,r),NobleEffectConfigDto_initDefineProp(r,"bannerHeaderImg",Cg,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenSwf",wg,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenBg",Og,r),NobleEffectConfigDto_initDefineProp(r,"bannerSenderNameColor",Eg,r),NobleEffectConfigDto_initDefineProp(r,"bannerObjectNameColor",Dg,r),NobleEffectConfigDto_initDefineProp(r,"contribution",kg,r),NobleEffectConfigDto_possibleConstructorReturn(r,t)}return NobleEffectConfigDto_inherits(NobleEffectConfigDto,e),NobleEffectConfigDto}(m.EntityDto),_g=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"nobleEffectSwitch",[Lg],{enumerable:!0,initializer:null}),Ng=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"bannerStayTime",[Lg],{enumerable:!0,initializer:null}),Sg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"bannerBgImg",[Bg],{enumerable:!0,initializer:null}),Cg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"bannerHeaderImg",[Bg],{enumerable:!0,initializer:null}),wg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"nobleOpenSwf",[hg,Bg],{enumerable:!0,initializer:null}),Og=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"nobleOpenBg",[vg,Bg],{enumerable:!0,initializer:null}),Eg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"bannerSenderNameColor",[Bg],{enumerable:!0,initializer:null}),Dg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"bannerObjectNameColor",[Bg],{enumerable:!0,initializer:null}),kg=NobleEffectConfigDto_applyDecoratedDescriptor(yg.prototype,"contribution",[Lg],{enumerable:!0,initializer:null}),gg=yg))||gg)||gg);function nobleOpenServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ag,Ig,Fg,xg,Gg,Ug,Hg,Wg,Vg,$g,Kg,qg=function(e){function NobleOpenServices(){!function nobleOpenServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenServices);var t=function nobleOpenServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[dh,Nh,Sh,Oh],t.animationQueue$=[],t.reconcilerService=new Eh,t.viewService=new Th,t}return nobleOpenServices_inherits(NobleOpenServices,e),NobleOpenServices.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},NobleOpenServices.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},NobleOpenServices}(Ih);function nobleOpenEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleOpenEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleOpenEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleOpenEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Qg,Jg,Yg,Xg=n.a.Service,Zg=n.a.Store,ey=Ni.a.socketStream,ty=(Ag=Zg(),Ig=Xg(qg),Fg=Xg(Qc),xg=Xg(m.DataCenter.global),Gg=Xg(m.DataCenter.common),Ug=function(e){function NobleOpenEffectServices(){var t,r;!function nobleOpenEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleOpenEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleOpenEffectServices_initDefineProp(r,"store",Hg,r),nobleOpenEffectServices_initDefineProp(r,"nobleOpenServices",Wg,r),nobleOpenEffectServices_initDefineProp(r,"shieldToolServices",Vg,r),nobleOpenEffectServices_initDefineProp(r,"global",$g,r),nobleOpenEffectServices_initDefineProp(r,"common",Kg,r),r.config={effectStayTimes:{1:4e3,2:4e3,3:5e3,4:6e3,5:8e3,6:1e4,7:4e3}},nobleOpenEffectServices_possibleConstructorReturn(r,t)}return nobleOpenEffectServices_inherits(NobleOpenEffectServices,e),NobleOpenEffectServices.prototype.bindingNobleOpenEffectStateChange=function bindingNobleOpenEffectStateChange(e){this.nobleOpenServices.viewService[Nh].subscribe(function(t){e(t)})},NobleOpenEffectServices.prototype.runNextNobleOpenEffectAnimation=function runNextNobleOpenEffectAnimation(e){this.nobleOpenServices.runNext(e)},NobleOpenEffectServices.prototype.nobleEffectInit=function nobleEffectInit(){this.roomId=+this.global.get("$ROOM.room_id"),this.nobleEffectListen()},NobleOpenEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},NobleOpenEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},NobleOpenEffectServices.prototype.nobleEffectListen=function nobleEffectListen(){var e=this;ey.subscribe("anbc",function(t){var r=t;if(+r.drid!==e.roomId)return!1;if(e.checkShieldIsStopEffect(r))return!1;r.nl=parseInt(r.nl,10);var i=Tg.fromJSON(r);return e.common.get("$DATA").subscribe(function(t){var r=t.get("room.nobleConfig");Object(l.forkJoin)(Object(s.of)(i),m.jsonpClient.get(Object(m.Dictionary)(Mg),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(t){var i=t[0],n=i.nobleLevel,a=(t[1].data||{})[n];if(a){var o={isEnterRoom:!1,bannerType:"BANNER_4_NOBLE",objectId:n,senderId:i.userId||"",senderName:i.userNick,bannerStayTime:a.bannerStayTime,objectName:r[n].noble_name,bannerBgImg:a.bannerBgImg,bannerHeaderImg:a.bannerHeaderImg,bannerSenderNameColor:a.bannerSenderNameColor,bannerObjectNameColor:a.bannerObjectNameColor,contribution:a.contribution||0,senderAvatar:"//apic.douyucdn.cn/upload/"+i.userAvatar+"_middle.jpg",effectStayTime:e.config.effectStayTimes[n],effectBg:a.nobleOpenBg,effectSwf:a.nobleOpenSwf,nobleEffectSwitch:a.nobleEffectSwitch,effectHash:"openNobleEffect-"+(new Date).getTime(),effectState:1};e.nobleOpenServices.execute(o)}})}),!1}),ey.subscribe("memberinfores",function(t){e.common.get("$DATA").subscribe(function(r){var i=r.get("room.nobleConfig");(t.nblist||[]).forEach(function(t){var r=t.nl;r&&Object(l.forkJoin)(Object(s.of)(i),m.jsonpClient.get(Object(m.Dictionary)(Mg),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(n){var a=n[1][r],o=i[r];a&&o&&e.nobleOpenServices.execute({isEnterRoom:!0,bannerType:"BANNER_4_NOBLE",objectId:r,senderId:t.uid||"",senderName:t.unk,bannerStayTime:1e3*t.ltc||0,objectName:o.noble_name,bannerBgImg:a.pc_bg,bannerHeaderImg:a.pc_pic,bannerSenderNameColor:a.text_color1,bannerObjectNameColor:a.text_color2,contribution:a.display_rank||0,nobleEffectSwitch:0,effectHash:"openNobleEffect-"+(new Date).getTime()})})})})})},NobleOpenEffectServices.prototype.returnGlobalData=function returnGlobalData(){return this.global},NobleOpenEffectServices}(b.Service),Hg=nobleOpenEffectServices_applyDecoratedDescriptor(Ug.prototype,"store",[Ag],{enumerable:!0,initializer:null}),Wg=nobleOpenEffectServices_applyDecoratedDescriptor(Ug.prototype,"nobleOpenServices",[Ig],{enumerable:!0,initializer:null}),Vg=nobleOpenEffectServices_applyDecoratedDescriptor(Ug.prototype,"shieldToolServices",[Fg],{enumerable:!0,initializer:null}),$g=nobleOpenEffectServices_applyDecoratedDescriptor(Ug.prototype,"global",[xg],{enumerable:!0,initializer:null}),Kg=nobleOpenEffectServices_applyDecoratedDescriptor(Ug.prototype,"common",[Gg],{enumerable:!0,initializer:null}),Ug),ry="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffect.js";function NobleOpenEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var iy,ny,ay,oy=(Qg=(0,n.a.Service)(ty),Jg=function(e){function NobleOpenEffect(){var t,r;!function NobleOpenEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleOpenEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",Yg,r),r.giftEffectTimer=null,NobleOpenEffect_possibleConstructorReturn(r,t)}return NobleOpenEffect_inherits(NobleOpenEffect,e),NobleOpenEffect.prototype.componentDidMount=function componentDidMount(){},NobleOpenEffect.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.giftEffectTimer)},NobleOpenEffect.prototype.componentClear=function componentClear(e,t,r){var i=this;clearTimeout(this.giftEffectTimer),this.giftEffectTimer=setTimeout(function(){t(),i.nobleOpenEffectServices.runNextNobleOpenEffectAnimation(e)},r)},NobleOpenEffect.prototype.render=function render(){var e=this.props,t=e.giftEffect,r=e.clearEffectData,i=t.giftData;return i?1!==+i.nobleEffectSwitch||i.isEnterRoom?(this.componentClear(t,r,0),null):(i.effectState&&this.componentClear(t,r,i.effectStayTime),rs.a.createElement("div",{className:"NobleOpenEffect",__source:{fileName:ry,lineNumber:46},__self:this},rs.a.createElement("div",{className:"NobleOpenEffect-flashWrap",__source:{fileName:ry,lineNumber:47},__self:this},rs.a.createElement("embed",{wmode:"transparent",width:"100%",height:"100%",src:i.effectSwf,__source:{fileName:ry,lineNumber:48},__self:this})),rs.a.createElement("div",{className:"NobleOpenEffect-content",__source:{fileName:ry,lineNumber:54},__self:this},rs.a.createElement("div",{className:"NobleOpenEffect-avatar",__source:{fileName:ry,lineNumber:55},__self:this},rs.a.createElement("img",{src:i.senderAvatar,className:"NobleOpenEffect-avatarImg",__source:{fileName:ry,lineNumber:56},__self:this})),rs.a.createElement("img",{src:i.effectBg,className:"NobleOpenEffect-avatarBg",__source:{fileName:ry,lineNumber:58},__self:this}),rs.a.createElement("div",{className:"NobleOpenEffect-names",__source:{fileName:ry,lineNumber:59},__self:this},rs.a.createElement("span",{className:"NobleOpenEffect-userName",title:i.senderName,__source:{fileName:ry,lineNumber:60},__self:this},i.senderName),rs.a.createElement("span",{className:"NobleOpenEffect-nobleName",__source:{fileName:ry,lineNumber:63},__self:this},"\u5f00\u901a",i.objectName))))):null},NobleOpenEffect}(rs.a.Component),Yg=function NobleOpenEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Jg.prototype,"nobleOpenEffectServices",[Qg],{enumerable:!0,initializer:null}),Jg);r("cc667");function NobleOpenEffectContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ly,sy,cy,uy=(iy=(0,n.a.Service)(ty),ny=function(e){function NobleOpenEffectContainer(t){!function NobleOpenEffectContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectContainer);var r=function NobleOpenEffectContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function NobleOpenEffectContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",ay,r),r.state={effectData:[]},r}return NobleOpenEffectContainer_inherits(NobleOpenEffectContainer,e),NobleOpenEffectContainer.prototype.componentDidMount=function componentDidMount(){this.nobleOpenEffectServices.nobleEffectInit(),this.nobleOpenEffectServices.bindingNobleOpenEffectStateChange(this.changeData.bind(this))},NobleOpenEffectContainer.prototype.changeData=function changeData(e){var t=this.state.effectData||[];t.push(e),this.setState({effectData:t})},NobleOpenEffectContainer.prototype.clearEffectData=function clearEffectData(){var e=this.state.effectData||[];e.shift(),this.setState({effectData:e})},NobleOpenEffectContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=rs.a.createElement(oy,{key:r.giftData.effectHash,clearEffectData:this.clearEffectData.bind(this),giftEffect:r,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffectContainer.js",lineNumber:47},__self:this})}return t},NobleOpenEffectContainer.prototype.render=function render(){var e=this.state.effectData;return this.getEffectDom(e)},NobleOpenEffectContainer}(rs.a.Component),ay=function NobleOpenEffectContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ny.prototype,"nobleOpenEffectServices",[iy],{enumerable:!0,initializer:null}),ny),py="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/GiftEffect.js";function GiftEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fy,dy,by,my,hy,vy,gy,yy=(ly=(0,n.a.Service)(Hv),sy=function(e){function GiftEffectContainer(){var t,r;!function GiftEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftEffectContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function GiftEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatGiftService",cy,r),GiftEffect_possibleConstructorReturn(r,t)}return GiftEffect_inherits(GiftEffectContainer,e),GiftEffectContainer.prototype.componentDidMount=function componentDidMount(){this.chatGiftService.giftEffectInit()},GiftEffectContainer.prototype.render=function render(){return rs.a.createElement("div",{className:"GiftEffect-box",__source:{fileName:py,lineNumber:19},__self:this},rs.a.createElement(bg,{__source:{fileName:py,lineNumber:20},__self:this}),rs.a.createElement(uy,{__source:{fileName:py,lineNumber:21},__self:this}))},GiftEffectContainer}(rs.a.Component),cy=function GiftEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(sy.prototype,"chatGiftService",[ly],{enumerable:!0,initializer:null}),sy),_y=r("8d010"),Ny=r.n(_y),Sy=r("5a05f"),Cy=r("2a2b5"),wy=r.n(Cy),Oy="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatAd/index.js";function RoomChatAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ey,Dy,ky,jy,Ry,Py,Ty,By,Ly,zy,My,Ay=n.a.Service,Iy=(fy=Ay(wy.a),dy=Ay(m.DataCenter.common),gy=vy=function(e){function RoomChatAd(){var t,r;!function RoomChatAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChatAd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatAd_initDefineProp(r,"signRateServices",my,r),RoomChatAd_initDefineProp(r,"common",hy,r),r.handleClsClick=function(){clearTimeout(r.timer),r.setState({visible:!0})},RoomChatAd_possibleConstructorReturn(r,t)}return RoomChatAd_inherits(RoomChatAd,e),RoomChatAd.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.state.adData.showtime,r=1e3*(parseInt(t,10)||0);this.setState({flag:!1,signRate:!1}),r&&(this.timer=setTimeout(function(){e.setState({visible:!0})},r)),this.signRateServices.jsonpSignRateRule()},RoomChatAd.prototype.render=function render(){var e=this.state,t=e.link,r=e.src,i=e.visible,n=e.exConfig,a=void 0===n?{}:n,o=e.signRate,l=this.props.data.style,s=void 0===l?{}:l;return!i&&o?rs.a.createElement("div",{className:"SignBaseComponent-sign-box RoomChat Barrage-chat-ad",style:s,__source:{fileName:Oy,lineNumber:60},__self:this},rs.a.createElement(Sy.SignTemplate,{src:r,link:t,EC:a,handleShowSign:this.handleShowSign,handleClickSign:this.handleClickSign,__source:{fileName:Oy,lineNumber:61},__self:this}),rs.a.createElement("a",{className:"SignChatAd-chat-ad-cls",onClick:this.handleClsClick,title:"\u5173\u95ed",__source:{fileName:Oy,lineNumber:68},__self:this},"\u5173\u95ed")):null},RoomChatAd}(Ny.a),vy.timer=null,my=RoomChatAd_applyDecoratedDescriptor((by=gy).prototype,"signRateServices",[fy],{enumerable:!0,initializer:null}),hy=RoomChatAd_applyDecoratedDescriptor(by.prototype,"common",[dy],{enumerable:!0,initializer:null}),by),Fy=r("4d400"),xy=r.n(Fy),Gy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Uy="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatBottom/index.js";function RoomChatBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Hy,Wy,Vy,$y,Ky,qy,Qy,Jy,Yy,Xy=n.a.Service,Zy=(Ey=Xy(wy.a),Dy=Xy(xy.a),ky=Xy(m.DataCenter.common),jy=Xy(m.DataCenter.localStorage),My=zy=function(e){function RoomChat(){var t,r;!function RoomChatBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatBottom_initDefineProp(r,"signRateServices",Py,r),RoomChatBottom_initDefineProp(r,"signServices",Ty,r),RoomChatBottom_initDefineProp(r,"common",By,r),RoomChatBottom_initDefineProp(r,"store",Ly,r),r.handleClsClick=function(){r.setState({ec:Gy({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.hideSysAd()},RoomChatBottom_possibleConstructorReturn(r,t)}return RoomChatBottom_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData()},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.store;this.setState({visible:!0}),t.get("roomChatBottomAD")||(setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid),setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),e.hideSysAd()},15e3)},18e4),t.set("roomChatBottomAD",1,259200))},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return rs.a.createElement("div",{className:"SysSign-Ad-Broadcast RoomChatBottom "+r,"data-dysign":e.posid,__source:{fileName:Uy,lineNumber:83},__self:this},rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:Uy,lineNumber:84},__self:this},rs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.adtitle,__source:{fileName:Uy,lineNumber:87},__self:this})),rs.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:Uy,lineNumber:89},__self:this},"\u5e7f\u544a"),rs.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:Uy,lineNumber:90},__self:this}))},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(Ny.a),zy.timer=null,Py=RoomChatBottom_applyDecoratedDescriptor((Ry=My).prototype,"signRateServices",[Ey],{enumerable:!0,initializer:null}),Ty=RoomChatBottom_applyDecoratedDescriptor(Ry.prototype,"signServices",[Dy],{enumerable:!0,initializer:null}),By=RoomChatBottom_applyDecoratedDescriptor(Ry.prototype,"common",[ky],{enumerable:!0,initializer:null}),Ly=RoomChatBottom_applyDecoratedDescriptor(Ry.prototype,"store",[jy],{enumerable:!0,initializer:null}),Ry),e_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysBroadcast.js";function SysBroadcast_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysBroadcast_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysBroadcast_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysBroadcast_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var t_,r_,i_,n_,a_,o_,l_,s_,c_,u_,p_,f_=Ni.a.socketStream,d_=n.a.Service,b_="broadcastconfig",m_="broadcasts",h_="broadcastlimit",v_={delayTime:null,displayTime:null,hideTime:null},g_=1,y_=(Hy=d_(m.DataCenter.common),Wy=d_(m.DataCenter.global),Vy=d_(m.DataCenter.acj),$y=d_(m.DataCenter.localStorage),Ky=function(e){function RoomChat(t){!function SysBroadcast_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);var r=function SysBroadcast_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return SysBroadcast_initDefineProp(r,"common",qy,r),SysBroadcast_initDefineProp(r,"global",Qy,r),SysBroadcast_initDefineProp(r,"acj",Jy,r),SysBroadcast_initDefineProp(r,"store",Yy,r),r.handleClsClick=function(e){e&&Object(pr.dysub)("click_msg_sysradio_close"),v_.hideTime&&clearTimeout(v_.hideTime),r.setState({fadeCls:"SysSign-BroadcastNoad-FadeOut"}),setTimeout(function(){r.setState({renderType:!1})},1e3),r.canShowBroadcast()},r.state={adQueue:[],configLoaded:0,detailLoaded:0,currentData:{},config:"",fadeCls:"",renderType:!1},r.bindEvents(),r}return SysBroadcast_inherits(RoomChat,e),RoomChat.prototype.bindEvents=function bindEvents(){var e=this,t=this.global.get("$SYS").webconfUrl||"/";f_.subscribe("rsm",function(r){e.state.config?e.cacheState(e.state.config,r):Object(l.forkJoin)(Object(s.of)(r),m.jsonpClient.get(String,t+"resource/common/broadcast/broadcastJsonp.json","setSysBroadcastConf",{noCache:!0})).subscribe(function(t){var i=t[1]&&t[1].data&&"string"===typeof t[1].data?JSON.parse(t[1].data):{};e.cacheState(i,r)})})},RoomChat.prototype.cacheState=function cacheState(e,t){var r=this;this.store.set(b_,e),this.setState({config:e,currentData:t},function(){r.broadcastLoaded()})},RoomChat.prototype.broadcastLoaded=function broadcastLoaded(){var e=this,t=this;setTimeout(function(){if(t.props.state.signLoaded){var r=e.state.adQueue;r.push(1),t.setState({adQueue:r})}else t.setBroadcast()},0)},RoomChat.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;if(0===e.state.signLoaded&&this.state.adQueue.length>0){var r=this.state.adQueue||[];r.pop(),this.setState({adQueue:r},function(){t.setBroadcast()})}},RoomChat.prototype.setCacheLimit=function setCacheLimit(){var e=void 0,t=this.state.config,r=h_,i=(new Date).getTime();if(0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10)||this.store.remove(r),(e=this.store.get(r)||{}).showedTimes||(e.showedTimes=0,e.firstTime=(new Date).getTime()),0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10))if(e.firstTime+6e4*t.frequency.time>i){if(e.showedTimes>=t.frequency.count)return!1}else e={showedTimes:0,firstTime:(new Date).getTime()};return e},RoomChat.prototype.setBroadcast=function setBroadcast(){var e,t=this,r=this.global.get("$ROOM").room_id,i=m_,n=[],a=h_,o=this.state.config,l=this.state.currentData,s=l.id,c=parseInt(l.t,10),u=void 0;if(!s||l.clitp%2!==1||2!==c&&3!==c&&4!==c&&5!==c)return!1;s&&(s=parseInt(l.id,10));var p=this.setCacheLimit();return!!p&&((n=this.store.get(i))||(n={}),g_&&(g_=0,n[r]=null,delete n[r]),!((e=n&&n[r])&&o.sort[l.t]<o.sort[e.t])&&(l.link=1===parseInt(l.jmptp,10)?"/"+l.weburl:l.weburl,l.wis?(l.wis=o.broadcast_img_prefix+l.wis,u=1):u=3,clearTimeout(v_.displayTime),"number"===typeof p.showedTimes&&(p.showedTimes+=1),n[r]=l,this.store.set(a,p),this.store.set(i,n,31536e3),0!==o.delay?v_.delayTime=setTimeout(function(){t.setState({currentData:l,renderType:u},function(){Object(pr.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),clearTimeout(v_.delayTime)},1e3*parseInt(o.delay,10)):this.setState({currentData:l,renderType:u},function(){Object(pr.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),!1))},RoomChat.prototype.inTimeHide=function inTimeHide(e){var t=this;v_.hideTime&&clearTimeout(v_.hideTime),v_.hideTime=setTimeout(function(){t.handleClsClick()},1e3*e)},RoomChat.prototype.handleClickSign=function handleClickSign(){Object(pr.dysub)("click_msg_sysradio")},RoomChat.prototype.renderImgAd=function renderImgAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return rs.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:e_,lineNumber:285},__self:this},e.link?rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:e_,lineNumber:288},__self:this},rs.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:e_,lineNumber:293},__self:this})):rs.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:e_,lineNumber:295},__self:this}),rs.a.createElement("a",{className:"SysSign-BroadcastNoad-CloseIcon",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:e_,lineNumber:298},__self:this}))},RoomChat.prototype.renderNotifyFn=function renderNotifyFn(e){var t=this.state.fadeCls,r=void 0===t?"":t;return rs.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:e_,lineNumber:306},__self:this},rs.a.createElement("div",{className:"SysSign-BroadcastNoad-Header",__source:{fileName:e_,lineNumber:307},__self:this},rs.a.createElement("a",{className:"SysSign-BroadcastNoad-Close",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:e_,lineNumber:308},__self:this},"\u5173\u95ed")),rs.a.createElement("div",{className:"SysSign-BroadcastNoad-Body",__source:{fileName:e_,lineNumber:311},__self:this},e.link?rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-BroadcastNoad-Cont",target:"_blank",title:e.c,__source:{fileName:e_,lineNumber:314},__self:this},e.c):rs.a.createElement("div",{className:"SysSign-BroadcastNoad-Cont",__source:{fileName:e_,lineNumber:322},__self:this},e.c)))},RoomChat.prototype.canShowBroadcast=function canShowBroadcast(){var e=this,t=this;this.props.dispatchState({signLoaded:0},function(){if(e.state.adQueue.length>0){var r=e.state.adQueue;r.pop(),e.setState({adQueue:r},function(){t.setBroadcast()})}})},RoomChat.prototype.renderBroadcast=function renderBroadcast(){var e=this.state,t=e.renderType,r=e.currentData;return 1===t?this.renderImgAd(r):this.renderNotifyFn(r)},RoomChat.prototype.render=function render(){var e=this.state,t=e.renderType,r=e.adQueue;return!t||0!==(void 0===r?[]:r).length||this.props.state.signLoaded?null:this.renderBroadcast()},RoomChat}(rs.a.PureComponent),qy=SysBroadcast_applyDecoratedDescriptor(Ky.prototype,"common",[Hy],{enumerable:!0,initializer:null}),Qy=SysBroadcast_applyDecoratedDescriptor(Ky.prototype,"global",[Wy],{enumerable:!0,initializer:null}),Jy=SysBroadcast_applyDecoratedDescriptor(Ky.prototype,"acj",[Vy],{enumerable:!0,initializer:null}),Yy=SysBroadcast_applyDecoratedDescriptor(Ky.prototype,"store",[$y],{enumerable:!0,initializer:null}),Ky),__=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},N_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysAd.js";function SysAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function SysAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S_=n.a.Service,C_=(t_=S_(wy.a),r_=S_(xy.a),i_=S_(m.DataCenter.common),n_=S_(m.DataCenter.localStorage),p_=u_=function(e){function RoomChat(){var t,r;!function SysAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=SysAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),SysAd_initDefineProp(r,"signRateServices",o_,r),SysAd_initDefineProp(r,"signServices",l_,r),SysAd_initDefineProp(r,"common",s_,r),SysAd_initDefineProp(r,"store",c_,r),r.handleClsClick=function(){r.setState({ec:__({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.props.dispatchState({signLoaded:0}),r.hideSysAd()},SysAd_possibleConstructorReturn(r,t)}return SysAd_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData(),this.setState({visible:!1})},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.state.adData.ec,r=void 0===t?{}:t,i=r.showtime;i&&(this.props.dispatchState({signLoaded:1}),this.setState({visible:!this.isSignGapExpired(r.cd)},function(){setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid)},0),setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeOut"},function(){e.props.dispatchState({signLoaded:0})}),e.hideSysAd()},1e3*i)}))},RoomChat.prototype.isSignGapExpired=function isSignGapExpired(e){var t=Number(e),r=this.store,i="sign_last_show",n=r.get(i);return null===n?(r.set(i,+new Date),!0):!(!isNaN(t)&&void 0!==e)||+new Date-n>1e3*t&&(r.set(i,+new Date),!0)},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.srcid?rs.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:N_,lineNumber:117},__self:this},e.link?rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:N_,lineNumber:119},__self:this},rs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:N_,lineNumber:122},__self:this})):rs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:N_,lineNumber:124},__self:this}),rs.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:N_,lineNumber:126},__self:this},"\u5e7f\u544a"),rs.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:N_,lineNumber:127},__self:this})):this.renderTextAd(e)},RoomChat.prototype.renderTextAd=function renderTextAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.posid?rs.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:N_,lineNumber:142},__self:this},rs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Header",__source:{fileName:N_,lineNumber:143},__self:this},rs.a.createElement("a",{className:"SysSign-Ad-Broadcast-Close",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:N_,lineNumber:144},__self:this},"\u5173\u95ed")),e.link?rs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:N_,lineNumber:148},__self:this},rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Cont",target:"_blank",__source:{fileName:N_,lineNumber:149},__self:this},e.ec.text),rs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Godetail",target:"_blank",title:"\u67e5\u770b\u8be6\u60c5",__source:{fileName:N_,lineNumber:155},__self:this},"\u67e5\u770b\u8be6\u60c5")):rs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:N_,lineNumber:164},__self:this},rs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Cont",style:{marginBottom:"8px"},__source:{fileName:N_,lineNumber:165},__self:this},e.ec.text))):null},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(Ny.a),u_.timer=null,o_=SysAd_applyDecoratedDescriptor((a_=p_).prototype,"signRateServices",[t_],{enumerable:!0,initializer:null}),l_=SysAd_applyDecoratedDescriptor(a_.prototype,"signServices",[r_],{enumerable:!0,initializer:null}),s_=SysAd_applyDecoratedDescriptor(a_.prototype,"common",[i_],{enumerable:!0,initializer:null}),c_=SysAd_applyDecoratedDescriptor(a_.prototype,"store",[n_],{enumerable:!0,initializer:null}),a_),w_=(r("f42ba"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/index.js");function SignBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SignBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var O_,E_,D_,k_,j_=n.a.Region,R_=function(e){function SignBarrageComponent(t){!function SignBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SignBarrageComponent);var r=function SignBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state={signLoaded:0},r}return SignBarrage_inherits(SignBarrageComponent,e),SignBarrageComponent.prototype.dispatchState=function dispatchState(e,t){this.setState(e,t)},SignBarrageComponent.prototype.render=function render(){var e=this;return rs.a.createElement("div",{className:"SignBarrage",__source:{fileName:w_,lineNumber:32},__self:this},rs.a.createElement(j_,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"10014",viewRender:function viewRender(){return rs.a.createElement(C_,{dispatchState:e.dispatchState.bind(e),state:e.state,data:{className:"Barrage-sys-ad",id:"10014"},__source:{fileName:w_,lineNumber:39},__self:e})}},__source:{fileName:w_,lineNumber:33},__self:this}),rs.a.createElement(j_,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"30011",viewRender:function viewRender(){return rs.a.createElement(Zy,{data:{className:"Barrage-sys-ad",id:"30011"},__source:{fileName:w_,lineNumber:55},__self:e})}},__source:{fileName:w_,lineNumber:49},__self:this}),rs.a.createElement(y_,{dispatchState:this.dispatchState.bind(this),state:this.state,__source:{fileName:w_,lineNumber:63},__self:this}),rs.a.createElement(j_,{name:"sign",belongTo:"PlayerAsideApp",data:{id:"10020",viewRender:function viewRender(){return rs.a.createElement(Iy,{data:{type:"rate",id:"10020"},__source:{fileName:w_,lineNumber:72},__self:e})}},__source:{fileName:w_,lineNumber:67},__self:this}))},SignBarrageComponent}(rs.a.Component),P_=r("c1dfd"),T_=(r("a1b94"),"/shark/live/src/pages/roomPage/playerAsideModule/components/LitterSister/LitterSister.js");function LitterSister_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSister_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var B_=(O_=(0,n.a.Service)(Ur.a),Object(ee.log)((D_=function(e){function LitterSister(){!function LitterSister_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSister);var t=function LitterSister_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function LitterSister_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"litterSisterService",k_,t),t.handleClick=function(){var e=t.props.identSex;switch(Object(pr.dysub)("click_lsis_get"),e){case 0:Object(pr.dysub)("click_lsis_realverify"),window.location.href="/member/cp/changeIdent";break;case 1:case 3:t.closeSisDialog(),Object(pr.dysub)("click_lsis_known");break;case 2:t.receivePriv()}},t.closeSisDialog=t.closeSisDialog.bind(t),t}return LitterSister_inherits(LitterSister,e),LitterSister.prototype.showSisDialog=function showSisDialog(){this.litterSisterService.showSisDialog()},LitterSister.prototype.closeSisDialog=function closeSisDialog(){this.litterSisterService.closeSisDialog()},LitterSister.prototype.receivePriv=function receivePriv(){this.litterSisterService.receivePriv()},LitterSister.prototype.appendNormalTpl=function appendNormalTpl(e){return rs.a.createElement("div",{className:"LitterSister-tequanNormal",__source:{fileName:T_,lineNumber:69},__self:this},rs.a.createElement("div",{className:"LitterSister-tequanNormal-line",__source:{fileName:T_,lineNumber:70},__self:this}),rs.a.createElement("div",{className:"LitterSister-tequanNormal-text",__source:{fileName:T_,lineNumber:71},__self:this},e.dlgText),rs.a.createElement("div",{className:"LitterSister-tequanNormal-button",onClick:this.handleClick,__source:{fileName:T_,lineNumber:72},__self:this},e.btnText))},LitterSister.prototype.appendSuccTpl=function appendSuccTpl(e){return rs.a.createElement("div",{className:"LitterSister-tequanSuccess",__source:{fileName:T_,lineNumber:79},__self:this},rs.a.createElement("p",{className:"LitterSister-tequanSuccess-slogan",__source:{fileName:T_,lineNumber:80},__self:this},e.slogan),rs.a.createElement("p",{className:"LitterSister-tequanSuccess-desc",__source:{fileName:T_,lineNumber:81},__self:this},e.desc))},LitterSister.prototype.render=function render(){var e=this.props;return rs.a.createElement(P_.a,{visible:e.isShowDialog,width:813,footer:null,className:"LitterSister",__source:{fileName:T_,lineNumber:92},__self:this},rs.a.createElement("div",{className:"LitterSister-wrap",__source:{fileName:T_,lineNumber:98},__self:this},rs.a.createElement("div",{className:"LitterSister-dlgbody",__source:{fileName:T_,lineNumber:99},__self:this},rs.a.createElement("ul",{className:"LitterSister-tequanlist",__source:{fileName:T_,lineNumber:100},__self:this},rs.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:T_,lineNumber:101},__self:this},rs.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--icona",__source:{fileName:T_,lineNumber:102},__self:this}),rs.a.createElement("span",{__source:{fileName:T_,lineNumber:102},__self:this},"\u95ea\u4eae\u5934\u8854\u60ca\u8273\u6635\u79f0")),rs.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:T_,lineNumber:104},__self:this},rs.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--iconc",__source:{fileName:T_,lineNumber:105},__self:this}),rs.a.createElement("span",{__source:{fileName:T_,lineNumber:105},__self:this},"\u840c\u7cfb\u53ef\u7231\u4e2a\u4eba\u540d\u7247"))),rs.a.createElement("div",{className:"LitterSister-tequanappend",__source:{fileName:T_,lineNumber:108},__self:this},1===e.femalePrivilege?this.appendSuccTpl(e):this.appendNormalTpl(e))),rs.a.createElement("div",{className:"LitterSister-tequanclose",onClick:this.closeSisDialog,__source:{fileName:T_,lineNumber:112},__self:this})))},LitterSister}(rs.a.Component),k_=function LitterSister_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(D_.prototype,"litterSisterService",[O_],{enumerable:!0,initializer:null}),E_=D_))||E_);B_.propTypes={isShowDialog:$m.a.bool.isRequired,femalePrivilege:$m.a.number.isRequired,identSex:$m.a.number.isRequired};var L_=Object(Km.connect)(function mapStateToProps(e){return{isShowDialog:e.litterSisterData.isShowDialog,femalePrivilege:e.litterSisterData.femalePrivilege||0,identSex:e.litterSisterData.identSex||0,dlgText:e.litterSisterData.dlgText,btnText:e.litterSisterData.btnText,slogan:e.litterSisterData.slogan,desc:e.litterSisterData.desc}})(B_),z_="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureResult.js";function TreasureResult_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureResult_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var M_=function(e){function TreasureResult(){!function TreasureResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureResult);var t=function TreasureResult_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isRender:!0},t}return TreasureResult_inherits(TreasureResult,e),TreasureResult.prototype.reset=function reset(){var e=this;Object(Dc.timer)(1200).subscribe(function(){e.setState({isRender:!1})})},TreasureResult.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.tipsMsg.data!==this.props.tipsMsg.data&&this.setState({isRender:!0})},TreasureResult.prototype.render=function render(){var e=this,t=this.props.tipsMsg.data;if(!Object.keys(t).length||!this.state.isRender)return null;if(this.reset(),t.isban)return rs.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:z_,lineNumber:40},__self:this},rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:41},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:42},__self:this},"\u8fdd\u7981\u884c\u4e3a\u5b9d\u7bb1\u5df2\u9500\u6bc1")));if(0!==parseInt(t.code,10)||0===parseInt(t.silver,10)&&0===parseInt(t.prop_count,10))return rs.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:z_,lineNumber:49},__self:this},rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:50},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:51},__self:this},"\u8fd0\u6c14\u4e0d\u4f73\uff0c\u5b9d\u7bb1\u5df2\u88ab\u6d17\u52ab\u4e00\u7a7aT_T")));if(2===parseInt(t.award_type,10))return rs.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:z_,lineNumber:57},__self:this},rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:58},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:59},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),rs.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:z_,lineNumber:60},__self:this},t.src_nick)),rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:62},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:63},__self:this},"\u6d3e\u9001\u7684"),rs.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:z_,lineNumber:64},__self:this},t.prop_count,"\u4e2a",t.prop_name),rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:65},__self:this},"~")));if(parseInt(t.lk,10))return rs.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:z_,lineNumber:71},__self:this},rs.a.createElement("span",{className:"TreasureResult-bestIcon",__source:{fileName:z_,lineNumber:72},__self:this}));if(parseInt(t.lt,10)>0){var r=t.lt.toString().split("");return rs.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:z_,lineNumber:79},__self:this},rs.a.createElement("span",{className:"TreasureResult-bounsIcon",__source:{fileName:z_,lineNumber:80},__self:this}),rs.a.createElement("span",{className:"TreasureResult-multiply",__source:{fileName:z_,lineNumber:81},__self:this}),r.map(function(t,r){return rs.a.createElement("span",{className:"TreasureResult-num"+t,key:r,__source:{fileName:z_,lineNumber:84},__self:e})}))}return rs.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:z_,lineNumber:92},__self:this},rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:93},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:94},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),rs.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:z_,lineNumber:95},__self:this},t.src_nick)),rs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:z_,lineNumber:97},__self:this},rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:98},__self:this},"\u6d3e\u9001\u7684"),rs.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:z_,lineNumber:99},__self:this},t.silver,"\u4e2a\u9c7c\u4e38"),rs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:z_,lineNumber:100},__self:this},"~")))},TreasureResult}(rs.a.Component);M_.propTypes={tipsMsg:$m.a.any};var A_=Object(Km.connect)(function mapStateToProps(e){return{tipsMsg:e.tipsMsg}})(M_),I_=(r("2f58e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),F_="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerMarquee.js";function BannerMarquee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerMarquee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var x_=function(e){function BannerMarquee(t){!function BannerMarquee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerMarquee);var r=function BannerMarquee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.nickNameHolder=rs.a.createRef(),r.state={leftPos:0},r}return BannerMarquee_inherits(BannerMarquee,e),BannerMarquee.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.nickNameHolder.current,r=t.offsetWidth-t.scrollWidth;r<0&&(this.timer=setTimeout(function(){e.startMarquee(r)},400))},BannerMarquee.prototype.startMarquee=function startMarquee(e){var t=this;this.setState({leftPos:e,transition:"left .8s"}),this.timer=setTimeout(function(){t.setState({leftPos:0,transition:"none"}),clearTimeout(t.timer),t.timer=setTimeout(function(){t.startMarquee(e)},500)},1600)},BannerMarquee.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},BannerMarquee.prototype.render=function render(){var e=this.props.content,t=this.state,r=t.leftPos,i=t.transition;return rs.a.createElement("div",I_({ref:this.nickNameHolder,className:"BannerMarquee"},this.props,{__source:{fileName:F_,lineNumber:57},__self:this}),rs.a.createElement("div",{className:"BannerMarquee-cont",style:{left:r,WebkitTransition:i,MozTransition:i,msTransition:i,transition:i},__source:{fileName:F_,lineNumber:60},__self:this},e))},BannerMarquee}(rs.a.Component),G_=(r("db9ed"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerNumbers.js");function BannerNumbers_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerNumbers_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var U_=function(e){function BannerNumbers(t){!function BannerNumbers_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerNumbers);var r=function BannerNumbers_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.state={scale:1,nums:t.nums},r}return BannerNumbers_inherits(BannerNumbers,e),BannerNumbers.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;return this.state.nums!==e.nums&&(this.props.ifScale?this.setScale(0,function(){t.setState({nums:e.nums})}):this.setState({nums:e.nums})),!0},BannerNumbers.prototype.setScale=function setScale(e,t){var r=this;clearTimeout(this.timer),this.timer=setTimeout(function(){r.setState({scale:1.5}),t&&t(),clearTimeout(r.timer),r.timer=setTimeout(function(){r.setState({scale:1})},200)},e)},BannerNumbers.prototype.componentDidMount=function componentDidMount(){this.props.ifScale&&this.setScale(40)},BannerNumbers.prototype.componentWillUnmount=function componentWillUnmount(){this.props.ifScale&&clearTimeout(this.timer)},BannerNumbers.prototype.render=function render(){var e=this,t=this.state,r=t.scale,i=t.nums.toString().split(""),n=this.props.modifierClassName;return rs.a.createElement("div",{className:"BannerNumbers "+n,__source:{fileName:G_,lineNumber:75},__self:this},rs.a.createElement("span",{className:"BannerNumbers-mutiple",__source:{fileName:G_,lineNumber:76},__self:this}),rs.a.createElement("div",{className:"BannerNumbers-nums",style:{transform:"scale("+r+")"},__source:{fileName:G_,lineNumber:77},__self:this},i.map(function(t,r){return rs.a.createElement("span",{key:r,className:"BannerNumbers-num BannerNumbers-num--"+t,__source:{fileName:G_,lineNumber:79},__self:e})})))},BannerNumbers}(rs.a.Component),H_=(r("10fbf"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4gift.js");function Banner4gift_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4gift_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var W_=function(e){function Banner4gift(){!function Banner4gift_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4gift);var t=function Banner4gift_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.intoTimer=null,t.state={},t}return Banner4gift_inherits(Banner4gift,e),Banner4gift.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4gift.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4gift.prototype.render=function render(){var e=this.props,t=e.bannerHeaderImg,r=e.bannerHeaderImgBorder,i=e.senderName,n=e.objectName,a=e.top,o=e.bannerBatchBg,l=e.batchPriceIndex,s=e.nickNameColor,c=e.giftNameColor,u=e.otherColor,p=e.hitTimes,f=void 0===p?1:p,d=e.bcnt,b=e.gfcnt,m=this.state.leftPos,h=b>1&&d>0?d:f;return rs.a.createElement("div",{className:"Banner4gift Banner4gift--size"+l,style:{left:m+"px",top:a+"px"},__source:{fileName:H_,lineNumber:53},__self:this},rs.a.createElement("img",{className:"Banner4gift-bg",src:o+hm.imgSuffix,__source:{fileName:H_,lineNumber:60},__self:this}),rs.a.createElement("div",{className:"Banner4gift-info",__source:{fileName:H_,lineNumber:61},__self:this},rs.a.createElement("div",{className:"Banner4gift-senderName",style:{color:s},title:i,__source:{fileName:H_,lineNumber:62},__self:this},rs.a.createElement(x_,{content:i,__source:{fileName:H_,lineNumber:63},__self:this})),rs.a.createElement("p",{className:"Banner4gift-actionDescription",style:{color:u},__source:{fileName:H_,lineNumber:65},__self:this},rs.a.createElement("span",{className:"Banner4gift-action",__source:{fileName:H_,lineNumber:66},__self:this},"\u9001\u51fa"),rs.a.createElement("span",{className:"Banner4gift-objectName",title:n,style:{color:c},__source:{fileName:H_,lineNumber:67},__self:this},n))),rs.a.createElement("div",{className:"Banner4gift-header",style:{borderColor:r},__source:{fileName:H_,lineNumber:72},__self:this},rs.a.createElement("img",{className:"Banner4gift-headerImg",src:t+hm.imgSuffix,__source:{fileName:H_,lineNumber:73},__self:this})),rs.a.createElement("div",{className:"Banner4gift-numbersCont",__source:{fileName:H_,lineNumber:75},__self:this},b>1?rs.a.createElement(U_,{key:"batchNums",modifierClassName:"BannerNumbers--batchNums",nums:b,__source:{fileName:H_,lineNumber:77},__self:this}):null,rs.a.createElement(U_,{key:"hitNums",modifierClassName:"BannerNumbers--hitNums",nums:h,ifScale:"true",__source:{fileName:H_,lineNumber:79},__self:this})))},Banner4gift}(rs.a.Component),V_=(r("46d97"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4noble.js");function Banner4noble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4noble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $_,K_,q_,Q_=function(e){function Banner4noble(t){!function Banner4noble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4noble);var r=function Banner4noble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.intoTimer=null,r.state={},r}return Banner4noble_inherits(Banner4noble,e),Banner4noble.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4noble.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4noble.prototype.render=function render(){var e=this.props,t=e.bannerBgImg,r=e.bannerHeaderImg,i=e.senderName,n=e.objectName,a=e.objectId,o=e.top,l=this.state.leftPos;return rs.a.createElement("div",{className:"Banner4noble Banner4noble--size"+a,style:{left:l+"px",top:o+"px"},__source:{fileName:V_,lineNumber:35},__self:this},rs.a.createElement("img",{className:"Banner4noble-bg",src:t,__source:{fileName:V_,lineNumber:42},__self:this}),rs.a.createElement("div",{className:"Banner4noble-info",__source:{fileName:V_,lineNumber:43},__self:this},rs.a.createElement("div",{className:"Banner4noble-senderName",title:i,__source:{fileName:V_,lineNumber:44},__self:this},rs.a.createElement(x_,{content:i,__source:{fileName:V_,lineNumber:45},__self:this})),rs.a.createElement("p",{className:"Banner4noble-actionDescription",__source:{fileName:V_,lineNumber:50},__self:this},rs.a.createElement("span",{className:"Banner4noble-action",__source:{fileName:V_,lineNumber:51},__self:this},"\u5f00\u901a"),rs.a.createElement("span",{className:"Banner4noble-objectName",title:n,__source:{fileName:V_,lineNumber:52},__self:this},n))),rs.a.createElement("div",{className:"Banner4noble-header",__source:{fileName:V_,lineNumber:57},__self:this},rs.a.createElement("img",{className:"Banner4noble-headerImg",src:r,__source:{fileName:V_,lineNumber:58},__self:this})))},Banner4noble}(rs.a.Component),J_=(r("16f1e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Y_="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BarrageBanner.js";function BarrageBanner_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBanner_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var X_,Z_,eN,tN,rN,iN,nN,aN,oN,lN,sN,cN,uN,pN,fN,dN,bN,mN,hN,vN,gN,yN,_N=($_=(0,n.a.Service)(hd),K_=function(e){function BarrageBanner(){!function BarrageBanner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBanner);var t=function BarrageBanner_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageBanner_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageBannerService",q_,t),t.state={bannerData:[]},t}return BarrageBanner_inherits(BarrageBanner,e),BarrageBanner.prototype.componentDidMount=function componentDidMount(){this.barrageBannerService.bindStateChange(this.changeData.bind(this))},BarrageBanner.prototype.changeData=function changeData(e){this.setState({bannerData:e})},BarrageBanner.prototype.render=function render(){var e=this,t=this.state.bannerData;return rs.a.createElement("div",{className:"BarrageBanner",__source:{fileName:Y_,lineNumber:39},__self:this},t&&t.map(function(t){var r=t.bannerType,i=t.bannerId,n=null;switch(r){case"BANNER_4_GIFT":n=rs.a.createElement(W_,J_({key:i},t,{__source:{fileName:Y_,lineNumber:48},__self:e}));break;case"BANNER_4_NOBLE":n=rs.a.createElement(Q_,J_({key:i},t,{__source:{fileName:Y_,lineNumber:51},__self:e}))}return n}))},BarrageBanner}(rs.a.Component),q_=function BarrageBanner_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(K_.prototype,"barrageBannerService",[$_],{enumerable:!0,initializer:null}),K_),NN=(r("9dd83"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),SN="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/Barrage.js";function Barrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Barrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Barrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Barrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Barrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var CN,wN,ON,EN,DN=n.a.Service,kN=Ni.a.socketStream,jN=Ni.a.socketProxy,RN=(X_=DN(m.DataCenter.acj),Z_=DN(m.DataCenter.localStorage),eN=DN(m.DataCenter.common),tN=DN(ss.a),rN=DN(ns.a),iN=DN(as.a),nN=DN(os.a),aN=DN(ls.a),oN=DN(d.a),lN=DN(m.DataCenter.global),Object(ee.log)((cN=function(e){function Barrage(){var t,r,i=this;!function Barrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Barrage);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=Barrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),Barrage_initDefineProp(r,"acj",uN,r),Barrage_initDefineProp(r,"localStorage",pN,r),Barrage_initDefineProp(r,"common",fN,r),Barrage_initDefineProp(r,"barrageService",dN,r),Barrage_initDefineProp(r,"chatUserCardService",bN,r),Barrage_initDefineProp(r,"userCardServices",mN,r),Barrage_initDefineProp(r,"achievementService",hN,r),Barrage_initDefineProp(r,"nobleBuyModalServices",vN,r),Barrage_initDefineProp(r,"medalOperatService",gN,r),Barrage_initDefineProp(r,"global",yN,r),r.scroll=function(){r.barrageService.watchScroll(r.barrageScrollbar)},r.renderTrackHorizontal=function(){return rs.a.createElement("div",{style:{display:"none"},__source:{fileName:SN,lineNumber:299},__self:i})},Barrage_possibleConstructorReturn(r,t)}return Barrage_inherits(Barrage,e),Barrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.bindEvents(),Wm({main:this.barrageMain,list:this.barrageList,scrollbar:this.barrageScrollbar}),this.common.get("$DATA").subscribe(function(t){e.setState({roomId:t.get("room.room_id"),cateId:t.get("room.cate_id")})})},Barrage.prototype.bindEvents=function bindEvents(){var e=this;document.getElementById("js-barrage-list").addEventListener("click",function(t){var r=t||window.event,i=r.target||r.srcElement,n=Object($s.j)(i,"js-link-dysclick");t.stopPropagation(),e.closeUserCard(),Object($s.h)(i,"js-buy-noble")&&e.buyNobleClick(),Object($s.h)(i,"js-super-barrage")&&e.superMsgClick(i),Object($s.h)(i,"js-athena-barrage")&&e.athenaMsgClick(i),Object($s.h)(i,"js-danmu-reconnect")&&e.reconnectClick(i),Object($s.h)(i,"js-nick")&&e.nickNameClick(i),Object($s.h)(i,"js-fans-dysclick")&&e.fansMedalClick(i,r),(Object($s.h)(i,"js-link-dysclick")||n)&&e.linkBarrageClick(),Object($s.h)(i,"is-achievement")&&e.achievementMedalClick(i,r)}),document.getElementById("js-barrage-list").addEventListener("mouseover",function(t){var r=t||window.event,i=r.target||r.srcElement;t.stopPropagation(),Object($s.h)(i,"js-fans-hover")&&e.fansMedalHover(i)})},Barrage.prototype.buyNobleClick=function buyNobleClick(){this.nobleBuyModalServices.openNobleBuyModal(),Object(pr.dysub)("click_msg_buydefense")},Barrage.prototype.closeUserCard=function closeUserCard(){this.userCardServices.toggleUserCard({isVisible:!1})},Barrage.prototype.linkBarrageClick=function linkBarrageClick(){Object(pr.dysub)("click_msg_lmsg")},Barrage.prototype.superMsgClick=function superMsgClick(e){var t=e,r=this.state.roomId,i=this.global.get("USER_INFO.uid"),n=t.getAttribute("data-superId"),a=t.getAttribute("data-jumpType"),o=t.getAttribute("data-roomId"),l=t.getAttribute("data-linkUrl"),s=this.global.get("douyuDid"),c=t.innerHTML.replace(/^\s+/,"").replace(/\s+$/,""),u=void 0;parseInt(r,10)!==parseInt(o,10)&&(0===parseInt(a,10)?window.open(l):(u={sdid:n,trid:o,content:c,rid:r,uid:i,type:"sdcr",did:s},jN.isSocketReady?jN.sendMessage(u):kN.subscribe("socket_ready",function(){jN.sendMessage(u)}),window.open("/special/jump/"+o)))},Barrage.prototype.athenaMsgClick=function athenaMsgClick(e){var t=e,r=t.getAttribute("data-jumpType"),i=t.getAttribute("data-reverse"),n=t.getAttribute("data-bid"),a=t.getAttribute("data-boothId"),o=t.getAttribute("data-conId"),l=t.getAttribute("data-linkUrl"),s=this.state.roomId,c=t.dataset;if(4!==r){var u=+i?"click_athena_msg_reverse":"click_athena_msg_supermsg",p=Object.assign({ctid:this.state.cateId},c);Object(pr.dysub)(u,p),m.httpClient.get(String,"/lapi/athena/room/catch",{t:(new Date).getTime(),bizid:n,bthid:a,conId:o,roomId:s}),window.open(l)}},Barrage.prototype.reconnectClick=function reconnectClick(){jN.connectServer(),Object(pr.dysub)("click_msg_rc")},Barrage.prototype.nickNameClick=function nickNameClick(e){var t=e,r=e.getAttribute("data-uid"),i=Object($s.j)(t,"Barrage-listItem"),n="";i&&(n=i.id);var a=cs.a.get({type:1,guid:n,uid:r});this.chatUserCardService.showUserCard(NN({isVisible:!0},a))},Barrage.prototype.fansMedalHover=function fansMedalHover(e){var t=this,r=e,i=e.getAttribute("data-rid")||0,n=e.getAttribute("data-hc")||"";if(i&&n){var a=this.localStorage.get("fans_"+i);if(a)r.setAttribute("title",a);else{var o={medalRid:i,checkCode:n};this.medalOperatService.reqAnchorInfo(o).subscribe(function(e){if(e){var n=void 0;0===parseInt(e.result,10)&&(n=e.is_live?"(\u6b63\u5728\u76f4\u64ad)":"(\u4e0d\u5728\u76f4\u64ad)",r.setAttribute("title",e.nn+n||""),t.localStorage.set("fans_"+i,e.nn+n,10))}})}}},Barrage.prototype.fansMedalClick=function fansMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-rid")||0;Object(pr.dysub)("click_msg_msgafansbadge",{bdg_id:r})},Barrage.prototype.achievementMedalClick=function achievementMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-achievementid")||0;r>0&&this.achievementService.showAchievementMedal(r)},Barrage.prototype.render=function render(){var e=this;return rs.a.createElement("div",{__source:{fileName:SN,lineNumber:303},__self:this},rs.a.createElement(_N,{__source:{fileName:SN,lineNumber:304},__self:this}),rs.a.createElement(yy,{__source:{fileName:SN,lineNumber:305},__self:this}),rs.a.createElement("div",{id:"js-barrage-container",__source:{fileName:SN,lineNumber:306},__self:this},rs.a.createElement("div",{className:"Barrage-main",ref:function ref(t){e.barrageMain=t},__source:{fileName:SN,lineNumber:307},__self:this},rs.a.createElement(is.Scrollbars,{ref:function ref(t){e.barrageScrollbar=t},style:{width:"100%",height:"100%"},renderTrackHorizontal:this.renderTrackHorizontal,onScroll:this.scroll,__source:{fileName:SN,lineNumber:310},__self:this},rs.a.createElement("ul",{className:"Barrage-list",id:"js-barrage-list",ref:function ref(t){e.barrageList=t},__source:{fileName:SN,lineNumber:317},__self:this})))),rs.a.createElement(R_,{__source:{fileName:SN,lineNumber:323},__self:this}),rs.a.createElement(ch,{__source:{fileName:SN,lineNumber:324},__self:this}),rs.a.createElement(A_,{__source:{fileName:SN,lineNumber:325},__self:this}),rs.a.createElement(eh,{__source:{fileName:SN,lineNumber:326},__self:this}),rs.a.createElement(L_,{__source:{fileName:SN,lineNumber:327},__self:this}),rs.a.createElement(fh,{__source:{fileName:SN,lineNumber:328},__self:this}))},Barrage}(rs.a.Component),uN=Barrage_applyDecoratedDescriptor(cN.prototype,"acj",[X_],{enumerable:!0,initializer:null}),pN=Barrage_applyDecoratedDescriptor(cN.prototype,"localStorage",[Z_],{enumerable:!0,initializer:null}),fN=Barrage_applyDecoratedDescriptor(cN.prototype,"common",[eN],{enumerable:!0,initializer:null}),dN=Barrage_applyDecoratedDescriptor(cN.prototype,"barrageService",[tN],{enumerable:!0,initializer:null}),bN=Barrage_applyDecoratedDescriptor(cN.prototype,"chatUserCardService",[rN],{enumerable:!0,initializer:null}),mN=Barrage_applyDecoratedDescriptor(cN.prototype,"userCardServices",[iN],{enumerable:!0,initializer:null}),hN=Barrage_applyDecoratedDescriptor(cN.prototype,"achievementService",[nN],{enumerable:!0,initializer:null}),vN=Barrage_applyDecoratedDescriptor(cN.prototype,"nobleBuyModalServices",[aN],{enumerable:!0,initializer:null}),gN=Barrage_applyDecoratedDescriptor(cN.prototype,"medalOperatService",[oN],{enumerable:!0,initializer:null}),yN=Barrage_applyDecoratedDescriptor(cN.prototype,"global",[lN],{enumerable:!0,initializer:null}),sN=cN))||sN),PN=(r("12d1c"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBuffer/BarrageBuffer.js");function BarrageBuffer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBuffer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var TN=(CN=(0,n.a.Service)(ss.a),Object(ee.log)((ON=function(e){function BarrageBuffer(t){!function BarrageBuffer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBuffer);var r=function BarrageBuffer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageBuffer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",EN,r),r.releaseBuffer=r.releaseBuffer.bind(r),r}return BarrageBuffer_inherits(BarrageBuffer,e),BarrageBuffer.prototype.releaseBuffer=function releaseBuffer(){this.barrageService.toggleLockScreen(!1),this.barrageService.scrollToBottom()},BarrageBuffer.prototype.render=function render(){var e=this.props,t=e.isLockScreen,r=e.bufferCount,i=e.bufferLimit,n=r>99?"99+":r,a=t&&r>0&&r<=i;return rs.a.createElement("a",{className:"BarrageBuffer"+(a?" is-show":""),onClick:this.releaseBuffer,__source:{fileName:PN,lineNumber:39},__self:this},rs.a.createElement("span",{className:"BarrageBuffer-tipTxt",__source:{fileName:PN,lineNumber:41},__self:this},"\u6709",n,"\u6761\u65b0\u6d88\u606f"),rs.a.createElement("i",{className:"BarrageBuffer-icon--tip",__source:{fileName:PN,lineNumber:42},__self:this}))},BarrageBuffer}(rs.a.Component),EN=function BarrageBuffer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ON.prototype,"barrageService",[CN],{enumerable:!0,initializer:null}),wN=ON))||wN);TN.propTypes={isLockScreen:$m.a.bool.isRequired,bufferCount:$m.a.number.isRequired,bufferLimit:$m.a.number.isRequired};var BN,LN,zN,MN,AN,IN=Object(Km.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen,bufferCount:e.barrageData.bufferCount,bufferLimit:e.barrageData.bufferLimit}})(TN),FN=(r("7e944"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageToolbar/BarrageToolbar.js");function BarrageToolbar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageToolbar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageToolbar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xN=(BN=(0,n.a.Service)(ss.a),LN=Object(pr.dys)("click_msg_cls"),Object(ee.log)((MN=function(e){function BarrageToolbar(t){!function BarrageToolbar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageToolbar);var r=function BarrageToolbar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageToolbar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",AN,r),r.toggleLockScreen=r.toggleLockScreen.bind(r),r.clearScreen=r.clearScreen.bind(r),r}return BarrageToolbar_inherits(BarrageToolbar,e),BarrageToolbar.prototype.toggleLockScreen=function toggleLockScreen(){var e=this.props.isLockScreen;this.barrageService.toggleLockScreen(!e),e&&this.barrageService.scrollToBottom(),Object(pr.dysub)("click_msg_scrol",{stat:e?2:1})},BarrageToolbar.prototype.clearScreen=function clearScreen(){this.barrageService.clearScreen()},BarrageToolbar.prototype.render=function render(){var e=this.props.isLockScreen;return rs.a.createElement("div",{className:"Barrage-toolbar",__source:{fileName:FN,lineNumber:53},__self:this},rs.a.createElement("a",{className:"Barrage-toolbarLock"+(e?" is-lock":""),onClick:this.toggleLockScreen,__source:{fileName:FN,lineNumber:54},__self:this},rs.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:FN,lineNumber:56},__self:this}),rs.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:FN,lineNumber:57},__self:this},e?"\u89e3\u9501":"\u9501\u5c4f")),rs.a.createElement("a",{className:"Barrage-toolbarClear",onClick:this.clearScreen,__source:{fileName:FN,lineNumber:59},__self:this},rs.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:FN,lineNumber:61},__self:this}),rs.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:FN,lineNumber:62},__self:this},"\u6e05\u5c4f")))},BarrageToolbar}(rs.a.Component),AN=BarrageToolbar_applyDecoratedDescriptor(MN.prototype,"barrageService",[BN],{enumerable:!0,initializer:null}),BarrageToolbar_applyDecoratedDescriptor(MN.prototype,"clearScreen",[LN],Object.getOwnPropertyDescriptor(MN.prototype,"clearScreen"),MN.prototype),zN=MN))||zN);xN.propTypes={isLockScreen:$m.a.bool.isRequired};var GN,UN,HN,WN,VN,$N=Object(Km.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen}})(xN),KN=(r("caefb"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),qN="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGroup/BarrageGroup.js";function BarrageGroup_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageGroup_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageGroup_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGroup_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageGroup_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var QN,JN,YN,XN,ZN,eS=n.a.Service,tS=(GN=eS(ns.a),UN=eS(os.a),HN=function(e){function BarrageComponents(){var t,r;!function BarrageGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageComponents);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageGroup_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageGroup_initDefineProp(r,"chatUserCardService",WN,r),BarrageGroup_initDefineProp(r,"achievementService",VN,r),r.handleFloaterClick=function(e){var t=e.target;if(e.nativeEvent.stopImmediatePropagation(),t!==e.currentTarget)for(;t;){if("UL"===t.tagName)return;if(Object($s.h)(t,"js-nick"))return void r.handleNickNameClick(t);if(Object($s.h)(t,"is-achievement"))return void r.achievementMedalClick(t);t=t.parentNode}},BarrageGroup_possibleConstructorReturn(r,t)}return BarrageGroup_inherits(BarrageComponents,e),BarrageComponents.prototype.handleNickNameClick=function handleNickNameClick(e){var t=e.getAttribute("data-uid"),r=Object($s.j)(e,"Barrage-listItem"),i="";r&&(i=r.getAttribute("data-guid"));var n=cs.a.get({type:1,guid:i,uid:t});this.chatUserCardService.showUserCard(KN({isVisible:!0},n))},BarrageComponents.prototype.achievementMedalClick=function achievementMedalClick(e){var t=e.getAttribute("data-achievementid")||0;t>0&&this.achievementService.showAchievementMedal(t)},BarrageComponents.prototype.render=function render(){return rs.a.createElement("div",{className:"Barrage",__source:{fileName:qN,lineNumber:78},__self:this},rs.a.createElement("div",{className:"Barrage-topFloater",__source:{fileName:qN,lineNumber:79},__self:this},rs.a.createElement("ul",{className:"Barrage-topFloaterList",id:"js-floatingbarrage-container",onClick:this.handleFloaterClick,__source:{fileName:qN,lineNumber:80},__self:this}),rs.a.createElement($N,{__source:{fileName:qN,lineNumber:81},__self:this})),rs.a.createElement(RN,{__source:{fileName:qN,lineNumber:83},__self:this}),rs.a.createElement(IN,{__source:{fileName:qN,lineNumber:84},__self:this}))},BarrageComponents}(rs.a.Component),WN=BarrageGroup_applyDecoratedDescriptor(HN.prototype,"chatUserCardService",[GN],{enumerable:!0,initializer:null}),VN=BarrageGroup_applyDecoratedDescriptor(HN.prototype,"achievementService",[UN],{enumerable:!0,initializer:null}),HN),rS=(r("f664f"),r("f0932"));r("90ecf");function nobleReminderServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleReminderServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleReminderServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleReminderServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var iS,nS,aS,oS,lS,sS,cS,uS,pS=n.a.Store,fS=n.a.Service,dS=(QN=pS(),JN=fS(m.DataCenter.acj),YN=function(e){function NobleReminderServices(){var t,r;!function nobleReminderServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleReminderServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleReminderServices_initDefineProp(r,"store",XN,r),nobleReminderServices_initDefineProp(r,"acj",ZN,r),nobleReminderServices_possibleConstructorReturn(r,t)}return nobleReminderServices_inherits(NobleReminderServices,e),NobleReminderServices.prototype.init=function init(){var e=this;this.acj.get(bn.d.ROOM_DATA_OPENNOBLE).subscribe(function(){e.openNobleReminder(),e.updateNobleReminderType(1)})},NobleReminderServices.prototype.openNobleReminder=function openNobleReminder(){this.store.dispatch(wl.openNobleReminder(!0))},NobleReminderServices.prototype.closeNobleReminder=function closeNobleReminder(){this.store.dispatch(wl.openNobleReminder(!1))},NobleReminderServices.prototype.updateNobleReminderType=function updateNobleReminderType(e){this.store.dispatch(wl.updateNobleReminderType(e))},NobleReminderServices}(b.Service),XN=nobleReminderServices_applyDecoratedDescriptor(YN.prototype,"store",[QN],{enumerable:!0,initializer:null}),ZN=nobleReminderServices_applyDecoratedDescriptor(YN.prototype,"acj",[JN],{enumerable:!0,initializer:null}),YN),bS=r("edede"),mS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hS="/shark/live/src/pages/roomPage/playerAsideModule/components/TopItemRank/TopItemRank.js";function TopItemRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TopItemRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TopItemRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TopItemRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vS,gS,yS,_S,NS,SS=n.a.Service,CS=(iS=SS(m.DataCenter.global),nS=SS(dS),aS=SS(ns.a),Object(ee.log)((lS=function(e){function TopItemRank(){!function TopItemRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopItemRank);var t=function TopItemRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TopItemRank_initDefineProp(t,"global",sS,t),TopItemRank_initDefineProp(t,"nobleReminderService",cS,t),TopItemRank_initDefineProp(t,"userCardModuleService",uS,t),t.showUserCard=t.showUserCard.bind(t),t}return TopItemRank_inherits(TopItemRank,e),TopItemRank.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(0)},TopItemRank.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},TopItemRank.prototype.render=function render(){var e=this,t=this.props.data,r=this.props.index,i=this.props.defaultConfig,n=this.props.class,a=this.global.get("$SYS.avatar_url"),o="";return t.avatar&&(o=a+"upload/"+t.avatar+"_middle.jpg"),rs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem--top ChatRankWeek-listItem "+(n||""),__source:{fileName:hS,lineNumber:70},__self:this},rs.a.createElement("span",{className:"ChatRankWeek-listItem--avatar",onClick:function onClick(r){e.showUserCard(r,mS({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:hS,lineNumber:72},__self:this},t.avatar?rs.a.createElement("img",{src:o,__source:{fileName:hS,lineNumber:83},__self:this}):rs.a.createElement("div",{className:"is-noSrc",__source:{fileName:hS,lineNumber:83},__self:this}),t.isShowInvisible?rs.a.createElement("span",{className:"ChatRankWeek-invisibleHolder",__source:{fileName:hS,lineNumber:86},__self:this},rs.a.createElement("span",{className:"ChatRankWeek-invisibleHolder--txt",__source:{fileName:hS,lineNumber:86},__self:this},"\u5df2\u9690\u8eab")):"",rs.a.createElement("i",{className:"bg-icon ChatRankWeek-listItem--avatarBg",__source:{fileName:hS,lineNumber:89},__self:this})),rs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible||t.isShowInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,mS({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:hS,lineNumber:91},__self:this},t.nickName),t.nobleLevel>0?rs.a.createElement(bS.a,{level:t.nobleLevel,__source:{fileName:hS,lineNumber:105},__self:this}):"",rs.a.createElement(rS.a,{userLevel:+t.userLevel,__source:{fileName:hS,lineNumber:107},__self:this}),i.isFaceScore?rs.a.createElement("span",{className:"ChatRankWeek-contributionValue ChatRankWeek-contributionValue--top",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:hS,lineNumber:110},__self:this},t.fgold,"\u8d21\u732e"):"")},TopItemRank}(rs.a.Component),sS=TopItemRank_applyDecoratedDescriptor(lS.prototype,"global",[iS],{enumerable:!0,initializer:null}),cS=TopItemRank_applyDecoratedDescriptor(lS.prototype,"nobleReminderService",[nS],{enumerable:!0,initializer:null}),uS=TopItemRank_applyDecoratedDescriptor(lS.prototype,"userCardModuleService",[aS],{enumerable:!0,initializer:null}),oS=lS))||oS);function nobleVisibleServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleVisibleServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleVisibleServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleVisibleServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var wS,OS,ES,DS,kS,jS,RS,PS,TS,BS=n.a.Store,LS=n.a.Service,zS=Ni.a.socketStream,MS=(vS=LS(m.DataCenter.common),gS=BS(),yS=function(e){function NobleVisibleServices(){var t,r;!function nobleVisibleServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleVisibleServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleVisibleServices_initDefineProp(r,"common",_S,r),nobleVisibleServices_initDefineProp(r,"store",NS,r),nobleVisibleServices_possibleConstructorReturn(r,t)}return nobleVisibleServices_inherits(NobleVisibleServices,e),NobleVisibleServices.prototype.init=function init(){var e=this;this.isInit=!0,this.common.get("$DATA").subscribe(function(t){zS.subscribe("memberinfores",function(r){var i=0,n=parseInt(r.nl,10)||0;n&&(i=+t.get("room.nobleConfig["+n+"].top_list_hide")||0),e.store.dispatch(Zr.receiveHasInvisible(i)),i&&e.isInit&&(e.getInvisible(),e.isInit=!1)}),zS.subscribe("hide_status_change",function(t){2===+t.hide_type&&Object(Dc.timer)(1e3).subscribe(function(){e.updateVisible(+t.is_hide||0)})})})},NobleVisibleServices.prototype.getInvisible=function getInvisible(){this.store.dispatch(Zr.getNobleVisibleStatus())},NobleVisibleServices.prototype.setInvisible=function setInvisible(e){this.store.dispatch(Zr.setNobleVisibleStatus(e))},NobleVisibleServices.prototype.updateVisible=function updateVisible(e){this.store.dispatch(Zr.updateNobleVisibleStatus(e))},NobleVisibleServices}(b.Service),_S=nobleVisibleServices_applyDecoratedDescriptor(yS.prototype,"common",[vS],{enumerable:!0,initializer:null}),NS=nobleVisibleServices_applyDecoratedDescriptor(yS.prototype,"store",[gS],{enumerable:!0,initializer:null}),yS),AS=(r("c1db1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),IS="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankWeek/ChatRankWeek.js";function ChatRankWeek_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankWeek_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankWeek_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankWeek_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var FS,xS,GS,US,HS,WS,VS,$S,KS,qS,QS=o.a.encode,JS=Ni.a.socketProxy,YS=n.a.Service,XS=(wS=YS(m.DataCenter.global),OS=YS(gp),ES=YS(MS),DS=YS(ns.a),kS=function(e){function ChatRankWeek(){!function ChatRankWeek_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankWeek);var t=function ChatRankWeek_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankWeek_initDefineProp(t,"global",jS,t),ChatRankWeek_initDefineProp(t,"chatRankServices",RS,t),ChatRankWeek_initDefineProp(t,"nobleVisibleServices",PS,t),ChatRankWeek_initDefineProp(t,"userCardModuleService",TS,t),t.showUserCard=t.showUserCard.bind(t),t}return ChatRankWeek_inherits(ChatRankWeek,e),ChatRankWeek.prototype.componentWillMount=function componentWillMount(){this.nobleVisibleServices.init()},ChatRankWeek.prototype.checkRankAll=function checkRankAll(){if(this.chatRankServices.setDYSub("click_msg_sendlist_all"),1===this.props.isCloseMonthRank){var e={type:"sub",mt:QS(["umrtpgb"])};JS.sendMessage(e,kc.e.barrage)}this.chatRankServices.openRankAll()},ChatRankWeek.prototype.toggleInvisible=function toggleInvisible(){this.nobleVisibleServices.setInvisible()},ChatRankWeek.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},ChatRankWeek.prototype.render=function render(){var e=this,t=AS({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.isCloseMonthRank,a=this.props.weekRankList||[],o=this.props.defaultConfig,l=this.global.get("$SYS.avatar_url"),s=this.props.isCloseAllRank;return rs.a.createElement("div",{className:"ChatRankWeek",name:"week",__source:{fileName:IS,lineNumber:100},__self:this},rs.a.createElement("div",{className:"ChatRankWeek-headerContent "+(0===s&&0===n?"":"is-active"),__source:{fileName:IS,lineNumber:101},__self:this},rs.a.createElement("span",{__source:{fileName:IS,lineNumber:102},__self:this},"\u70b9\u51fb\u53f3\u4fa7\u67e5\u770b\u8be6\u60c5"),rs.a.createElement("a",{className:"ChatRankWeek-headerContent--link",onClick:function onClick(){return e.checkRankAll()},__source:{fileName:IS,lineNumber:103},__self:this},1===n?"\u8d21\u732e\u6708\u699c":"\u8d21\u732e\u603b\u699c",">")),rs.a.createElement("ul",{className:"ChatRankWeek-listContent",__source:{fileName:IS,lineNumber:107},__self:this},a.length?a.map(function(t,r){return r<3?rs.a.createElement(CS,{key:r+1,data:t,index:r,defaultConfig:o,__source:{fileName:IS,lineNumber:111},__self:e}):rs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem",__source:{fileName:IS,lineNumber:116},__self:e},rs.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:IS,lineNumber:118},__self:e},r+1),+t.nobleLevel>0?rs.a.createElement(bS.a,{level:t.nobleLevel,__source:{fileName:IS,lineNumber:120},__self:e}):"",t.isShowMedal?rs.a.createElement(rS.a,{userLevel:+t.userLevel,__source:{fileName:IS,lineNumber:123},__self:e}):"",rs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,AS({},t,{avatar:l+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:IS,lineNumber:125},__self:e},t.isShowInvisible?rs.a.createElement("span",{className:"r-nickname",__source:{fileName:IS,lineNumber:139},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),rs.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:IS,lineNumber:142},__self:e}),o.isFaceScore?rs.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:IS,lineNumber:145},__self:e},t.fgold,"\u8d21\u732e"):"")}):rs.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:IS,lineNumber:151},__self:this})),rs.a.createElement("div",{className:"ChatRankWeek-nobleInvisible "+(r?"is-active":""),__source:{fileName:IS,lineNumber:154},__self:this},rs.a.createElement("div",{className:"ChatRankWeek-invisibleContent",__source:{fileName:IS,lineNumber:155},__self:this},rs.a.createElement("div",{className:"ChatRankWeek-invisibleContent--title",__source:{fileName:IS,lineNumber:156},__self:this},"\u8d35\u65cf\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u699c\u5355\u533f\u540d\u5566~"),rs.a.createElement("div",{className:"ChatRankWeek-invisibleContent--enter",__source:{fileName:IS,lineNumber:157},__self:this},rs.a.createElement("span",{className:"ChatRankWeek-invisibleContent--enterTips",__source:{fileName:IS,lineNumber:158},__self:this},"\u8d21\u732e\u699c\u9690\u8eab"),rs.a.createElement("span",{className:"ChatRankWeek-invisibleBtn ChatRankWeek-invisibleBtn--"+(i?"checked":"unchecked"),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:IS,lineNumber:159},__self:this},rs.a.createElement("em",{__source:{fileName:IS,lineNumber:165},__self:this},rs.a.createElement("input",{type:"checkbox",__source:{fileName:IS,lineNumber:166},__self:this}),rs.a.createElement("span",{className:"ChatRankWeek-invisibleToggle",__source:{fileName:IS,lineNumber:167},__self:this})))))))},ChatRankWeek}(rs.a.Component),jS=ChatRankWeek_applyDecoratedDescriptor(kS.prototype,"global",[wS],{enumerable:!0,initializer:null}),RS=ChatRankWeek_applyDecoratedDescriptor(kS.prototype,"chatRankServices",[OS],{enumerable:!0,initializer:null}),PS=ChatRankWeek_applyDecoratedDescriptor(kS.prototype,"nobleVisibleServices",[ES],{enumerable:!0,initializer:null}),TS=ChatRankWeek_applyDecoratedDescriptor(kS.prototype,"userCardModuleService",[DS],{enumerable:!0,initializer:null}),kS),ZS=Object(Km.connect)(function mapStateToProps(e){return{weekRankList:e.chatRank.weekRankList,defaultConfig:e.chatRank.defaultConfig,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,isCloseAllRank:e.chatRank.isCloseAllRank,isCloseMonthRank:e.chatRank.isCloseMonthRank}})(XS);function NobleRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var eC,tC,rC,iC,nC=m.basicTypes.string,aC=m.basicTypes.mapping,oC=m.basicTypes.optional,lC=(FS=aC({uid:"uid",nickName:"nn",avatar:"icon",nobleLevel:"ne",userLevel:"lv",isShowSuperIcon:"sahf",groupId:"pg"}),Object(ee.log)(xS=FS((GS=function(e){function NobleRankDto(){var t,r;!function NobleRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleRankDto_initDefineProp(r,"uid",US,r),NobleRankDto_initDefineProp(r,"nickName",HS,r),NobleRankDto_initDefineProp(r,"avatar",WS,r),NobleRankDto_initDefineProp(r,"nobleLevel",VS,r),NobleRankDto_initDefineProp(r,"userLevel",$S,r),NobleRankDto_initDefineProp(r,"groupId",KS,r),NobleRankDto_initDefineProp(r,"isShowSuperIcon",qS,r),NobleRankDto_possibleConstructorReturn(r,t)}return NobleRankDto_inherits(NobleRankDto,e),NobleRankDto}(m.EntityDto),US=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"uid",[oC,nC],{enumerable:!0,initializer:null}),HS=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"nickName",[oC,nC],{enumerable:!0,initializer:null}),WS=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"avatar",[oC,nC],{enumerable:!0,initializer:null}),VS=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"nobleLevel",[oC,nC],{enumerable:!0,initializer:null}),$S=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"userLevel",[oC,nC],{enumerable:!0,initializer:null}),KS=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"groupId",[oC,nC],{enumerable:!0,initializer:null}),qS=NobleRankDto_applyDecoratedDescriptor(GS.prototype,"isShowSuperIcon",[oC,nC],{enumerable:!0,initializer:null}),xS=GS))||xS)||xS);function NobleNumListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleNumListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleNumListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleNumListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleNumListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sC,cC,uC,pC,fC,dC,bC,mC=m.basicTypes.string,hC=m.basicTypes.mapping,vC=m.basicTypes.optional,gC=hC({count:"num",level:"lev"})((tC=function(e){function NobleNumlistDto(){var t,r;!function NobleNumListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNumlistDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleNumListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleNumListDto_initDefineProp(r,"count",rC,r),NobleNumListDto_initDefineProp(r,"level",iC,r),NobleNumListDto_possibleConstructorReturn(r,t)}return NobleNumListDto_inherits(NobleNumlistDto,e),NobleNumlistDto}(m.EntityDto),rC=NobleNumListDto_applyDecoratedDescriptor(tC.prototype,"count",[vC,mC],{enumerable:!0,initializer:null}),iC=NobleNumListDto_applyDecoratedDescriptor(tC.prototype,"level",[vC,mC],{enumerable:!0,initializer:null}),eC=tC))||eC,yC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _C,NC,SC,CC,wC,OC=n.a.Store,EC=n.a.Service,DC=Ni.a.socketStream,kC=Ni.a.socketProxy,jC=(sC=EC(m.DataCenter.common),cC=EC(bc.a),uC=OC(),pC=function(e){function NobleRankServices(){var t,r;!function nobleRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleRankServices_initDefineProp(r,"common",fC,r),nobleRankServices_initDefineProp(r,"userRoleService",dC,r),nobleRankServices_initDefineProp(r,"store",bC,r),nobleRankServices_possibleConstructorReturn(r,t)}return nobleRankServices_inherits(NobleRankServices,e),NobleRankServices.prototype.init=function init(){var e=this;DC.subscribe("memberinfores",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=yC({},t),i=r.nl,n=r.npts,a=parseInt(i,10)||0,o=parseInt(n,10)||0,l=parseInt(t.try,10)||0;e.store.dispatch(Ua.receiveIsRenew({nobleLevel:a,isInProtected:o,trial:l}))}),DC.subscribe("online_noble_list",function(t){var r=yC({},t).nl;if(r){var i=(Nf.a.isArray(r)?Nf.a.decode(r):[{value:r}]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value&&Nf.a.decode(t.value).too(),i=r||{},n=i.uid,a=i.pg,o=i.rg;return r&&e.userRoleService.setUserGroup(n,{pg:a,rg:o}),lC.fromJSON(r)});e.store.dispatch(Ua.receiveNobleList(i))}else e.store.dispatch(Ua.receiveNobleList([]))}),DC.subscribe("noble_num_info",function(t){var r=t.sum,i=t.list,n=t.ci,a=void 0===n?0:n;if(r>=0&&e.store.dispatch(Ua.receiveNobleSum({num:r,ci:a})),r>=0&&i){var o=(Nf.a.isArray(i)?Nf.a.decode(i):[{value:i}]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gC.fromJSON(e.value&&Nf.a.decode(e.value).too())});e.store.dispatch(Ua.receiveNobleNumList({nobleNumList:o,ci:a}))}}),this.common.get("$DATA").subscribe(function(e){DC.subscribe("socket_ready",function(){kC.sendMessage({type:"get_online_noble_list",rid:e.get("room.room_id")})})})},NobleRankServices}(b.Service),fC=nobleRankServices_applyDecoratedDescriptor(pC.prototype,"common",[sC],{enumerable:!0,initializer:null}),dC=nobleRankServices_applyDecoratedDescriptor(pC.prototype,"userRoleService",[cC],{enumerable:!0,initializer:null}),bC=nobleRankServices_applyDecoratedDescriptor(pC.prototype,"store",[uC],{enumerable:!0,initializer:null}),pC),RC=(r("fd9ca"),r("5958e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),PC="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankTips/index.js";function NobleRankTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var TC,BC,LC,zC,MC,AC=n.a.Service,IC=(_C=AC(m.DataCenter.common),NC=AC(ls.a),SC=function(e){function NobleRankTips(){!function NobleRankTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankTips);var t=function NobleRankTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankTips_initDefineProp(t,"common",CC,t),NobleRankTips_initDefineProp(t,"nobleBuyModalService",wC,t),t.isRenew=0,t.state={userName:""},t.openNobleBuy=t.openNobleBuy.bind(t),t}return NobleRankTips_inherits(NobleRankTips,e),NobleRankTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({userName:t.get("room.owner_name")||""})})},NobleRankTips.prototype.openNobleBuy=function openNobleBuy(e){return ps.a.check()?(this.isRenew?Object(pr.dysub)("click_msg_noble_renewal",{level:this.props.nobleData.nobleLevel}):Object(pr.dysub)("click_msg_noble_open"),this.nobleBuyModalService.openNobleBuyModal(),!0):(ps.a.show(),e.preventDefault(),!1)},NobleRankTips.prototype.render=function render(){var e=this,t=this.state.userName,r=RC({},this.props.nobleData),i=r.nobleLevel,n=r.isInProtected,a=r.trial;return this.isRenew=(+i||+n)&&1!==a,this.isRenew?rs.a.createElement("div",{className:"NobleRankTips",__source:{fileName:PC,lineNumber:65},__self:this},rs.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:PC,lineNumber:66},__self:this},"\u7eed\u8d39\u8d35\u65cf\uff0c\u5c0a\u4eab\u8363\u8000\u7279\u6743"),"\xa0",rs.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:PC,lineNumber:67},__self:this},"\u7eed\u8d39\u8d35\u65cf")):rs.a.createElement("div",{className:"NobleRankTips",__source:{fileName:PC,lineNumber:75},__self:this},rs.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:PC,lineNumber:76},__self:this},"\u652f\u6301",rs.a.createElement("strong",{className:"NobleRankTips-userName",title:t,__source:{fileName:PC,lineNumber:78},__self:this},t),"\uff0c\u6210\u4e3a\u6597\u9c7c\u8d35\u65cf"),"\xa0",rs.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:PC,lineNumber:85},__self:this},"\u5f00\u901a\u8d35\u65cf"))},NobleRankTips}(rs.a.Component),CC=NobleRankTips_applyDecoratedDescriptor(SC.prototype,"common",[_C],{enumerable:!0,initializer:null}),wC=NobleRankTips_applyDecoratedDescriptor(SC.prototype,"nobleBuyModalService",[NC],{enumerable:!0,initializer:null}),SC),FC=Object(Km.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(IC),xC=r("f4a14"),GC=r("9cf12"),UC=r.n(GC),HC=(r("abccf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),WC="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankList/NobleRankList.js";function NobleRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var VC=n.a.Service,$C=(TC=VC(m.DataCenter.global),BC=VC(ns.a),LC=function(e){function NobleRankList(){!function NobleRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankList);var t=function NobleRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankList_initDefineProp(t,"global",zC,t),NobleRankList_initDefineProp(t,"userCardModuleService",MC,t),t.showUserCard=t.showUserCard.bind(t),t}return NobleRankList_inherits(NobleRankList,e),NobleRankList.prototype.handlerData=function handlerData(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,20),t=e.length;return t>0&&t<3&&(t=3),Array.from({length:t}).map(function(t,r){var i=e[r];return i?(i.isReality=!0,i.icon=i.avatar?"//apic.douyucdn.cn/upload/"+i.avatar+"_middle.jpg":UC.a,i.userLevel>0?i.userLevel=i.userLevel>120?120:i.userLevel:i.userLevel=1):((i={}).isReality=!1,i.nickName="\u865a\u4f4d\u4ee5\u5f85",i.icon=UC.a),i})},NobleRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},NobleRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.userLevel,c=r.nobleLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:o,avatar:l,userLevel:s,nobleLevel:c})},NobleRankList.prototype.render=function render(){var e=this,t=this.handlerData(this.props.list);return t.length>0?rs.a.createElement("ul",{className:"NobleRankList",__source:{fileName:WC,lineNumber:104},__self:this},t.map(function(t,r){var i=HC({},t),n=i.nickName,a=void 0===n?"\u865a\u4f4d\u4ee5\u5f85":n,o=i.nobleLevel,l=i.icon;return r<3?rs.a.createElement("li",{key:r,className:"NobleRankList-item NobleRankList-item--top  NobleRankList-item--"+e.conversion(r),onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:WC,lineNumber:111},__self:e},rs.a.createElement("span",{className:"NobleRankList-avatar NobleRankList-avatar--"+e.conversion(r),__source:{fileName:WC,lineNumber:117},__self:e},rs.a.createElement(xC.a,{className:"NobleRankList-pic NobleRankList-pic--"+e.conversion(r),src:l,alt:a,defaultSrc:UC.a,__source:{fileName:WC,lineNumber:119},__self:e})),rs.a.createElement("span",{className:"NobleRankList-nickName NobleRankList-nickName--"+e.conversion(r),title:a,__source:{fileName:WC,lineNumber:123},__self:e},a),o>0?rs.a.createElement(bS.a,{level:o,type:"1",__source:{fileName:WC,lineNumber:126},__self:e}):""):rs.a.createElement("li",{key:r,className:"NobleRankList-item "+(3===r?"NobleRankList-item--fourth":""),__source:{fileName:WC,lineNumber:132},__self:e},o>0?rs.a.createElement(bS.a,{level:o,type:"1",__source:{fileName:WC,lineNumber:134},__self:e}):"",rs.a.createElement("span",{className:"NobleRankList-nickName",title:a,onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:WC,lineNumber:135},__self:e},a))})):rs.a.createElement("ul",{className:"NobleRankList",__source:{fileName:WC,lineNumber:148},__self:this},rs.a.createElement("div",{className:"NobleRankList-noresult",__source:{fileName:WC,lineNumber:149},__self:this}))},NobleRankList}(rs.a.Component),zC=NobleRankList_applyDecoratedDescriptor(LC.prototype,"global",[TC],{enumerable:!0,initializer:null}),MC=NobleRankList_applyDecoratedDescriptor(LC.prototype,"userCardModuleService",[BC],{enumerable:!0,initializer:null}),LC),KC=(r("22dd9"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),qC="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleListDetail/index.js";function NobleListDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleListDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var QC,JC,YC,XC=m.DataCenter.global.get("$SYS.web_url"),ZC=function(e){function NobleListDetail(){return function NobleListDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleListDetail),function NobleListDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleListDetail_inherits(NobleListDetail,e),NobleListDetail.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=XC+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},NobleListDetail.prototype.render=function render(){var e=this,t=this.props.list,r=this.props.ci,i=this.generateFollowStyle(r),n=i.fontFamily,a=i.fontStyle;return rs.a.createElement("div",{className:"NobleListDetail",__source:{fileName:qC,lineNumber:47},__self:this},rs.a.createElement("style",{__source:{fileName:qC,lineNumber:48},__self:this},a),rs.a.createElement("div",{className:"NobleListDetail-title",__source:{fileName:qC,lineNumber:49},__self:this},"\u672c\u623f\u95f4\u8385\u4e34",rs.a.createElement("span",{className:"NobleListDetail-yellow",__source:{fileName:qC,lineNumber:49},__self:this},"\u8d35\u65cf\u4eba\u6570")),rs.a.createElement("ul",{className:"NobleListDetail-rank",__source:{fileName:qC,lineNumber:50},__self:this},t.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=t.count>9999?{fontFamily:""}:n,a=t.count>9999?"9999+":t.count;return t.count>0?rs.a.createElement("li",{key:r,className:"NobleListDetail-item",__source:{fileName:qC,lineNumber:58},__self:e},rs.a.createElement(bS.a,{level:t.level,__source:{fileName:qC,lineNumber:59},__self:e}),rs.a.createElement("span",{className:"NobleListDetail-count NobleListDetail-count--level"+t.level,style:KC({},i),__source:{fileName:qC,lineNumber:60},__self:e},a)):""})))},NobleListDetail}(rs.a.Component),ew=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},tw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRank.js";function NobleRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rw,iw,nw,aw,ow,lw,sw,cw,uw,pw,fw,dw,bw,mw=(QC=(0,n.a.Service)(jC),JC=function(e){function NobleRank(){var t,r;!function NobleRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleRankService",YC,r),NobleRank_possibleConstructorReturn(r,t)}return NobleRank_inherits(NobleRank,e),NobleRank.prototype.componentDidMount=function componentDidMount(){this.nobleRankService.init()},NobleRank.prototype.render=function render(){var e=ew({},this.props.nobleData),t=e.nobleList,r=void 0===t?[]:t,i=e.nobleNumList,n=void 0===i?[]:i,a=e.nobleNumListci,o=void 0===a?0:a;return rs.a.createElement("div",{className:"NobleRank",__source:{fileName:tw,lineNumber:30},__self:this},rs.a.createElement(FC,{__source:{fileName:tw,lineNumber:31},__self:this}),rs.a.createElement(is.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:328,hideTracksWhenNotNeeded:!0,__source:{fileName:tw,lineNumber:32},__self:this},rs.a.createElement($C,{list:r,__source:{fileName:tw,lineNumber:33},__self:this}),r.length>=20&&n.length>0&&rs.a.createElement(ZC,{list:n,ci:o,__source:{fileName:tw,lineNumber:36},__self:this})))},NobleRank}(rs.a.Component),YC=function NobleRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(JC.prototype,"nobleRankService",[QC],{enumerable:!0,initializer:null}),JC),hw=Object(Km.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(mw);function FansRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vw,gw,yw,_w,Nw,Sw,Cw,ww,Ow,Ew=m.basicTypes.string,Dw=m.basicTypes.mapping,kw=m.basicTypes.optional,jw=Dw({uid:"uid",nickName:"nn",avatar:"ic",fansLevel:"bl",fansIntimacy:"fim",rankChange:"rc",isVisibility:"hd",isShowSuperIcon:"sahf",groupId:"pg",nobleLevel:"nl",userLevel:"lev"})((iw=function(e){function NobleRankDto(){var t,r;!function FansRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),FansRankDto_initDefineProp(r,"uid",nw,r),FansRankDto_initDefineProp(r,"nickName",aw,r),FansRankDto_initDefineProp(r,"avatar",ow,r),FansRankDto_initDefineProp(r,"fansLevel",lw,r),FansRankDto_initDefineProp(r,"fansIntimacy",sw,r),FansRankDto_initDefineProp(r,"rankChange",cw,r),FansRankDto_initDefineProp(r,"isVisibility",uw,r),FansRankDto_initDefineProp(r,"isShowSuperIcon",pw,r),FansRankDto_initDefineProp(r,"groupId",fw,r),FansRankDto_initDefineProp(r,"nobleLevel",dw,r),FansRankDto_initDefineProp(r,"userLevel",bw,r),FansRankDto_possibleConstructorReturn(r,t)}return FansRankDto_inherits(NobleRankDto,e),NobleRankDto}(m.EntityDto),nw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"uid",[kw,Ew],{enumerable:!0,initializer:null}),aw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"nickName",[kw,Ew],{enumerable:!0,initializer:null}),ow=FansRankDto_applyDecoratedDescriptor(iw.prototype,"avatar",[kw,Ew],{enumerable:!0,initializer:null}),lw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"fansLevel",[kw,Ew],{enumerable:!0,initializer:null}),sw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"fansIntimacy",[kw,Ew],{enumerable:!0,initializer:null}),cw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"rankChange",[kw,Ew],{enumerable:!0,initializer:null}),uw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"isVisibility",[kw,Ew],{enumerable:!0,initializer:null}),pw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"isShowSuperIcon",[kw,Ew],{enumerable:!0,initializer:null}),fw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"groupId",[kw,Ew],{enumerable:!0,initializer:null}),dw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"nobleLevel",[kw,Ew],{enumerable:!0,initializer:null}),bw=FansRankDto_applyDecoratedDescriptor(iw.prototype,"userLevel",[kw,Ew],{enumerable:!0,initializer:null}),rw=iw))||rw;function fansRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function fansRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fansRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function fansRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Rw,Pw,Tw,Bw,Lw,zw=n.a.Store,Mw=n.a.Service,Aw=Ni.a.socketStream,Iw=o.a.decode,Fw=(vw=Mw(m.DataCenter.common),gw=Mw(bc.a),yw=Mw(si.a),_w=zw(),Nw=function(e){function FansRankServices(){var t,r;!function fansRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fansRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),fansRankServices_initDefineProp(r,"common",Sw,r),fansRankServices_initDefineProp(r,"userRoleService",Cw,r),fansRankServices_initDefineProp(r,"chatSendService",ww,r),fansRankServices_initDefineProp(r,"store",Ow,r),fansRankServices_possibleConstructorReturn(r,t)}return fansRankServices_inherits(FansRankServices,e),FansRankServices.prototype.init=function init(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.get("room.room_id");e.updateOpenFans(t.get("room.is_set_fans_badge")||0),Aw.subscribe("blst",function(t){var i=t.list;i&&(i?Iw(i):[]).map(function(t){var i=t?Iw(t):{},n=i.rid,a=i.pos,o=i.bl,l=i.bnn;return+n===+r&&(e.store.dispatch(pl.receiveHasRoomFansMedal(l)),e.store.dispatch(pl.receiveOwnerFansRank(a)),e.store.dispatch(pl.receiveOwnerMedaLevel(o)),e.chatSendService.fansSpeakCheck(!0)),i})})}),Aw.subscribe("fswrank",function(t){var r=t.list,i=t.bnn;if(r){var n=r.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),jw.fromJSON(t)});e.store.dispatch(pl.receiveFansList(n))}i&&e.store.dispatch(pl.receiveRoomFansMedal(i))}),Aw.subscribe("frank",function(t){var r=t.fc,i=t.list,n=t.bnn,a=t.ci,o=void 0===a?0:a;if(i){var l=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),jw.fromJSON(t)});e.store.dispatch(pl.receiveFansAllList(l))}r&&e.store.dispatch(pl.receiveFansSum({fc:r,ci:o})),n&&e.store.dispatch(pl.receiveRoomFansMedal(n))}),Aw.subscribe("ru",function(t){var r=t.pos;r>0&&e.store.dispatch(pl.receiveOwnerFansRank(r))}),Aw.subscribe("gbi",function(t){var r=t.bl;r&&e.store.dispatch(pl.receiveOwnerMedaLevel(r)),e.chatSendService.fansSpeakCheck(!0)}),Aw.subscribe("synfim",function(t){var r=t.bl;r&&e.store.dispatch(pl.receiveOwnerMedaLevel(r))})},FansRankServices.prototype.updateOpenFans=function updateOpenFans(e){this.store.dispatch(pl.updateOpenFans(e))},FansRankServices.prototype.toggleFansRankAll=function toggleFansRankAll(e){this.store.dispatch(pl.toggleFansRankAll(e))},FansRankServices}(b.Service),Sw=fansRankServices_applyDecoratedDescriptor(Nw.prototype,"common",[vw],{enumerable:!0,initializer:null}),Cw=fansRankServices_applyDecoratedDescriptor(Nw.prototype,"userRoleService",[gw],{enumerable:!0,initializer:null}),ww=fansRankServices_applyDecoratedDescriptor(Nw.prototype,"chatSendService",[yw],{enumerable:!0,initializer:null}),Ow=fansRankServices_applyDecoratedDescriptor(Nw.prototype,"store",[_w],{enumerable:!0,initializer:null}),Nw),xw=(r("3cfd2"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankTitle/FansRankTitle.js");function FansRankTitle_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankTitle_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankTitle_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankTitle_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Gw,Uw,Hw,Ww,Vw,$w,Kw,qw=n.a.Service,Qw=(Rw=qw(m.DataCenter.global),Pw=qw(Fw),Tw=function(e){function FansRankTitle(){!function FansRankTitle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankTitle);var t=function FansRankTitle_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankTitle_initDefineProp(t,"global",Bw,t),FansRankTitle_initDefineProp(t,"fansRankService",Lw,t),t.showFansRankAll=t.showFansRankAll.bind(t),t}return FansRankTitle_inherits(FansRankTitle,e),FansRankTitle.prototype.showFansRankAll=function showFansRankAll(){this.fansRankService.toggleFansRankAll(!0)},FansRankTitle.prototype.render=function render(){return rs.a.createElement("div",{className:"FansRankInfo clearfix",__source:{fileName:xw,lineNumber:31},__self:this},rs.a.createElement("span",{className:"FansRankInfo-txt",__source:{fileName:xw,lineNumber:32},__self:this},"\u6309\u8fd17\u5929\u4eb2\u5bc6\u5ea6\u4e0a\u5347\u6392\u884c"),rs.a.createElement("span",{className:"FansRankInfo-btn",onClick:this.showFansRankAll,__source:{fileName:xw,lineNumber:33},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u603b\u699c >"))},FansRankTitle}(rs.a.Component),Bw=FansRankTitle_applyDecoratedDescriptor(Tw.prototype,"global",[Rw],{enumerable:!0,initializer:null}),Lw=FansRankTitle_applyDecoratedDescriptor(Tw.prototype,"fansRankService",[Pw],{enumerable:!0,initializer:null}),Tw),Jw=Object(Km.connect)(function mapStateProps(e){return{hasRoomFansMedal:e.getFansRank.hasRoomFansMedal}})(Qw),Yw=r("5b11b"),Xw=r("42c63"),Zw=r.n(Xw),eO=(r("8921f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),tO="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankList/FansRankList.js";function FansRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rO,iO,nO,aO=n.a.Service,oO=(Gw=aO(m.DataCenter.global),Uw=aO(m.DataCenter.common),Hw=aO(ns.a),Ww=function(e){function FansRankList(){!function FansRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankList);var t=function FansRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankList_initDefineProp(t,"global",Vw,t),FansRankList_initDefineProp(t,"common",$w,t),FansRankList_initDefineProp(t,"userCardModuleService",Kw,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankList_inherits(FansRankList,e),FansRankList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":Zw.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.fim=parseInt(n.fansIntimacy/100,10)||"--",n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=Zw.a),n})},FansRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankList);return a.length>0?rs.a.createElement("ul",{className:"FansRankList",__source:{fileName:tO,lineNumber:132},__self:this},a.map(function(a,o){var l=eO({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=l.fim,f=l.rankChange,d=eO({},a),b=d.isVisibility,m=d.isOwn;return!b||b&&(m||i||n)?rs.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:tO,lineNumber:142},__self:e},rs.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:tO,lineNumber:144},__self:e},o+1),o<3?rs.a.createElement(xC.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:Zw.a,__source:{fileName:tO,lineNumber:148},__self:e}):"",rs.a.createElement("a",{className:"FansRankList-nickName "+(b?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,eO({},a,{fansMedal:t,nickName:b?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:tO,lineNumber:153},__self:e},b?s+"\uff08\u5df2\u9690\u8eab\uff09":s),rs.a.createElement(Yw.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:tO,lineNumber:166},__self:e}),rs.a.createElement("span",{className:"FansRankList-intimacy",__source:{fileName:tO,lineNumber:168},__self:e},p),rs.a.createElement("span",{className:"FansRankList-status FansRankList-status--"+(f+1),__source:{fileName:tO,lineNumber:169},__self:e})):rs.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:tO,lineNumber:176},__self:e},rs.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:tO,lineNumber:178},__self:e},o+1),o<3?rs.a.createElement(xC.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:Zw.a,__source:{fileName:tO,lineNumber:182},__self:e}):"",rs.a.createElement("a",{className:"FansRankList-nickName "+(b?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,eO({},a,{fansMedal:t,nickName:b?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:tO,lineNumber:188},__self:e},s))})):rs.a.createElement("ul",{className:"FansRankList",__source:{fileName:tO,lineNumber:209},__self:this},rs.a.createElement("div",{className:this.props.isOpenFans?"FansRankList-noresulet":"FansRankList-unopened",__source:{fileName:tO,lineNumber:210},__self:this}))},FansRankList}(rs.a.Component),Vw=FansRankList_applyDecoratedDescriptor(Ww.prototype,"global",[Gw],{enumerable:!0,initializer:null}),$w=FansRankList_applyDecoratedDescriptor(Ww.prototype,"common",[Uw],{enumerable:!0,initializer:null}),Kw=FansRankList_applyDecoratedDescriptor(Ww.prototype,"userCardModuleService",[Hw],{enumerable:!0,initializer:null}),Ww),lO=Object(Km.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansRankList:e.getFansRank.fansRankList,roomFansMedal:e.getFansRank.roomFansMedal}})(oO),sO=(r("adc0e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),cO="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankBottom/FansRankBottom.js";function FansRankBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uO,pO,fO,dO=n.a.Service,bO=m.DataCenter.global.get("$SYS.web_url"),mO=(rO=dO(MS),iO=function(e){function FansRankBottom(){var t,r;!function FansRankBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankBottom);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRankBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"NobleVisibleService",nO,r),FansRankBottom_possibleConstructorReturn(r,t)}return FansRankBottom_inherits(FansRankBottom,e),FansRankBottom.prototype.toggleInvisible=function toggleInvisible(){this.NobleVisibleService.setInvisible("fans")},FansRankBottom.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=bO+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},FansRankBottom.prototype.render=function render(){var e=this,t=sO({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.fansSum,a=void 0===n?"--":n,o=this.props.fansSumCi,l=this.generateFollowStyle(o),s=l.fontFamily,c=l.fontStyle;return rs.a.createElement("div",{className:"FansRankBottom",__source:{fileName:cO,lineNumber:54},__self:this},rs.a.createElement("style",{__source:{fileName:cO,lineNumber:55},__self:this},c),rs.a.createElement("div",{className:"FansRankBottom-total",__source:{fileName:cO,lineNumber:56},__self:this},"\u7c89\u4e1d\u603b\u4eba\u6570\uff1a",rs.a.createElement("span",{className:"FansRankBottom-yellow",style:sO({},s),__source:{fileName:cO,lineNumber:56},__self:this},a)),r?rs.a.createElement("div",{className:"FansRankBottom-invisible",__source:{fileName:cO,lineNumber:60},__self:this},rs.a.createElement("div",{className:"FansRankBottom-invisibleTxt",__source:{fileName:cO,lineNumber:61},__self:this},"\u7c89\u4e1d\u699c\u5355\u9690\u8eab"),rs.a.createElement("label",{className:"FansRankBottom-invisibleBtn "+(i?"is-invisible":""),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:cO,lineNumber:62},__self:this},rs.a.createElement("div",{className:"FansRankBottom-iconWrap",__source:{fileName:cO,lineNumber:67},__self:this},rs.a.createElement("input",{type:"checkbox",className:"FansRankBottom-checkbox",__source:{fileName:cO,lineNumber:68},__self:this}),rs.a.createElement("span",{className:"FansRankBottom-invisibleBtnIcon "+(i?"is-invisible":""),__source:{fileName:cO,lineNumber:69},__self:this})))):"")},FansRankBottom}(rs.a.Component),nO=function FansRankBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(iO.prototype,"NobleVisibleService",[rO],{enumerable:!0,initializer:null}),iO),hO=Object(Km.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,fansSum:e.getFansRank.fansSum,fansSumCi:e.getFansRank.fansSumCi}})(mO),vO=(r("b42a6"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRank.js");function FansRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gO,yO=(uO=(0,n.a.Service)(Fw),pO=function(e){function FansRank(){var t,r;!function FansRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"fansRankService",fO,r),FansRank_possibleConstructorReturn(r,t)}return FansRank_inherits(FansRank,e),FansRank.prototype.componentDidMount=function componentDidMount(){this.fansRankService.init()},FansRank.prototype.render=function render(){var e=this.props.isOpenFans,t=this.props.fansSum;return rs.a.createElement("div",{className:"FansRank",__source:{fileName:vO,lineNumber:31},__self:this},rs.a.createElement(Jw,{__source:{fileName:vO,lineNumber:32},__self:this}),rs.a.createElement(is.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:388,hideTracksWhenNotNeeded:!0,__source:{fileName:vO,lineNumber:33},__self:this},rs.a.createElement(lO,{__source:{fileName:vO,lineNumber:34},__self:this})),e&&t>0?rs.a.createElement(hO,{__source:{fileName:vO,lineNumber:37},__self:this}):"")},FansRank}(rs.a.Component),fO=function FansRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(pO.prototype,"fansRankService",[uO],{enumerable:!0,initializer:null}),pO),_O=Object(Km.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansSum:e.getFansRank.fansSum}})(yO),NO=(r("6dc98"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatTabContainer/ChatTabContainer.js");function ChatTabContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatTabContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var SO,CO,wO,OO,EO,DO,kO,jO,RO,PO,TO=Object(ee.log)(gO=function(e){function ChatTabContainer(){!function ChatTabContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatTabContainer);var t=function ChatTabContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={currentIndex:0},t}return ChatTabContainer_inherits(ChatTabContainer,e),ChatTabContainer.prototype.setShowName=function setShowName(e){return e===this.state.currentIndex?"is-active":""},ChatTabContainer.prototype.setStyle=function setStyle(e){this.props.getIsExtend(e)},ChatTabContainer.prototype.render=function render(){var e=this;return rs.a.createElement("div",{className:"ChatTabContainer",__source:{fileName:NO,lineNumber:30},__self:this},rs.a.createElement("div",{className:"ChatTabContainer-titleWraper",__source:{fileName:NO,lineNumber:31},__self:this},rs.a.createElement("ul",{className:"ChatTabContainer-titleWraper--tabTitle",__source:{fileName:NO,lineNumber:32},__self:this},rs.a.Children.map(this.props.children,function(t,r){return 0===r&&rs.a.Children.map(t.props.children,function(t,r){return rs.a.createElement("li",{onClick:function onClick(){e.setState({currentIndex:r})},className:e.setShowName(r)+" ChatTabContainer-titleWraper--tabLi",__source:{fileName:NO,lineNumber:37},__self:e},t)})}))),rs.a.createElement("div",{className:"ChatTabContainer-conWraper",__source:{fileName:NO,lineNumber:52},__self:this},rs.a.Children.map(this.props.children,function(t,r){return 1===r&&rs.a.Children.map(t.props.children,function(t,r){return rs.a.createElement("div",{className:"ChatTabContainer-content "+e.setShowName(r),onMouseEnter:e.setStyle.bind(e,!0),onMouseLeave:e.setStyle.bind(e,!1),__source:{fileName:NO,lineNumber:57},__self:e},t)})})))},ChatTabContainer}(rs.a.Component))||gO,BO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},LO="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRank/ChatRank.js";function ChatRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var zO=m.DataCenter.global,MO=n.a.Service,AO=n.a.Store,IO=zO.get("$SYS.web_url"),FO=(SO=MO(gp),CO=MO(MS),wO=MO(d.a),OO=AO(),Object(ee.log)((DO=function(e){function ChatRank(){!function ChatRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRank);var t=function ChatRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRank_initDefineProp(t,"chatRankServices",kO,t),ChatRank_initDefineProp(t,"nobleVisibleServices",jO,t),ChatRank_initDefineProp(t,"medalOperatServices",RO,t),ChatRank_initDefineProp(t,"store",PO,t),t.fansAction=t.fansAction.bind(t),t.weekAction=t.weekAction.bind(t),t.getIsExtend=t.getIsExtend.bind(t),t.state={isEnter:!1},t}return ChatRank_inherits(ChatRank,e),ChatRank.prototype.componentWillMount=function componentWillMount(){this.chatRankServices.initSocket(),this.nobleVisibleServices.init()},ChatRank.prototype.weekAction=function weekAction(){var e=this.store.getState().userRoleData.isAnchor?1:0;Object(pr.dysub)("click_msg_sendlist_wk",{is_anch:e})},ChatRank.prototype.fansAction=function fansAction(){var e=this.medalOperatServices.returnFansMedalStatus();Object(pr.dysub)("click_msg_fans",e)},ChatRank.prototype.getIsExtend=function getIsExtend(e){this.setState({isEnter:e})},ChatRank.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=IO+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                font-display: auto;\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},ChatRank.prototype.render=function render(){var e=this.props.getNoble.nobleSum,t=this.props.getNoble.nobleSumCi,r=this.generateFollowStyle(t),i=r.fontFamily,n=r.fontStyle,a=e>9999?{fontFamily:""}:i;return rs.a.createElement("div",{className:"ChatRank",__source:{fileName:LO,lineNumber:97},__self:this},rs.a.createElement("div",{className:"ChatRank-rankWraper "+(this.state.isEnter?"is-enter":""),__source:{fileName:LO,lineNumber:98},__self:this},rs.a.createElement("style",{__source:{fileName:LO,lineNumber:99},__self:this},n),rs.a.createElement(TO,{getIsExtend:this.getIsExtend,__source:{fileName:LO,lineNumber:100},__self:this},rs.a.createElement("div",{className:"ChatTabContainer-titleContent",__source:{fileName:LO,lineNumber:101},__self:this},rs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.weekAction,__source:{fileName:LO,lineNumber:102},__self:this},"\u8d21\u732e\u5468\u699c"),rs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:Object(pr.dys)("click_msg_noble"),__source:{fileName:LO,lineNumber:103},__self:this},"\u8d35\u65cf(",rs.a.createElement("em",{style:BO({},a),__source:{fileName:LO,lineNumber:104},__self:this},e>9999?"9999+":e),")"),rs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.fansAction,__source:{fileName:LO,lineNumber:106},__self:this},"\u7c89\u4e1d\u56e2")),rs.a.createElement("div",{className:"ChatTabContainer-mainContent",__source:{fileName:LO,lineNumber:108},__self:this},rs.a.createElement(ZS,{title:"\u8d21\u732e\u5468\u699c",__source:{fileName:LO,lineNumber:110},__self:this}),rs.a.createElement(hw,{title:"\u8d35\u65cf",__source:{fileName:LO,lineNumber:112},__self:this}),rs.a.createElement(_O,{title:"\u7c89\u4e1d\u56e2",__source:{fileName:LO,lineNumber:114},__self:this})))))},ChatRank}(rs.a.Component),kO=ChatRank_applyDecoratedDescriptor(DO.prototype,"chatRankServices",[SO],{enumerable:!0,initializer:null}),jO=ChatRank_applyDecoratedDescriptor(DO.prototype,"nobleVisibleServices",[CO],{enumerable:!0,initializer:null}),RO=ChatRank_applyDecoratedDescriptor(DO.prototype,"medalOperatServices",[wO],{enumerable:!0,initializer:null}),PO=ChatRank_applyDecoratedDescriptor(DO.prototype,"store",[OO],{enumerable:!0,initializer:null}),EO=DO))||EO);FO.propTypes={weekRankList:$m.a.arrayOf($m.a.shape({}))};var xO,GO,UO=Object(Km.connect)(function mapStateToProps(e){return{userRole:e.chatRank.userRole,defaultConfig:e.chatRank.defaultConfig,getNoble:e.getNoble}})(FO),HO=(r("0ff16"),r("1d8f0"),r("e1f27"),r("90c4f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),WO="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/MuteStatus/MuteStatus.js";function MuteStatus_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MuteStatus_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var VO,$O,KO,qO,QO,JO,YO,XO=(xO=Object(pr.dys)("click_msg_login"),function MuteStatus_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((GO=function(e){function MuteStatus(){!function MuteStatus_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MuteStatus);var t=function MuteStatus_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.showLogin=t.showLogin.bind(t),t}return MuteStatus_inherits(MuteStatus,e),MuteStatus.prototype.showLogin=function showLogin(){ps.a.show("login")},MuteStatus.prototype.render=function render(){var e=HO({},this.props),t=e.status,r=e.muteType,i=e.muteTime,n=ro.a.formatDate(new Date(1e3*i),"yyyy-MM-dd hh:mm:ss");switch(t){case 1:return rs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:WO,lineNumber:32},__self:this},rs.a.createElement("span",{className:"MuteStatus-isLog",onClick:this.showLogin,__source:{fileName:WO,lineNumber:32},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8");case 2:return rs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:WO,lineNumber:35},__self:this},rs.a.createElement("a",{className:"MuteStatus-isLog",href:"/member/cp#phone",target:"_blank",onMouseDown:Object(pr.dys)("click_msg_testphone"),__source:{fileName:WO,lineNumber:35},__self:this},"\u9a8c\u8bc1\u624b\u673a\u53f7"),"\u5373\u53ef\u53d1\u9001\u5f39\u5e55\uff01");case 3:return rs.a.createElement("div",{className:"MuteStatus is-mute",__source:{fileName:WO,lineNumber:40},__self:this},"\u60a8\u5df2\u88ab",["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r-1],"\u7981\u8a00\u3002",rs.a.createElement("span",{className:"MuteStatus-isMuteType",__source:{fileName:WO,lineNumber:40},__self:this},"\u7981\u8a00\u7c7b\u578b\uff1a0",r),rs.a.createElement("br",{__source:{fileName:WO,lineNumber:41},__self:this}),"\u89e3\u7981\u65f6\u95f4:",n,rs.a.createElement("a",{className:"MuteStatus-isMuteKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:WO,lineNumber:41},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"));case 4:return rs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:WO,lineNumber:45},__self:this},"\u60f3\u548c\u4e3b\u64ad\u804a\u5929\uff0c\u5148\u529e\u5361\u5427\uff01");default:return rs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:WO,lineNumber:47},__self:this},rs.a.createElement("span",{className:"MuteStatus-isLog",__source:{fileName:WO,lineNumber:47},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8")}},MuteStatus}(rs.a.Component)).prototype,"showLogin",[xO],Object.getOwnPropertyDescriptor(GO.prototype,"showLogin"),GO.prototype),GO),ZO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},eE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/ChatSend.js";function ChatSend_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatSend_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSend_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatSend_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var tE,rE,iE,nE=n.a.Service,aE=n.a.Store,oE="\uff1a",lE=void 0,sE=(VO=nE(si.a),$O=nE(Vn.a),KO=aE(),qO=function(e){function ChatSend(){!function ChatSend_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSend);var t=function ChatSend_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatSend_initDefineProp(t,"chatSendServices",QO,t),ChatSend_initDefineProp(t,"chatRoleBarrageService",JO,t),ChatSend_initDefineProp(t,"store",YO,t),t.getCaretInfo=function(e){var r=t.props.selectedRole.name.length+1,i=t.chatSendServices.trim(e.target.value);return{value:i,length:i.length,cursorPosition:t.chatRoleBarrageService.getCursorPosition(e.target),threshold:r}},t.moveCursorPosition=function(e){if(t.props.selectedRole){var r=t.getCaretInfo(e),i=r.length,n=r.threshold;r.cursorPosition.start<n&&t.chatRoleBarrageService.setCursorPosition(t.sendContent,i,i),t.move()}else t.move()},t.roleBarrageEdit=function(e){var r=t.props.selectedRole;if(r){var i=t.getCaretInfo(e),n=i.value,a=i.length,o=i.threshold,l=i.cursorPosition,s=function clearEditor(){if(8===e.which||13===e.which){if(e.preventDefault(),a===o)return t.sendContent.value="",void t.chatRoleBarrageService.clearRoleBarrage();8===e.which?(t.sendContent.value=n.split(r.name+oE)[1]||"",t.chatRoleBarrageService.clearRoleBarrage()):13===e.which&&t.chatSendServices.sendRoleMsg(r)}};l.start<o&&(e.preventDefault(),229===e.which&&(t.sendContent.value=n,t.chatRoleBarrageService.setCursorPosition(t.sendContent,a,a)),s()),l.start===o&&s(),t.move()}else t.move()},t.state={cdTime:0},t.send=t.send.bind(t),t.enterSend=t.enterSend.bind(t),t.checkLength=t.checkLength.bind(t),t.move=t.move.bind(t),t}return ChatSend_inherits(ChatSend,e),ChatSend.prototype.checkLength=function checkLength(e){var t=e.target,r=this.maxLength;t.value.length>=r&&(t.value=t.value.substr(0,r))},ChatSend.prototype.move=function move(){if(this.props.fansColor?this.sendContent.style.color=this.props.fansColor:this.sendContent.style.color=this.chatSendServices.defval,document.selection){var e=document.selection.createRange(),t=document.body.createTextRange(),r=0;for(t.moveToElementText(this.sendContent);t.compareEndPoints("StartToStart",e)<0;r++)t.moveStart("character",1);this.chatSendServices.cursorPosition=r}else this.chatSendServices.cursorPosition=this.sendContent.selectionStart},ChatSend.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.timer&&this.timer.unsubscribe(),this.timer=Object(Dc.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.timer.unsubscribe()})):this.setState({cdTime:0})},ChatSend.prototype.send=function send(e){e.preventDefault();var t=this.props.selectedRole;t?this.chatSendServices.sendRoleMsg(t):this.chatSendServices.sendMsg()},ChatSend.prototype.enterSend=function enterSend(e){var t=this.props.selectedRole;if(13===e.which){if(e.preventDefault(),t)return void this.chatSendServices.sendRoleMsg(t);this.chatSendServices.sendMsg()}},ChatSend.prototype.init=function init(){var e=this;this.chatSendServices.intervalStream.subscribe(function(t){e.interval(t)}),this.chatSendServices.initSocket()},ChatSend.prototype.componentDidMount=function componentDidMount(){this.init()},ChatSend.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,r=e.selectedRole;if(null===r){if(lE){var i=this.sendContent.value.split(lE.name+oE);this.sendContent.value=i[1]||i[0]||""}lE=null}if(r){var n=this.sendContent.value.split(oE),a=void 0;a=lE?n[1]||"":this.sendContent.value||"",lE=r,this.sendContent.value=r.name+"\uff1a"+a,setTimeout(function(){t.sendContent.focus(),t.chatRoleBarrageService.setCursorPosition(t.sendContent,t.sendContent.value.length,t.sendContent.value.length)},50)}},ChatSend.prototype.render=function render(){var e=this,t=ZO({},this.props.chatSendData),r=t.dataError,i=t.status,n=this.state.cdTime;return rs.a.createElement("div",{className:"ChatSend",__source:{fileName:eE,lineNumber:267},__self:this},rs.a.createElement("textarea",{className:"ChatSend-txt",placeholder:this.chatSendServices.placeholder,maxLength:this.chatSendServices.maxLength,ref:function ref(t){e.sendContent=t},onBlur:function onBlur(t){""===t.target.value&&(t.target.style.color=e.chatSendServices.defval)},onInput:this.checkLength,onKeyPress:this.enterSend,onKeyDown:this.roleBarrageEdit,onClick:this.moveCursorPosition,onFocus:this.moveCursorPosition,onKeyUp:this.moveCursorPosition,onCompositionStartCapture:this.moveCursorPosition,style:{color:this.chatSendServices.defval},__source:{fileName:eE,lineNumber:268},__self:this}),i>0?rs.a.createElement(XO,ZO({},this.props.chatSendData,{__source:{fileName:eE,lineNumber:290},__self:this})):"",rs.a.createElement("div",{className:"ChatSend-button "+(i>0||n>0||r?"is-gray":""),ref:function ref(t){e.sendButton=t},onClick:this.send,__source:{fileName:eE,lineNumber:291},__self:this},n>0&&0===i?n:"\u53d1\u9001"))},ChatSend}(rs.a.Component),QO=ChatSend_applyDecoratedDescriptor(qO.prototype,"chatSendServices",[VO],{enumerable:!0,initializer:null}),JO=ChatSend_applyDecoratedDescriptor(qO.prototype,"chatRoleBarrageService",[$O],{enumerable:!0,initializer:null}),YO=ChatSend_applyDecoratedDescriptor(qO.prototype,"store",[KO],{enumerable:!0,initializer:null}),qO),cE=Object(Km.connect)(function mapStateToProps(e){return{chatSendData:e.chatSendData,fansColor:e.chatToolBar.colorValue,selectedRole:e.chatRoleBarrageData.selectedRole}})(sE),uE=(r("29783"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalListItem/MedalListItem.js");function MedalListItem_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListItem_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListItem_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pE=(tE=(0,n.a.Service)(d.a),rE=function(e){function MedalListItem(){var t,r;!function MedalListItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListItem_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalListItem_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",iE,r),MedalListItem_possibleConstructorReturn(r,t)}return MedalListItem_inherits(MedalListItem,e),MedalListItem.prototype.render=function render(){var e=this.props,t=e.medalData,r=e.wareStatus,i=e.wareMedalId,n=e.medalOperation,a=e.isCurRoom,o="/"+t.medalRid;return rs.a.createElement("div",{key:t.medalRid,className:["FansMedalList-item",a?"is-curRoom":"",2===r&&t.medalRid===i?"is-checked":""].join(" "),onClick:function onClick(e){n({wareMedalId:t.medalRid,wareStatus:1}),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},__source:{fileName:uE,lineNumber:23},__self:this},rs.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:uE,lineNumber:40},__self:this}),rs.a.createElement("div",{className:"FansMedalPanel-medal",__source:{fileName:uE,lineNumber:41},__self:this},rs.a.createElement(Yw.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:uE,lineNumber:42},__self:this})),rs.a.createElement("h5",{className:"FansMedalList-anchorName",title:t.anchorNick||"\u4e3b\u64ad\u6635\u79f0",__source:{fileName:uE,lineNumber:51},__self:this},t.anchorNick||"\u4e3b\u64ad\u6635\u79f0"),rs.a.createElement("div",{className:"FansMedalList-valueInfo",__source:{fileName:uE,lineNumber:54},__self:this},rs.a.createElement("p",{className:"FansMedalList-expValue",__source:{fileName:uE,lineNumber:55},__self:this},rs.a.createElement("i",{className:"FansMedalList-expIcon",__source:{fileName:uE,lineNumber:56},__self:this}),rs.a.createElement("span",{__source:{fileName:uE,lineNumber:57},__self:this},t.todayExp>=0?"+":"",t.todayExp))),rs.a.createElement("a",{target:"_blank",href:o,className:["FansMedalList-liveStatus",t.isLive?"":"is-notLive"].join(" "),__source:{fileName:uE,lineNumber:65},__self:this},rs.a.createElement("i",{className:"FansMedalList-liveIcon",__source:{fileName:uE,lineNumber:73},__self:this}),rs.a.createElement("span",{__source:{fileName:uE,lineNumber:74},__self:this},t.isLive?"\u76f4\u64ad\u4e2d":"\u672a\u5f00\u64ad")))},MedalListItem}(rs.a.Component),iE=function MedalListItem_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(rE.prototype,"medalOperatServices",[tE],{enumerable:!0,initializer:null}),rE),fE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalList.js";function MedalList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dE,bE,mE,hE=function(e){function ChatMsgMedalList(){return function MedalList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalList),function MedalList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MedalList_inherits(ChatMsgMedalList,e),ChatMsgMedalList.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalList.prototype.renderMedalList=function renderMedalList(e){var t=this;return(e.medalList||[]).filter(function(t){return t.medalRid!==e.ownerRoomId}).slice(0,5).map(function(r){return rs.a.createElement(pE,{key:r.medalRid,medalData:r,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:t.medalOperation,__source:{fileName:fE,lineNumber:17},__self:t})})},ChatMsgMedalList.prototype.render=function render(){var e=this,t=this.props.medalListMsgData;return rs.a.createElement("div",{className:"FansMedalList",__source:{fileName:fE,lineNumber:31},__self:this},this.renderMedalList(t),rs.a.createElement("div",{className:["FansMedalList-item","is-NoWear",1===t.wareStatus?"is-checked":""].join(" "),onClick:function onClick(){return e.medalOperation({wareMedalId:"",wareStatus:2})},__source:{fileName:fE,lineNumber:35},__self:this},rs.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:fE,lineNumber:48},__self:this}),rs.a.createElement("h5",{className:"FansMedalList-anchorName",__source:{fileName:fE,lineNumber:49},__self:this},"\u4e0d\u4f69\u6234\u5fbd\u7ae0")))},ChatMsgMedalList}(rs.a.Component),vE=Object(Km.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(hE),gE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalInfo.js";function MedalInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yE,_E,NE,SE=(dE=(0,n.a.Service)(d.a),bE=function(e){function ChatMsgMedalInfo(){var t,r;!function MedalInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",mE,r),MedalInfo_possibleConstructorReturn(r,t)}return MedalInfo_inherits(ChatMsgMedalInfo,e),ChatMsgMedalInfo.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalInfo.prototype.returnCurRoomMedalConfig=function returnCurRoomMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.medalList||[]).filter(function(t){return t.medalRid===e.ownerRoomId})[0]},ChatMsgMedalInfo.prototype.returnMedalExpProgress=function returnMedalExpProgress(e){return e.medalLev>=30?"100%":Math.round(e.allExp/e.upLevExp*100)+"%"},ChatMsgMedalInfo.prototype.returnMedalRank=function returnMedalRank(e){return e?e>500?"500+":e:"--"},ChatMsgMedalInfo.prototype.render=function render(){var e=this.props.medalListMsgData,t=this.returnCurRoomMedalConfig(e),r="/task/firstpaytask/"+e.ownerRoomId;return rs.a.createElement("div",{className:"FansMedalPanel-info",__source:{fileName:gE,lineNumber:51},__self:this},t?rs.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:gE,lineNumber:55},__self:this},rs.a.createElement(pE,{key:t.medalRid,isCurRoom:1,medalData:t,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:this.medalOperation,__source:{fileName:gE,lineNumber:56},__self:this}),rs.a.createElement("div",{className:"FansMedalInfo-medalBar",__source:{fileName:gE,lineNumber:64},__self:this},rs.a.createElement("div",{className:"MedalBar-expInfo",__source:{fileName:gE,lineNumber:65},__self:this},rs.a.createElement("span",{className:"MedalBar-lev",__source:{fileName:gE,lineNumber:66},__self:this},"lv",t.medalLev,":"),rs.a.createElement("div",{className:"MedalBar-progress",__source:{fileName:gE,lineNumber:67},__self:this},rs.a.createElement("p",{className:"MedalBar-bar",__source:{fileName:gE,lineNumber:68},__self:this},rs.a.createElement("em",{className:"MedalBar-view",style:{width:this.returnMedalExpProgress(t)},__source:{fileName:gE,lineNumber:69},__self:this})),rs.a.createElement("span",{className:"MedalBar-expNum",__source:{fileName:gE,lineNumber:74},__self:this},t.medalLev>=30?"Max":t.allExp+"/"+t.upLevExp)),rs.a.createElement("div",{className:"MedalBar-todayExp",__source:{fileName:gE,lineNumber:82},__self:this},0===+t.todayExp?"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\uff1a0":rs.a.createElement("div",{__source:{fileName:gE,lineNumber:87},__self:this},rs.a.createElement("i",{className:"FansMedalInfo-expIcon",__source:{fileName:gE,lineNumber:88},__self:this}),t.todayExp>=0?"+"+t.todayExp:t.todayExp))),t.todayExp>0?rs.a.createElement("ul",{className:"MedalBar-expContent",__source:{fileName:gE,lineNumber:98},__self:this},rs.a.createElement("li",{className:"MedalBar-li",__source:{fileName:gE,lineNumber:99},__self:this},rs.a.createElement("p",{className:"MedalBar-text",__source:{fileName:gE,lineNumber:100},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u6392\u540d\uff1a",rs.a.createElement("span",{className:"MedalBar-rank",__source:{fileName:gE,lineNumber:102},__self:this},this.returnMedalRank(e.ownerMedalRank>0?e.ownerMedalRank:t.medalRank)))),rs.a.createElement("li",{className:"MedalBar-li",__source:{fileName:gE,lineNumber:110},__self:this},rs.a.createElement("p",{className:"MedalBar-text",__source:{fileName:gE,lineNumber:111},__self:this},"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\u4e0a\u9650\uff1a",t.todayAllExp))):rs.a.createElement("p",{className:"MedalBar-remain",__source:{fileName:gE,lineNumber:117},__self:this},"\u8fde\u7eed7\u5929\u4e0d\u9001\u793c\u7269\uff0c\u4eb2\u5bc6\u5ea6\u4f1a\u4e0b\u964d\uff0c\u4e0b\u964d\u52300\u65f6\u60a8\u5c06\u5931\u53bb\u8be5\u5fbd\u7ae0"))):rs.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:gE,lineNumber:125},__self:this},rs.a.createElement("div",{className:"FansMedalInfo-Top",__source:{fileName:gE,lineNumber:126},__self:this},rs.a.createElement(Yw.a,{lev:0,name:e.ownerMedalName,isVipFans:!1,url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.ownerRoomId,__source:{fileName:gE,lineNumber:127},__self:this}),e.medalSwitch>0?rs.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:gE,lineNumber:137},__self:this},"\u672a\u62e5\u6709\u8be5\u4e3b\u64ad\u7684\u5fbd\u7ae0"):rs.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:gE,lineNumber:138},__self:this},"\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0"),e.firstCharge>0&&e.medalSwitch>0?rs.a.createElement("a",{href:r,target:"_blank",className:"FansMedalInfo-firstCharge",__source:{fileName:gE,lineNumber:142},__self:this},"\u9996\u5145"):""),e.medalSwitch>0?rs.a.createElement("p",{className:"FansMedalInfo-getTips",__source:{fileName:gE,lineNumber:148},__self:this},"\u5f53\u65e5\u7d2f\u8ba1\u9001\u4e3b\u64ad6\u9c7c\u7fc5\u793c\u7269\u5373\u53ef\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\u5662~"):null))},ChatMsgMedalInfo}(rs.a.Component),mE=function MedalInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(bE.prototype,"medalOperatServices",[dE],{enumerable:!0,initializer:null}),bE),CE=Object(Km.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(SE),wE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalPanel.js";function MedalPanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalPanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalPanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var OE,EE,DE,kE=(yE=(0,n.a.Service)(d.a),_E=function(e){function ChatMsgMedalPanel(){var t,r;!function MedalPanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalPanel);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalPanel_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalPanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",NE,r),MedalPanel_possibleConstructorReturn(r,t)}return MedalPanel_inherits(ChatMsgMedalPanel,e),ChatMsgMedalPanel.prototype.componentDidMount=function componentDidMount(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.componentDidUpdate=function componentDidUpdate(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.medalOperation=function medalOperation(e){this.medalOperatServices.sendMedalMsg(e)},ChatMsgMedalPanel.prototype.render=function render(){var e=this,t=this.props,r=t.isShowMedalPanel,i=t.medalStatus,n=t.toggleMedalPanel;return r.status?rs.a.createElement("div",{className:"FansMedalPanel-Panel-container",style:{display:r.status?"block":"none"},__source:{fileName:wE,lineNumber:32},__self:this},1===i.wareStatus||2===i.wareStatus?rs.a.createElement("div",{className:"FansMedalPanel-Panel",onMouseEnter:function onMouseEnter(){return n(1)},onMouseLeave:function onMouseLeave(){return n(0)},__source:{fileName:wE,lineNumber:40},__self:this},rs.a.createElement("p",{className:"FansMedalPanel-ArrowIcon",__source:{fileName:wE,lineNumber:48},__self:this},rs.a.createElement("i",{className:"FansMedalPanel-ArrowIcon-i",__source:{fileName:wE,lineNumber:49},__self:this})),rs.a.createElement("div",{className:"FansMedalPanel-headerBg",__source:{fileName:wE,lineNumber:51},__self:this},rs.a.createElement("span",{className:"FansMedalPanel-headerText",__source:{fileName:wE,lineNumber:52},__self:this})),rs.a.createElement("div",{className:"FansMedalPanel-OwnerInfo",__source:{fileName:wE,lineNumber:54},__self:this},rs.a.createElement("div",{className:"MedalOwnerInfo-box",__source:{fileName:wE,lineNumber:55},__self:this},rs.a.createElement("div",{className:"MedalOwnerInfo-title",__source:{fileName:wE,lineNumber:56},__self:this},rs.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:wE,lineNumber:57},__self:this},"\u5f53\u524d\u623f\u95f4\u5fbd\u7ae0"),rs.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:wE,lineNumber:58},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u4f53\u7cfb")),rs.a.createElement(CE,{medalOperation:this.medalOperation.bind(this),__source:{fileName:wE,lineNumber:72},__self:this}))),rs.a.createElement("div",{className:"FansMedalPanel-list",__source:{fileName:wE,lineNumber:75},__self:this},rs.a.createElement("div",{className:"FansMedalList-box",__source:{fileName:wE,lineNumber:76},__self:this},rs.a.createElement("div",{className:"FansMedalList-title",__source:{fileName:wE,lineNumber:77},__self:this},rs.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:wE,lineNumber:78},__self:this},"\u5176\u5b83\u5fbd\u7ae0"),rs.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_sel_detail",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"/member/cp/getFansBadgeList",__source:{fileName:wE,lineNumber:79},__self:this},"\u67e5\u770b\u5168\u90e8\u5fbd\u7ae0")),rs.a.createElement(vE,{medalOperation:this.medalOperation.bind(this),__source:{fileName:wE,lineNumber:93},__self:this})))):null):""},ChatMsgMedalPanel}(rs.a.Component),NE=function MedalPanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(_E.prototype,"medalOperatServices",[yE],{enumerable:!0,initializer:null}),_E),jE=Object(Km.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(kE),RE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalEnter.js";function MedalEnter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalEnter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var PE,TE,BE,LE=(OE=(0,n.a.Service)(d.a),EE=function(e){function ChatMsgMedalContainer(){!function MedalEnter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalContainer);var t=function MedalEnter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalEnter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",DE,t),t.firstRender=0,t.isRemainNotWear=0,t}return MedalEnter_inherits(ChatMsgMedalContainer,e),ChatMsgMedalContainer.prototype.componentDidMount=function componentDidMount(){this.medalOperatService.initMedalService()},ChatMsgMedalContainer.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.medalListMsgData,t=this.checkNowRoomWearStatus(e);0!==e.wareStatus&&this.medalOperatService.clearMedalDialog(1),this.isRemainNotWear||!t||this.firstRender||(this.isRemainNotWear=1,this.medalOperatService.addMedalDialog({dialogType:5,defaultShow:1,hoverShow:0,autoClear:5e3,medalData:t})),this.firstRender=1},ChatMsgMedalContainer.prototype.checkNowRoomWearStatus=function checkNowRoomWearStatus(e){return e&&0!==e.wareStatus&&e.medalList?e.medalList.filter(function(t){return t.medalRid===e.ownerRoomId&&e.wareMedalId!==e.ownerRoomId})[0]:null},ChatMsgMedalContainer.prototype.getEnterMedalConfig=function getEnterMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(+e.wareStatus){case 0:default:return{name:"\u672a\u62e5\u6709",lev:0};case 1:return{name:"\u672a\u4f69\u6234",lev:0};case 2:var t=e.medalList.filter(function(t){return t.medalRid===e.wareMedalId})[0];return{name:t.medalName||"\u7c89\u4e1d",lev:t.medalLev||0}}},ChatMsgMedalContainer.prototype.render=function render(){var e=this,t=this.props,r=t.medalListMsgData,i=t.toggleMedalPanel,n=this.getEnterMedalConfig(r);return rs.a.createElement("div",{className:"FansMedalPanel-enter",onMouseEnter:function onMouseEnter(){return i(1)},onMouseLeave:function onMouseLeave(){return i(0)},onClick:function onClick(){return e.medalOperatService.fansMedalDYSub("click_msg_fansbadge")},__source:{fileName:RE,lineNumber:83},__self:this},rs.a.createElement(jE,{medalStatus:r,toggleMedalPanel:i,__source:{fileName:RE,lineNumber:88},__self:this}),rs.a.createElement("div",{"data-medal-level":n.lev,className:["FansMedalEnter-enterContent","is-EnterMedal",2!==r.wareStatus?"is-NotWare":""].join(" "),__source:{fileName:RE,lineNumber:90},__self:this},rs.a.createElement("i",{className:"FansMedalEnter-enterIcon",__source:{fileName:RE,lineNumber:100},__self:this}),rs.a.createElement("p",{className:"FansMedalEnter-enterBg",__source:{fileName:RE,lineNumber:101},__self:this},n.name)))},ChatMsgMedalContainer}(rs.a.Component),DE=function MedalEnter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(EE.prototype,"medalOperatService",[OE],{enumerable:!0,initializer:null}),EE),zE=Object(Km.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(LE),ME="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogComponent.js";function MedalDialogComponent_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogComponent_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var AE,IE,FE,xE=(PE=(0,n.a.Service)(d.a),TE=function(e){function MedalDialog(){!function MedalDialogComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialog);var t=function MedalDialogComponent_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalDialogComponent_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatServices",BE,t),t.clearTimer=0,t}return MedalDialogComponent_inherits(MedalDialog,e),MedalDialog.prototype.componentDidMount=function componentDidMount(){this.dialogConfig=this.props.dialogConfig},MedalDialog.prototype.componentWillUnmount=function componentWillUnmount(){},MedalDialog.prototype.medalOperation=function medalOperation(e,t){this.medalOperatServices.sendMedalMsg(e),6!==t.dialogType&&5!==t.dialogType||this.medalOperatServices.clearMedalDialog(t.dialogType)},MedalDialog.prototype.closeDialog=function closeDialog(e){this.medalOperatServices.clearMedalDialog(e)},MedalDialog.prototype.clearDialog=function clearDialog(e){var t=this;clearTimeout(this.clearTimer),this.clearTimer=setTimeout(function(){t.medalOperatServices.clearMedalDialog(e.dialogType)},e.autoClear)},MedalDialog.prototype.returnDesc=function returnDesc(e){var t=this;switch(parseInt(e.dialogType,10)){case 1:default:return rs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:ME,lineNumber:47},__self:this},"\u4e3b\u64ad\u8fd8\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0",rs.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:ME,lineNumber:49},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 2:return rs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:ME,lineNumber:66},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\uff01");case 3:return rs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:ME,lineNumber:72},__self:this},"\u60a8\u7684\u5fbd\u7ae0\u5df2\u8fbe\u5230\u4e0a\u965020\u4e2a\u3002",rs.a.createElement("a",{href:"/member/cp/getFansBadgeList",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:ME,lineNumber:74},__self:this},"\u70b9\u51fb\u8bbe\u7f6e>>"));case 4:return rs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:ME,lineNumber:80},__self:this},"\u5f53\u5929\u7d2f\u8ba1\u9001\u4e3b\u64ad\u4ef7\u503c6\u4e2a\u9c7c\u7fc5\u7684\u793c\u7269\u5373\u53ef\u83b7\u5f97Ta\u7684\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u5e76\u83b7\u53d6\u7c89\u4e1d\u4e13\u5c5e\u793c\u5305\u3002",rs.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:ME,lineNumber:82},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 5:return rs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:ME,lineNumber:99},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-text",__source:{fileName:ME,lineNumber:100},__self:this},"\u60a8\u5df2\u62e5\u6709\u8be5\u4e3b\u64ad\u5fbd\u7ae0"),rs.a.createElement(Yw.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:ME,lineNumber:101},__self:this}),rs.a.createElement("p",{className:"FansMedalDialog-wareMedal",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:ME,lineNumber:109},__self:this},"\u7acb\u5373\u4f69\u6234"));case 6:return rs.a.createElement("div",{className:"FansMedalDialog-FirstMedalTip",__source:{fileName:ME,lineNumber:121},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:ME,lineNumber:122},__self:this}),rs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:ME,lineNumber:123},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:ME,lineNumber:128},__self:this},rs.a.createElement("dl",{className:"FansMedalDialog-dl",__source:{fileName:ME,lineNumber:129},__self:this},rs.a.createElement("dt",{className:"FansMedalDialog-dt",__source:{fileName:ME,lineNumber:130},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\uff1a",rs.a.createElement(Yw.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:ME,lineNumber:131},__self:this})),rs.a.createElement("dd",{__source:{fileName:ME,lineNumber:140},__self:this},"\u6bcf\u5929\u9001\u793c\u7269\u4f1a\u63d0\u5347\u7b49\u7ea7\u548c\u83b7\u5f97\u4e30\u539a\u7684\u793c\u5305\uff01"),rs.a.createElement("dd",{className:"FansMedalDialog-wearMedal",__source:{fileName:ME,lineNumber:141},__self:this},rs.a.createElement("a",{className:"FansMedalDialog-wearButton",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:ME,lineNumber:142},__self:this},"\u7acb\u5373\u4f69\u6234")))));case 7:return rs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:ME,lineNumber:157},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:ME,lineNumber:158},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:ME,lineNumber:163},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:ME,lineNumber:164},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:ME,lineNumber:165},__self:this},rs.a.createElement("p",{__source:{fileName:ME,lineNumber:166},__self:this},"\u4eb2\uff0c\u771f\u7ed9\u529b\uff0c\u5df2\u5237\u6ee1\u672c\u65e5\u4eb2\u5bc6\u5ea6!"))));case 8:return rs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:ME,lineNumber:173},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:ME,lineNumber:174},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-upgrade",__source:{fileName:ME,lineNumber:179},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:ME,lineNumber:180},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:ME,lineNumber:181},__self:this},rs.a.createElement("p",{__source:{fileName:ME,lineNumber:182},__self:this},"\u606d\u559c\u4f60\u53c8\u5347\u4e00\u7ea7\uff0c\u79bb\u4e3b\u64ad\u94c1\u7c89\u66f4\u8fd1\u4e00\u6b65!"))));case 9:return rs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:ME,lineNumber:189},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:ME,lineNumber:190},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:ME,lineNumber:195},__self:this},rs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:ME,lineNumber:196},__self:this}),rs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:ME,lineNumber:197},__self:this},rs.a.createElement("p",{__source:{fileName:ME,lineNumber:198},__self:this},"\u606d\u559c\u4f60\u5347\u7ea7\u4e14\u5237\u6ee1\u4e86\u4eca\u5929\u7684\u4eb2\u5bc6\u5ea6!"))))}},MedalDialog.prototype.returnShowStatus=function returnShowStatus(e){var t=this.props.isShowMedalPanel;return e.defaultShow||t.status?{display:"block"}:{display:"none"}},MedalDialog.prototype.render=function render(){var e=this.props||this,t=e.dialogConfig,r=e.toggleMedalPanel;return t.autoClear&&this.clearDialog(t),rs.a.createElement("div",{className:["FansMedalDialog-normal",6===t.dialogType||7===t.dialogType||8===t.dialogType||9===t.dialogType?"is-big":""].join(" "),style:this.returnShowStatus(t),onMouseLeave:function onMouseLeave(){t.defaultShow||r(0)},onMouseEnter:function onMouseEnter(){t.defaultShow||r(1)},__source:{fileName:ME,lineNumber:228},__self:this},rs.a.createElement("i",{className:"FansMedalDialog-arrowIcon",__source:{fileName:ME,lineNumber:256},__self:this}),this.returnDesc(t))},MedalDialog}(rs.a.Component),BE=function MedalDialogComponent_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(TE.prototype,"medalOperatServices",[PE],{enumerable:!0,initializer:null}),TE),GE=Object(Km.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(xE),UE=(r("8b3dc"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogContainer.js");function MedalDialogContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalDialogContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var HE,WE,VE,$E,KE,qE=(AE=(0,n.a.Service)(d.a),IE=function(e){function MedalDialogContainer(){var t,r;!function MedalDialogContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialogContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalDialogContainer_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalDialogContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatService",FE,r),MedalDialogContainer_possibleConstructorReturn(r,t)}return MedalDialogContainer_inherits(MedalDialogContainer,e),MedalDialogContainer.prototype.pushDialog=function pushDialog(e,t){var r=this;return e&&e.length?e.map(function(e,i){return rs.a.createElement(GE,{key:i,toggleMedalPanel:t,dialogConfig:e,__source:{fileName:UE,lineNumber:19},__self:r})}):null},MedalDialogContainer.prototype.render=function render(){var e=this.props,t=e.medalDialogStatus,r=e.toggleMedalPanel,i=this.pushDialog(t,r);return rs.a.createElement("div",{className:"FansMedalDialog",__source:{fileName:UE,lineNumber:28},__self:this},i)},MedalDialogContainer}(rs.a.Component),FE=function MedalDialogContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(IE.prototype,"medalOperatService",[AE],{enumerable:!0,initializer:null}),IE),QE=Object(Km.connect)(function mapStateToProps(e){return{medalDialogStatus:e.medalDialogStatus}})(qE),JE=(r("3fc33"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalDroppingPanel/MedalDroppingList.js");function MedalDroppingList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalDroppingList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDroppingList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalDroppingList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var YE,XE,ZE,eD=n.a.Service,tD=(HE=eD(Z),WE=eD(d.a),VE=function(e){function MedalDroppingList(){!function MedalDroppingList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingList);var t=function MedalDroppingList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return MedalDroppingList_initDefineProp(t,"medalDroppingServices",$E,t),MedalDroppingList_initDefineProp(t,"medalOperatServices",KE,t),t.state={remainStatus:0,medalDroppingList:[],medalDroppingClose:1,isNewDropping:0,newDroppingMedals:[],oldDroppingMedals:[]},t.isShowDropping=0,t}return MedalDroppingList_inherits(MedalDroppingList,e),MedalDroppingList.prototype.componentDidMount=function componentDidMount(){this.setState({remainStatus:this.medalDroppingServices.getRemainSwitchState()})},MedalDroppingList.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.medalDroppingList,r=e.medalDroppingClose,i=this.medalDroppingServices.dealDroppingList(t),n=this.checkIsNewDroppingMedal(i),a=i.newDroppingMedals,o=i.oldDroppingMedals;this.isShowDropping&&r||this.setState({medalDroppingList:t,medalDroppingClose:r,isNewDropping:n,newDroppingMedals:a,oldDroppingMedals:o})},MedalDroppingList.prototype.checkIsNewDroppingMedal=function checkIsNewDroppingMedal(e){return e.newDroppingMedals.length>0&&e.oldDroppingMedals.length>0},MedalDroppingList.prototype.toggleNotRemainSwitch=function toggleNotRemainSwitch(){var e=parseInt(this.state.remainStatus,10)?0:1;!function setLocalStorage(e,t,r){m.DataCenter.localStorage.set(e,t,r)}(this.medalDroppingServices.returnRemainCacheFlag(),e),this.setState({remainStatus:e})},MedalDroppingList.prototype.render=function render(){var e=this,t=this.state,r=t.medalDroppingList,i=t.medalDroppingClose,n=t.isNewDropping,a=t.newDroppingMedals,o=t.oldDroppingMedals;return i&&r.length&&a.length?(this.isShowDropping=1,rs.a.createElement("div",{className:["FansMedalDropping-box",n?"is-newDropping":""].join(" "),__source:{fileName:JE,lineNumber:95},__self:this},rs.a.createElement("i",{className:"FansMedalDropping-close",onClick:function onClick(){return e.medalDroppingServices.medalDroppingClose()},__source:{fileName:JE,lineNumber:101},__self:this}),rs.a.createElement("div",{className:"FansMedalDropping-header",__source:{fileName:JE,lineNumber:106},__self:this},rs.a.createElement("div",{className:["FansMedalDropping-remainSwitch",this.state.remainStatus?"is-remain":""].join(" "),onClick:function onClick(){return e.toggleNotRemainSwitch()},__source:{fileName:JE,lineNumber:107},__self:this},rs.a.createElement("i",{className:"FansMedalDropping-switchIcon",__source:{fileName:JE,lineNumber:116},__self:this}),rs.a.createElement("span",{className:"FansMedalDropping-switchText",__source:{fileName:JE,lineNumber:117},__self:this},"\u4e0d\u518d\u63d0\u793a")),n?rs.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:JE,lineNumber:122},__self:this},rs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:JE,lineNumber:123},__self:this},"\u597d\u5fc3\u75bc~\u60a8\u4eca\u5929",rs.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:JE,lineNumber:125},__self:this},"\u53c8\u6709",a.length||r.length,"\u679a\u5fbd\u7ae0\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u4e86"),"\u54df~")):rs.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:JE,lineNumber:132},__self:this},rs.a.createElement("p",{className:"FansMedalDropping-headerPic",__source:{fileName:JE,lineNumber:133},__self:this}),rs.a.createElement("div",{className:"FansMedalDropping-desc",__source:{fileName:JE,lineNumber:134},__self:this},rs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:JE,lineNumber:135},__self:this},"\u597d\u5fc3\u75bc~"),rs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:JE,lineNumber:136},__self:this},"\u4f60\u4e0e",rs.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:JE,lineNumber:138},__self:this},r.length,"\u4f4d\u4e3b\u64ad"),"\u7684\u4eb2\u5bc6\u5ea6",rs.a.createElement("span",{__source:{fileName:JE,lineNumber:141},__self:this},"\u6b63\u5728\u4e0b\u964d~")),rs.a.createElement("h5",{className:"FansMedalDropping-h5Text",__source:{fileName:JE,lineNumber:143},__self:this},"\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u52300\u65f6\uff0c\u5c06\u4f1a\u5931\u53bb\u4e3b\u64ad\u7c89\u4e1d\u5fbd\u7ae0")))),rs.a.createElement("div",{className:"FansMedalDropping-content",__source:{fileName:JE,lineNumber:149},__self:this},rs.a.createElement(is.Scrollbars,{autoHeight:!0,autoHeightMax:163,__source:{fileName:JE,lineNumber:150},__self:this},n?rs.a.createElement("div",{__source:{fileName:JE,lineNumber:154},__self:this},rs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:JE,lineNumber:155},__self:this},a.map(function(t){return rs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:JE,lineNumber:158},__self:e},rs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:JE,lineNumber:159},__self:e},rs.a.createElement(Yw.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:JE,lineNumber:160},__self:e}),rs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:JE,lineNumber:168},__self:e},rs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:JE,lineNumber:169},__self:e},rs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:JE,lineNumber:170},__self:e}),rs.a.createElement("span",{__source:{fileName:JE,lineNumber:171},__self:e},t.todayExp))),rs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:JE,lineNumber:176},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",rs.a.createElement("span",{__source:{fileName:JE,lineNumber:176},__self:e},t.allExp))),rs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:JE,lineNumber:178},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})),rs.a.createElement("p",{className:"FansMedalDropping-oldDropping",__source:{fileName:JE,lineNumber:185},__self:this},"\u4ee5\u4e0b\u5fbd\u7ae0\u7684\u4eb2\u5bc6\u5ea6\u6b63\u5728\u4e0b\u964d\uff0c\u8d76\u7d27\u9001\u793c\u7269\u5427~"),rs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:JE,lineNumber:186},__self:this},o.map(function(t){return rs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:JE,lineNumber:189},__self:e},rs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:JE,lineNumber:190},__self:e},rs.a.createElement(Yw.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:JE,lineNumber:191},__self:e}),rs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:JE,lineNumber:199},__self:e},rs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:JE,lineNumber:200},__self:e},rs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:JE,lineNumber:201},__self:e}),rs.a.createElement("span",{__source:{fileName:JE,lineNumber:202},__self:e},t.todayExp))),rs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:JE,lineNumber:207},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",rs.a.createElement("span",{__source:{fileName:JE,lineNumber:207},__self:e},t.allExp))),rs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:JE,lineNumber:209},__self:e},"\u53bb\u76f4\u64ad\u95f4"))}))):rs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:JE,lineNumber:219},__self:this},r.map(function(t){return rs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:JE,lineNumber:222},__self:e},rs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:JE,lineNumber:223},__self:e},rs.a.createElement(Yw.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:JE,lineNumber:224},__self:e}),rs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:JE,lineNumber:232},__self:e},rs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:JE,lineNumber:233},__self:e},rs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:JE,lineNumber:234},__self:e}),rs.a.createElement("span",{__source:{fileName:JE,lineNumber:235},__self:e},t.todayExp))),rs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:JE,lineNumber:240},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",rs.a.createElement("span",{__source:{fileName:JE,lineNumber:240},__self:e},t.allExp))),rs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:JE,lineNumber:242},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})))))):null},MedalDroppingList}(rs.a.Component),$E=MedalDroppingList_applyDecoratedDescriptor(VE.prototype,"medalDroppingServices",[HE],{enumerable:!0,initializer:null}),KE=MedalDroppingList_applyDecoratedDescriptor(VE.prototype,"medalOperatServices",[WE],{enumerable:!0,initializer:null}),VE),rD=Object(Km.connect)(function mapStateToProps(e){return{medalDroppingList:e.medalDroppingList,medalDroppingClose:e.medalDroppingClose}})(tD),iD=(r("bc903"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalContainer.js");function MedalContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nD=(YE=(0,n.a.Service)(d.a),XE=function(e){function MedalContainer(){!function MedalContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalContainer);var t=function MedalContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",ZE,t),t.hoverTimer=0,t}return MedalContainer_inherits(MedalContainer,e),MedalContainer.prototype.toggleMedalPanel=function toggleMedalPanel(e){var t=this;clearTimeout(this.hoverTimer),e?this.medalOperatService.toggleMedalPanel({status:e}):this.hoverTimer=setTimeout(function(){t.medalOperatService.toggleMedalPanel({status:e})},200)},MedalContainer.prototype.render=function render(){return rs.a.createElement("div",{__source:{fileName:iD,lineNumber:37},__self:this},rs.a.createElement("div",{className:"FansMedalPanel-container",__source:{fileName:iD,lineNumber:38},__self:this},rs.a.createElement(QE,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:iD,lineNumber:39},__self:this}),rs.a.createElement(zE,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:iD,lineNumber:40},__self:this})),rs.a.createElement(rD,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:iD,lineNumber:42},__self:this}))},MedalContainer}(rs.a.Component),ZE=function MedalContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(XE.prototype,"medalOperatService",[YE],{enumerable:!0,initializer:null}),XE),aD="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSpeak/ChatSpeak.js";function ChatSpeak_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSpeak_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var oD,lD,sD,cD,uD=function(e){function ChatSpeak(){return function ChatSpeak_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSpeak),function ChatSpeak_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatSpeak_inherits(ChatSpeak,e),ChatSpeak.prototype.render=function render(){return rs.a.createElement("div",{className:"ChatSpeak",__source:{fileName:aD,lineNumber:17},__self:this},rs.a.createElement(nD,{__source:{fileName:aD,lineNumber:18},__self:this}),rs.a.createElement(cE,{__source:{fileName:aD,lineNumber:19},__self:this}))},ChatSpeak}(rs.a.Component),pD=r("c3dbc"),fD=(r("88060"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionList.js");function EmotionList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dD,bD=n.a.Service,mD={douyu:pD.a,lushi:pD.b},hD=(oD=bD(si.a),Object(ee.log)((sD=function(e){function EmotionList(){var t,r;!function EmotionList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionList);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionList_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatSendServices",cD,r),r.handleClickEmotionRel=function(e,t){if(!ps.a.check())return ps.a.show(),void e.stopPropagation();var i="dy"+t;r.chatSendServices.appendFaceCode(i),Object(pr.dysub)("click_msg_look",{code:i})},EmotionList_possibleConstructorReturn(r,t)}return EmotionList_inherits(EmotionList,e),EmotionList.prototype.handleGotoTopic=function handleGotoTopic(e){e.stopPropagation(),Object(pr.dysub)("click_go_to_BlizzardtvHS")},EmotionList.prototype.genEmotionListCon=function genEmotionListCon(){var e=this,t=this.props,r=t.currentEmotTab,i=void 0===r?"":r,n=t.emotionData,a=(void 0===n?{}:n).lushiStatusCode,o=window.location,l=void 0===o?{}:o;return"lushi"===i&&0!==a?rs.a.createElement("div",{className:"EmotionList-lushiProm",__source:{fileName:fD,lineNumber:58},__self:this},rs.a.createElement("i",{className:"EmotionList-lushiProm-img",__source:{fileName:fD,lineNumber:59},__self:this}),rs.a.createElement("span",{className:"EmotionList-lushiProm-info",__source:{fileName:fD,lineNumber:60},__self:this},"\u672a\u83b7\u5f97"),"/topic/BlizzardtvHS"===l.pathname?rs.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"#giftCtr",target:"_self",onClick:this.handleGotoTopic.bind(this),__source:{fileName:fD,lineNumber:63},__self:this},"\u524d\u5f80\u83b7\u5f97"):rs.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"//www.douyu.com/topic/BlizzardtvHS",target:"_blank",onClick:this.handleGotoTopic.bind(this),__source:{fileName:fD,lineNumber:70},__self:this},"\u524d\u5f80\u83b7\u5f97")):rs.a.createElement("div",{className:"EmotionList-con",style:{top:this.props.top+"px"},__source:{fileName:fD,lineNumber:83},__self:this},mD[i].map(function(t,r){var i=(r+7)%42>=0&&(r+7)%42<7?"is-emBBN":"";return rs.a.createElement("em",{className:"EmotionList-item "+((r+1)%7===0?"is-emBRN":"")+" "+i,key:t.id,title:t.title,onClick:function onClick(r){e.handleClickEmotionRel(r,t.id)},__source:{fileName:fD,lineNumber:89},__self:e},rs.a.createElement("img",{src:t.url,__source:{fileName:fD,lineNumber:96},__self:e}))}))},EmotionList.prototype.render=function render(){return rs.a.createElement("div",{className:"EmotionList",__source:{fileName:fD,lineNumber:106},__self:this},this.genEmotionListCon())},EmotionList}(rs.a.Component),cD=function EmotionList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(sD.prototype,"chatSendServices",[oD],{enumerable:!0,initializer:null}),lD=sD))||lD),vD="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionScroller.js";function EmotionScroller_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionScroller_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gD=Object(ee.log)(dD=function(e){function EmotionScroller(){!function EmotionScroller_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionScroller);var t=function EmotionScroller_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={},t}return EmotionScroller_inherits(EmotionScroller,e),EmotionScroller.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},EmotionScroller.prototype.handleArrowClick=function handleArrowClick(e){var t=this.props,r=t.showScroll,i=t.handleArrowClick,handleArrowClick=void 0===i?function(){}:i;r&&handleArrowClick(e)},EmotionScroller.prototype.render=function render(){var e=["EmotionScroller-facepage",this.props.statusUp?"is-up":"",this.props.statusDown?"is-down":""].join(" "),t=this.props.showScroll;return rs.a.createElement("div",{className:"EmotionScroller",onClick:this.onClickHandler,__source:{fileName:vD,lineNumber:47},__self:this},t?rs.a.createElement("div",{className:"EmotionScroller-track",__source:{fileName:vD,lineNumber:50},__self:this},rs.a.createElement("div",{className:"EmotionScroller-thumb",style:{top:this.props.tops+"px"},__source:{fileName:vD,lineNumber:51},__self:this},rs.a.createElement("div",{className:e,style:{display:""+this.props.showPage},__source:{fileName:vD,lineNumber:52},__self:this},rs.a.createElement("div",{className:"EmotionScroller-pagenum",__source:{fileName:vD,lineNumber:54},__self:this},this.props.pagenum+"/2")))):null,rs.a.createElement("div",{className:"EmotionScroller-up",onClick:this.handleArrowClick.bind(this,-1),__source:{fileName:vD,lineNumber:60},__self:this}),rs.a.createElement("div",{className:"EmotionScroller-down",onClick:this.handleArrowClick.bind(this,1),__source:{fileName:vD,lineNumber:61},__self:this}))},EmotionScroller}(rs.a.Component))||dD;gD.propTypes={chatToolbar:Vm.PropTypes.object};var yD,_D,ND,SD,CD=Object(Km.connect)(function mapStateToProps(e){return{chatToolbar:e.chatToolbar}})(gD),wD=r("76531"),OD=r.n(wD),ED=r("e4ba7"),DD=r.n(ED),kD=[{url:OD.a,key:"douyu",desc:"\u6597\u9c7c\u8868\u60c5\u5305",showScroll:!0,needLogin:!1},{url:DD.a,key:"lushi",desc:"\u7089\u77f3\u8868\u60c5\u5305",showScroll:!1,needLogin:!0}],jD="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionTab.js";function EmotionTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var RD=!1,PD=(yD=(0,n.a.Service)(ia),Object(ee.log)((ND=function(e){function EmotionTab(){var t,r;!function EmotionTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionTab);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"emotionServices",SD,r),EmotionTab_possibleConstructorReturn(r,t)}return EmotionTab_inherits(EmotionTab,e),EmotionTab.prototype.componentDidMount=function componentDidMount(){RD||(this.emotionServices.getLushiEmotStatus(),RD=!0)},EmotionTab.prototype.emotTabClick=function emotTabClick(e,t){var r=this.props.changeEmotTab,i=void 0===r?function(){}:r,n=e.key,a=e.showScroll,o=e.needLogin;Object(pr.dysub)("click_emot_tab",{tab:n}),t.stopPropagation(),!o||ps.a.check()?i(n,a):ps.a.show()},EmotionTab.prototype.hanleFilterEmotTab=function hanleFilterEmotTab(){var e=this.props.emotionData,t=(void 0===e?{}:e).lushiStatusCode;return kD.filter(function(e){return"lushi"!==e.key||(5005===t||0===t)})},EmotionTab.prototype.render=function render(){var e=this,t=this.props.currentEmotTab,r=void 0===t?"":t,i=this.hanleFilterEmotTab();return rs.a.createElement("ul",{className:"EmotionTab",__source:{fileName:jD,lineNumber:75},__self:this},i.map(function(t){return rs.a.createElement("li",{className:"EmotionTab-item "+(r===t.key?"is-active":""),key:t.key,onClick:e.emotTabClick.bind(e,t),__source:{fileName:jD,lineNumber:78},__self:e},rs.a.createElement("img",{className:"EmotionTab-img EmotionTab-img--"+t.key,src:t.url,__source:{fileName:jD,lineNumber:83},__self:e}))}))},EmotionTab}(rs.a.Component),SD=function EmotionTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ND.prototype,"emotionServices",[yD],{enumerable:!0,initializer:null}),_D=ND))||_D);PD.propTypes={currentEmotTab:Vm.PropTypes.string,emotionData:Vm.PropTypes.object,changeEmotTab:Vm.PropTypes.func};var TD,BD=PD,LD="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/Emotion.js";function Emotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Emotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zD=Object(ee.log)(TD=function(e){function Emotion(){!function Emotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Emotion);var t=function Emotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={top:0,tops:10,pagenum:1,showPage:"none",statusUp:0,statusDown:0,emotTab:"douyu",showScroll:!0},t.handleWheel=t.handleWheel.bind(t),t.handleArrowClick=t.handleArrowClick.bind(t),t}return Emotion_inherits(Emotion,e),Emotion.prototype.handleChangeEmotTab=function handleChangeEmotTab(e,t){var r=this;this.setState({emotTab:e,showScroll:t},function(){r.handleArrowClick(-1)})},Emotion.prototype.handleWheel=function handleWheel(e){if(this.state.showScroll){var t=e.deltaY;e.preventDefault(),this.handleArrowClick(t)}},Emotion.prototype.handleArrowClick=function handleArrowClick(e){e>0?this.setState({top:-257,tops:128,pagenum:2,showPage:"block",statusUp:0,statusDown:1}):e<0&&this.setState({top:0,tops:10,pagenum:1,showPage:"block",statusUp:1,statusDown:0})},Emotion.prototype.render=function render(){var e=this.props,t=e.isOpen,r=e.emotionData,i=void 0===r?{}:r;return t&&rs.a.createElement("div",{className:"Emotion",onWheel:this.handleWheel,__source:{fileName:LD,lineNumber:83},__self:this},rs.a.createElement("div",{className:"Emotion-container",__source:{fileName:LD,lineNumber:84},__self:this},rs.a.createElement(CD,{tops:this.state.tops,showPage:this.state.showPage,statusUp:this.state.statusUp,statusDown:this.state.statusDown,pagenum:this.state.pagenum,showScroll:this.state.showScroll,handleArrowClick:this.handleArrowClick,__source:{fileName:LD,lineNumber:85},__self:this}),rs.a.createElement(hD,{top:this.state.top,currentEmotTab:this.state.emotTab,emotionData:i,__source:{fileName:LD,lineNumber:89},__self:this}),rs.a.createElement(BD,{currentEmotTab:this.state.emotTab,changeEmotTab:this.handleChangeEmotTab.bind(this),emotionData:i,__source:{fileName:LD,lineNumber:94},__self:this})))},Emotion}(rs.a.Component))||TD;zD.propTypes={};var MD,AD,ID,FD,xD,GD,UD,HD=Object(Km.connect)(function mapStateToProps(e){return{emotionData:e.emotionData}})(zD);function chatToolBarServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatToolBarServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatToolBarServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatToolBarServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WD,VD,$D,KD,qD=n.a.Store,QD=n.a.Service,JD=Ni.a.socketStream,YD=(MD=QD(m.DataCenter.global),AD=QD(m.DataCenter.localStorage),ID=qD(),FD=function(e){function ChatToolBarServices(){var t,r;!function chatToolBarServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatToolBarServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatToolBarServices_initDefineProp(r,"global",xD,r),chatToolBarServices_initDefineProp(r,"localStorage",GD,r),chatToolBarServices_initDefineProp(r,"store",UD,r),r.config={storageName:"room-fansBarrageColor",defaultBarrageColor:{index:0,color:0,status:1,level:0},receiveSummerReward:!1},chatToolBarServices_possibleConstructorReturn(r,t)}return chatToolBarServices_inherits(ChatToolBarServices,e),ChatToolBarServices.prototype.openLetter=function openLetter(e){this.store.dispatch(Po.openLetter(e))},ChatToolBarServices.prototype.openFace=function openFace(e){this.store.dispatch(Po.openFace(e))},ChatToolBarServices.prototype.openFansBarrageBox=function openFansBarrageBox(e){this.store.dispatch(Po.openFansBarrageBox(e))},ChatToolBarServices.prototype.sendSelectedIndex=function sendSelectedIndex(){this.store.dispatch(Po.sendSelectedIndex())},ChatToolBarServices.prototype.observerFansBarrage=function observerFansBarrage(){var e=this;JD.subscribe("adp",function(t){if((new Date).getTime()<1e3*t.cdt){var r=[{index:0,color:0,status:1,level:0},{index:1,color:2,status:1,level:6},{index:2,color:3,status:1,level:9},{index:3,color:6,status:1,level:12},{index:4,color:4,status:1,level:15},{index:5,color:5,status:1,level:18},{index:6,color:1,status:1,level:21}];e.config.receiveSummerReward=!0,e.store.dispatch(Po.observerFansBarrage({list:r,selectedIndex:6,color:r[6]&&r[6].color,receiveSummerReward:!0}))}}),JD.subscribe("fdm",function(t){if(t.list&&!e.config.receiveSummerReward){var r=Nf.a.isArray(t.list)?Nf.a.decode(t.list):[{value:t.list}],i={},n=[],a=e.config,o=a.storageName,l=a.defaultBarrageColor,s=e.localStorage.get(o),c=0,u=void 0;n[0]=l,r.forEach(function(e,t){if(e&&e.value){var r=Nf.a.decode(e.value).too(),a=t+1,o={index:a,color:parseInt(r.col,10),status:parseInt(r.ul,10),level:parseInt(r.ubl,10)};1===o.status&&(u=a,i[o.color]=o),n[a]=o}}),i[l.color]=l,i[s]?c=i[s].index:null===s&&(c=u),(e.store.getState().nobleBarrageData.isNobleBarrage?1:0)?e.store.dispatch(Po.observerFansBarrage({list:n,selectedIndex:0,color:0,receiveSummerReward:!1})):e.store.dispatch(Po.observerFansBarrage({list:n,selectedIndex:c,color:n[c]&&n[c].color,receiveSummerReward:!1}))}})},ChatToolBarServices.prototype.updateColor=function updateColor(e,t){this.store.dispatch(Po.sendSelectedIndex({selectedIndex:e,color:t}))},ChatToolBarServices.prototype.updateCampColor=function updateCampColor(e,t){this.store.dispatch(Po.updateCampColor({color:e,colorValue:t}))},ChatToolBarServices.prototype.setStorage=function setStorage(e){this.localStorage.set(this.config.storageName,e,2592e3)},ChatToolBarServices.prototype.closeFansBarrage=function closeFansBarrage(){this.store.dispatch(Po.closeFansBarrage())},ChatToolBarServices}(b.Service),xD=chatToolBarServices_applyDecoratedDescriptor(FD.prototype,"global",[MD],{enumerable:!0,initializer:null}),GD=chatToolBarServices_applyDecoratedDescriptor(FD.prototype,"localStorage",[AD],{enumerable:!0,initializer:null}),UD=chatToolBarServices_applyDecoratedDescriptor(FD.prototype,"store",[ID],{enumerable:!0,initializer:null}),FD);function ChatEmotionBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotionBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var XD,ZD=(WD=(0,n.a.Service)(YD),Object(ee.log)(($D=function(e){function EmotionSwitcher(){!function ChatEmotionBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionSwitcher);var t=function ChatEmotionBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatEmotionBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatToolBarService",KD,t),t.state={},t}return ChatEmotionBtn_inherits(EmotionSwitcher,e),EmotionSwitcher.prototype.render=function render(){return rs.a.createElement("div",{className:"EmotionSwitcher",title:"\u8868\u60c5",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotionBtn.js",lineNumber:26},__self:this})},EmotionSwitcher}(rs.a.Component),KD=function ChatEmotionBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}($D.prototype,"chatToolBarService",[WD],{enumerable:!0,initializer:null}),VD=$D))||VD),ek="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotion.js";function ChatEmotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tk,rk,ik,nk,ak,ok,lk,sk,ck=Object(ee.log)(XD=function(e){function ChatEmotion(){!function ChatEmotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEmotion);var t=function ChatEmotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isOpen:!1},t.openFace=t.openFace.bind(t),t}return ChatEmotion_inherits(ChatEmotion,e),ChatEmotion.prototype.openFace=function openFace(){this.setState({isOpen:!this.state.isOpen})},ChatEmotion.prototype.render=function render(){return rs.a.createElement("div",{className:"ChatEmotion",onClick:this.openFace,__source:{fileName:ek,lineNumber:31},__self:this},rs.a.createElement(ZD,{__source:{fileName:ek,lineNumber:32},__self:this}),rs.a.createElement(HD,{isOpen:this.state.isOpen,__source:{fileName:ek,lineNumber:33},__self:this}))},ChatEmotion}(rs.a.Component))||XD,uk=(r("81833"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),pk="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetterBtn.js";function ChatLetterBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatLetterBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetterBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatLetterBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fk,dk=n.a.Service,bk=(tk=dk(YD),rk=dk(m.DataCenter.common),ik=dk(m.DataCenter.global),Object(ee.log)((ak=function(e){function ChatLetterBtn(){!function ChatLetterBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetterBtn);var t=function ChatLetterBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatLetterBtn_initDefineProp(t,"chatToolBarService",ok,t),ChatLetterBtn_initDefineProp(t,"common",lk,t),ChatLetterBtn_initDefineProp(t,"global",sk,t),t.state={},t}return ChatLetterBtn_inherits(ChatLetterBtn,e),ChatLetterBtn.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("PrivateLetter").subscribe(function(t){e.setState(uk({},t))})},ChatLetterBtn.prototype.open=function open(){if(!ps.a.check())return ps.a.show(),!1;var e={isShow:1};return this.common.push("PrivateLetter",e),this.setState(e),!1},ChatLetterBtn.prototype.render=function render(){var e=this,t=parseInt(this.state.unread,10)?this.state.unread:0,r=t>99?"99+":t,i=t>0;return rs.a.createElement("a",{className:"ChatLetter-Btn",title:"\u53d1\u7ad9\u5185\u4fe1",onClick:function onClick(){return e.open()},__source:{fileName:pk,lineNumber:67},__self:this},rs.a.createElement("span",{className:"ChatLetter-BtnHolder",__source:{fileName:pk,lineNumber:68},__self:this}),i&&rs.a.createElement("span",{className:"ChatLetter-PopUnread",__source:{fileName:pk,lineNumber:70},__self:this},r))},ChatLetterBtn}(rs.a.Component),ok=ChatLetterBtn_applyDecoratedDescriptor(ak.prototype,"chatToolBarService",[tk],{enumerable:!0,initializer:null}),lk=ChatLetterBtn_applyDecoratedDescriptor(ak.prototype,"common",[rk],{enumerable:!0,initializer:null}),sk=ChatLetterBtn_applyDecoratedDescriptor(ak.prototype,"global",[ik],{enumerable:!0,initializer:null}),nk=ak))||nk),mk="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetter.js";function ChatLetter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var hk,vk,gk,yk,_k,Nk,Sk,Ck,wk,Ok=Object(ee.log)(fk=function(e){function ChatLetter(){return function ChatLetter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetter),function ChatLetter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatLetter_inherits(ChatLetter,e),ChatLetter.prototype.render=function render(){return rs.a.createElement("div",{className:"ChatLetter",__source:{fileName:mk,lineNumber:17},__self:this},rs.a.createElement(bk,{__source:{fileName:mk,lineNumber:18},__self:this}))},ChatLetter}(rs.a.Component))||fk;function horn4CategoryServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function horn4CategoryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function horn4CategoryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function horn4CategoryServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ek,Dk,kk,jk,Rk,Pk,Tk,Bk,Lk,zk,Mk,Ak,Ik,Fk,xk,Gk,Uk=Ni.a.socketStream,Hk=Ni.a.socketProxy,Wk=n.a.Service,Vk=n.a.Store,$k=(hk=Wk(m.DataCenter.global),vk=Wk(m.DataCenter.common),gk=Wk(m.DataCenter.localStorage),yk=Vk(),_k=function(e){function Horn4CategoryServices(){var t,r;!function horn4CategoryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=horn4CategoryServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),horn4CategoryServices_initDefineProp(r,"global",Nk,r),horn4CategoryServices_initDefineProp(r,"common",Sk,r),horn4CategoryServices_initDefineProp(r,"localStorage",Ck,r),horn4CategoryServices_initDefineProp(r,"store",wk,r),r.config={propId:43,storageName:"room-horn4Category"},r.leadTipShowState=0,r.tipTimer=null,r.hideResultTimer=null,horn4CategoryServices_possibleConstructorReturn(r,t)}return horn4CategoryServices_inherits(Horn4CategoryServices,e),Horn4CategoryServices.prototype.init=function init(){var e=this;this.localStorage.get(this.config.storageName)||(this.leadTipShowState=1,this.localStorage.set(this.config.storageName,1));var t=this.handleMute.bind(this);this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.room||{}}),Uk.subscribe("cdcp",this.handleCount.bind(this)),Uk.subscribe("cthnsn",this.handleMode.bind(this)),Uk.subscribe("ntmet",t),Uk.subscribe("muteinfo",t),Uk.subscribe("memberinfores",this.handleNoble.bind(this)),Uk.subscribe("cthnres",this.handleHornResponse.bind(this))},Horn4CategoryServices.prototype.handleCount=function handleCount(e){if("hpid"in e){var t=parseInt(e.hcnt,10)||0,r=0;e.hpid&&(this.config.propId=e.hpid),t>0&&this.leadTipShowState&&(r=1,this.leadTipShowState=0),this.store.dispatch(to.setHornCount({count:t,leadTipShowState:r}))}},Horn4CategoryServices.prototype.handleMode=function handleMode(e){var t=this,r={mode:0,btnType:0,checkingCont:"",showTip:0};"1"===e.hm&&(r.mode=1,r.btnType=1,"1"===e.hs?r.btnType=2:"2"===e.hs&&(r.btnType=3,r.errorStatus=1,r.showTip=1,clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){t.store.dispatch(to.setMode({showTip:2}))},5e3)),e.hc&&(r.checkingCont=e.hc)),this.store.dispatch(to.setMode(r))},Horn4CategoryServices.prototype.handleMute=function handleMute(e){var t=e.mtype;e.met>2&&t>0&&this.store.dispatch(to.setMute(e))},Horn4CategoryServices.prototype.handleNoble=function handleNoble(e){var t=parseInt(e.npts,10)||0,r=parseInt(e.nl,10)||0,i=parseInt(e.npl,10)||0,n=0;r>0&&(r<3||7===r)?n=1:t>0&&(n=i<3||7===i?1:2),this.store.dispatch(to.setNobleStatus({openType:n,nobleLevel:r,nobleProtectLevel:i}))},Horn4CategoryServices.prototype.handleHornResponse=function handleHornResponse(e){var t=1,r="",i=0;switch(e.result){case"5820":t=3,r="\u7cfb\u7edf\u7ef4\u62a4\uff0c\u53d1\u9001\u5931\u8d25",i=0;break;case"356":t=2,r="\u53d1\u9001\u5185\u5bb9\u5305\u542b\u654f\u611f\u8bcd\u6c47",i=1;break;case"0":t=0,r="\u53d1\u9001\u6210\u529f",i=1;break;default:t=1,r="\u53d1\u9001\u5931\u8d25",i=1}var n=(this.store.getState().horn4CategoryData||{}).mode;this.store.dispatch(to.handleHornResponse({errorStatus:t,statusTxt:r,btnType:1===n?1:0})),i&&this.delayHideResultTip()},Horn4CategoryServices.prototype.setChecking=function setChecking(){this.store.dispatch(to.handleHornResponse({errorStatus:4,statusTxt:"2-3\u5206\u949f\u540e\u5b8c\u6210\u5ba1\u6838"}))},Horn4CategoryServices.prototype.delayHideResultTip=function delayHideResultTip(){var e=this;this.hideResultTimer&&clearTimeout(this.hideResultTimer),this.hideResultTimer=setTimeout(function(){e.store.dispatch(to.handleHornResponse({errorStatus:-1,statusTxt:""}))},3e3)},Horn4CategoryServices.prototype.sendHorn=function sendHorn(e){var t=this.$ROOM||{},r=t.room_id,i=t.cate_id,n={type:"cthnreq",chatmsg:e.trim(),cid:i,rid:r,pid:this.config.propId,uid:this.global.get("USER_INFO.uid"),cl:2};Hk.sendMessage(n)},Horn4CategoryServices}(b.Service),Nk=horn4CategoryServices_applyDecoratedDescriptor(_k.prototype,"global",[hk],{enumerable:!0,initializer:null}),Sk=horn4CategoryServices_applyDecoratedDescriptor(_k.prototype,"common",[vk],{enumerable:!0,initializer:null}),Ck=horn4CategoryServices_applyDecoratedDescriptor(_k.prototype,"localStorage",[gk],{enumerable:!0,initializer:null}),wk=horn4CategoryServices_applyDecoratedDescriptor(_k.prototype,"store",[yk],{enumerable:!0,initializer:null}),_k),Kk=(r("993ee"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Horn4Category/Horn4Category.js");function Horn4Category_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Horn4Category_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Horn4Category_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Horn4Category_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qk,Qk="//webconf.douyucdn.cn/",Jk=n.a.Service,Yk=n.a.Store,Xk=(Ek=Jk(ls.a),Dk=Jk($k),kk=Jk(dS),jk=Jk(YD),Rk=Jk(m.DataCenter.common),Pk=Jk(m.DataCenter.localStorage),Tk=Yk(),Bk=Object(pr.dys)("click_msg_horn"),Lk=function(e){function Horn4Category(){!function Horn4Category_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4Category);var t=function Horn4Category_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return Horn4Category_initDefineProp(t,"nobleBuyModalServices",zk,t),Horn4Category_initDefineProp(t,"horn4CategoryServices",Mk,t),Horn4Category_initDefineProp(t,"nobleReminderService",Ak,t),Horn4Category_initDefineProp(t,"chatToolBarService",Ik,t),Horn4Category_initDefineProp(t,"common",Fk,t),Horn4Category_initDefineProp(t,"localStorage",xk,t),Horn4Category_initDefineProp(t,"store",Gk,t),t.config={cdTime:3,btnTxts:["\u53d1\u9001","\u63d0\u4ea4","\u5ba1\u6838\u4e2d","\u63d0\u4ea4"],nobleActionTxts:["\u5f00\u901a","\u5347\u7ea7","\u7eed\u8d39"],isTimeoutRun:!1},t.tipTimer=null,t.state={isShowTipResult:0,tipCont:"",isLeadTipHide:0,maxLength:20,popShowState:0,wordCount:0,cdTime:0,value:""},t.setPopShowState=t.setPopShowState.bind(t),t.handleIconClick=t.handleIconClick.bind(t),t.hideLeadTip=t.hideLeadTip.bind(t),t.showSiteLetter=t.showSiteLetter.bind(t),t.handleInputorChange=t.handleInputorChange.bind(t),t.handleSend=t.handleSend.bind(t),t.handleOpenNoble=t.handleOpenNoble.bind(t),t.intervalStream=new $f.Subject,t.leadTipShowTime=null,m.jsonpClient.get(String,Qk+"/resource/common/noble/setNobleHorn.json","setNobleHorn").subscribe(function(e){t.config.cdTime=e.cd}),t}return Horn4Category_inherits(Horn4Category,e),Horn4Category.prototype.setPopShowState=function setPopShowState(){ps.a.check()?(this.state.popShowState?this.setState({popShowState:0}):this.setState({popShowState:1}),this.hideLeadTip()):ps.a.show()},Horn4Category.prototype.handleIconClick=function handleIconClick(){this.setPopShowState()},Horn4Category.prototype.autoHideLeadTip=function autoHideLeadTip(){var e=this,t=this.props.horn4CategoryData.leadTipShowState;this.state.isLeadTipHide||!t||this.config.isTimeoutRun||(this.config.isTimeoutRun=!0,this.leadTipShowTime=setTimeout(function(){e.hideLeadTip()},1e4))},Horn4Category.prototype.hideLeadTip=function hideLeadTip(){clearTimeout(this.leadTipShowTime),this.setState({isLeadTipHide:1})},Horn4Category.prototype.showSiteLetter=function showSiteLetter(){this.chatToolBarService.openLetter(1)},Horn4Category.prototype.handleInputorChange=function handleInputorChange(e){var t=e.target.value;this.setState({value:t,wordCount:t.length})},Horn4Category.prototype.clear=function clear(){this.setState({wordCount:0,value:""})},Horn4Category.prototype.handleSend=function handleSend(e){if(13===e.which||"click"===e.type){e.preventDefault();var t=this.getBtnEnableType(),r=ps.a.check();if((1===t||0===t)&&!r)return void ps.a.show();if(1===t)this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(3);else if(0===t){var i=this.props.horn4CategoryData.mode;this.horn4CategoryServices.sendHorn(this.state.value),1===i&&(this.horn4CategoryServices.setChecking(),this.setState({popShowState:0,isShowTipResult:1,tipCont:"\u5ba1\u6838\u6210\u529f\u540e\uff0c\u5c06\u76f4\u63a5\u53d1\u9001"}),this.delayHideSendTip())}}},Horn4Category.prototype.delayHideSendTip=function delayHideSendTip(){var e=this;clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){e.setState({isShowTipResult:0,tipCont:""})},5e3)},Horn4Category.prototype.getBtnEnableType=function getBtnEnableType(){var e=this.props.horn4CategoryData,t=e.count,r=e.muteType,i=e.btnType,n=this.state,a=n.cdTime,o=n.value;return r>-1||2===i||!o.length||a>0?-1:t?0:1},Horn4Category.prototype.componentDidMount=function componentDidMount(){var e=this;this.horn4CategoryServices.init(),this.intervalStream.subscribe(function(t){e.interval(t)}),this.common.get("$DATA").subscribe(function(t){e.setState({cateName:t.get("game.tag_name")})})},Horn4Category.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.horn4CategoryData,r=t.checkingCont,i=t.errorStatus,n=this.props.horn4CategoryData||{},a=n.checkingCont,o=n.errorStatus;r&&a!==r&&this.setState({value:r,wordCount:r.length}),0===i&&o!==i&&(this.clear(),this.intervalStream.next(this.config.cdTime))},Horn4Category.prototype.handleOpenNoble=function handleOpenNoble(){var e=this.store.getState().horn4CategoryData||{},t=e.openType,r=e.nobleLevel;0===t||1===t?Object(pr.dysub)("click_msg_horn_noble_open",{level:r}):2===t&&Object(pr.dysub)("click_msg_horn_noble_renewal",{level:r}),this.nobleBuyModalServices.openNobleBuyModal()},Horn4Category.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.cdTimer&&this.cdTimer.unsubscribe(),this.cdTimer=Object(Dc.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.cdTimer.unsubscribe()})):this.setState({cdTime:0})},Horn4Category.prototype.getTipClassName=function getTipClassName(e){var t="Horn4Category-icon ",r="",i=this.props.horn4CategoryData.btnType;return 0===e?t+="Horn4Category-icon--successTip":4===e?r=3===i?"Horn4Category-result--checkFail":"Horn4Category-result--checking":1===e&&3===i?r="Horn4Category-result--checkFail":e>0&&(t+="Horn4Category-icon--errorTip"),{resultTipClassName:t,checkingClassName:r}},Horn4Category.prototype.getTipContComp=function getTipContComp(e){var t=this.props.horn4CategoryData.btnType,r=this.state.tipCont;return 3===t?rs.a.createElement("span",{__source:{fileName:Kk,lineNumber:352},__self:this},"\u60a8\u53d1\u8d77\u7684\u5206\u533a\u5587\u53ed\u5ba1\u6838\u672a\u901a\u8fc7\uff0c",rs.a.createElement("span",{className:"Horn4Category-viewChatLetter",onClick:this.showSiteLetter,__source:{fileName:Kk,lineNumber:354},__self:this},"\u70b9\u51fb\u67e5\u770b")):r&&e?r:""},Horn4Category.prototype.getTipShowState=function getTipShowState(){var e="",t=this.props.horn4CategoryData,r=t.btnType,i=t.showTip,n=this.state.isShowTipResult;return 2===i?e="":(1===i||n||3===r)&&(e="is-show"),e},Horn4Category.prototype.render=function render(){var e=this.props.horn4CategoryData,t=e.count,r=e.leadTipShowState,i=e.muteType,n=e.muteDesc,a=e.unMuteTime,o=e.errorStatus,l=e.statusTxt,s=e.btnType,c=e.openType,u=this.state,p=u.isLeadTipHide,f=u.maxLength,d=u.popShowState,b=u.wordCount,m=u.cdTime,h=u.value,v=u.cateName,g=(s<2||3===s)&&m<=0&&-1===i&&h.length>0,y=d?"is-show":"",_=!p&&r?"is-show":"",N=this.getTipShowState(),S=2===s,C="Horn4Category-btn Horn4Category-btn--send "+(g?"":"is-disabled"),w=this.config.btnTxts[s],O=this.config.nobleActionTxts[c],E=this.getTipClassName(o),D=this.getTipContComp(N),k=ro.a.formatDate(new Date(a),"yyyy-MM-dd hh:mm:ss");return this.autoHideLeadTip(),rs.a.createElement("div",{className:"Horn4Category",__source:{fileName:Kk,lineNumber:424},__self:this},rs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--popTrigger",onClick:this.handleIconClick,__source:{fileName:Kk,lineNumber:425},__self:this}),rs.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--lead "+_,__source:{fileName:Kk,lineNumber:426},__self:this},"\u60a8\u6709",rs.a.createElement("em",{className:"Horn4Category-tipHornCount",__source:{fileName:Kk,lineNumber:427},__self:this},t),"\u4e2a\u5206\u533a\u5587\u53ed\uff0c\u5feb\u6765\u53d1\u9001\u5e7f\u64ad\u5427",rs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closeTip",onClick:this.hideLeadTip,__source:{fileName:Kk,lineNumber:428},__self:this},"\xd7")),rs.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--result "+N,__source:{fileName:Kk,lineNumber:431},__self:this},D),d?rs.a.createElement("div",{className:"Horn4Category-popWrap "+y,__source:{fileName:Kk,lineNumber:435},__self:this},rs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closePop",onClick:this.setPopShowState,__source:{fileName:Kk,lineNumber:436},__self:this},"\xd7"),rs.a.createElement("div",{className:"Horn4Category-header",__source:{fileName:Kk,lineNumber:438},__self:this},rs.a.createElement("i",{className:"Horn4Category-icon Horn4Category-icon--whiteHorn",__source:{fileName:Kk,lineNumber:439},__self:this}),rs.a.createElement("span",{className:"Horn4Category-title",__source:{fileName:Kk,lineNumber:440},__self:this},"\u5206\u533a\u5587\u53ed"),rs.a.createElement("div",{className:"Horn4Category-resultWrap",__source:{fileName:Kk,lineNumber:441},__self:this},v?rs.a.createElement("div",{className:"Horn4Category-cateName",title:v+"\u533a\u53ef\u89c1",__source:{fileName:Kk,lineNumber:443},__self:this},v,"\u533a\u53ef\u89c1"):null,rs.a.createElement("div",{className:"Horn4Category-result "+E.checkingClassName,title:l,__source:{fileName:Kk,lineNumber:446},__self:this},rs.a.createElement("i",{className:E.resultTipClassName,__source:{fileName:Kk,lineNumber:447},__self:this}),l))),rs.a.createElement("div",{className:"Horn4Category-inputorWrap",__source:{fileName:Kk,lineNumber:452},__self:this},rs.a.createElement("textarea",{disabled:S,className:"Horn4Category-inputor",placeholder:"\u8f93\u5165\u5587\u53ed\u5185\u5bb9",maxLength:f,onChange:this.handleInputorChange,onKeyDown:this.handleSend,value:h,__source:{fileName:Kk,lineNumber:453},__self:this}),rs.a.createElement("span",{className:"Horn4Category-wordsCount",__source:{fileName:Kk,lineNumber:462},__self:this},f-b,"\u5b57"),i>-1?rs.a.createElement("div",{className:"Horn4Category-mute",__source:{fileName:Kk,lineNumber:465},__self:this},"\u60a8\u5df2\u88ab",n,"\u7981\u8a00",rs.a.createElement("span",{className:"Horn4Category-muteType",__source:{fileName:Kk,lineNumber:466},__self:this},"\uff08\u7c7b\u578b\uff1a0",i,"\uff09"),rs.a.createElement("p",{__source:{fileName:Kk,lineNumber:467},__self:this},"\u89e3\u7981\u65f6\u95f4\uff1a",k,rs.a.createElement("a",{className:"Horn4Category-needToKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:Kk,lineNumber:469},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"))):null),rs.a.createElement("div",{className:"Horn4Category-footer",__source:{fileName:Kk,lineNumber:476},__self:this},rs.a.createElement("div",{className:"Horn4Category-info",__source:{fileName:Kk,lineNumber:477},__self:this},"\u5269\u4f59",rs.a.createElement("span",{className:"Horn4Category-hornCount",__source:{fileName:Kk,lineNumber:478},__self:this},t),"\u4e2a\uff0c",rs.a.createElement("span",{className:"Horn4Category-openNoble",onClick:this.handleOpenNoble,__source:{fileName:Kk,lineNumber:479},__self:this},O,"\u8d35\u65cf",rs.a.createElement("em",{className:"Horn4Category-openTip",__source:{fileName:Kk,lineNumber:480},__self:this},"\u5206\u533a\u5587\u53ed\u4e0e\u8d35\u65cf\u9c7c\u7fc5\u8fd4\u8fd8\u65f6\u95f4\u76f8\u540c")),"\u53ef\u83b7\u5f97\u5587\u53ed"),rs.a.createElement("div",{className:C,onClick:this.handleSend,__source:{fileName:Kk,lineNumber:484},__self:this},m>0?m:w))):"")},Horn4Category}(rs.a.Component),zk=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"nobleBuyModalServices",[Ek],{enumerable:!0,initializer:null}),Mk=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"horn4CategoryServices",[Dk],{enumerable:!0,initializer:null}),Ak=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"nobleReminderService",[kk],{enumerable:!0,initializer:null}),Ik=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"chatToolBarService",[jk],{enumerable:!0,initializer:null}),Fk=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"common",[Rk],{enumerable:!0,initializer:null}),xk=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"localStorage",[Pk],{enumerable:!0,initializer:null}),Gk=Horn4Category_applyDecoratedDescriptor(Lk.prototype,"store",[Tk],{enumerable:!0,initializer:null}),Horn4Category_applyDecoratedDescriptor(Lk.prototype,"handleIconClick",[Bk],Object.getOwnPropertyDescriptor(Lk.prototype,"handleIconClick"),Lk.prototype),Lk),Zk=Object(Km.connect)(function mapStateToProps(e){return{horn4CategoryData:e.horn4CategoryData}})(Xk),ej=r("b4a59"),tj=(r("40b17"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageTips.js");function NobleBarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rj,ij,nj,aj,oj,lj,sj,cj,uj,pj,fj=Object(ee.log)(qk=function(e){function NobleBarrageTips(){return function NobleBarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageTips),function NobleBarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleBarrageTips_inherits(NobleBarrageTips,e),NobleBarrageTips.prototype.render=function render(){var e=this.props.isNobleBarrage?"\u542f\u7528":"\u5173\u95ed";return rs.a.createElement("div",{className:"NobleBarrageTips",__source:{fileName:tj,lineNumber:18},__self:this},rs.a.createElement("div",{className:"NobleBarrageTips-con",__source:{fileName:tj,lineNumber:19},__self:this},rs.a.createElement("span",{__source:{fileName:tj,lineNumber:20},__self:this},"\u8d35\u65cf\u5f39\u5e55\u5df2",e)),rs.a.createElement("div",{className:"NobleBarrageTips-arrow",__source:{fileName:tj,lineNumber:22},__self:this}))},NobleBarrageTips}(rs.a.Component))||qk,dj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageSwitcher.js";function NobleBarrageSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleBarrageSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleBarrageSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleBarrageSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mj,hj,vj,gj,yj,_j,Nj,Sj,Cj=n.a.Service,wj=(rj=Cj(ej.a),ij=Cj(YD),nj=Cj(dn.a),aj=Cj(Vn.a),Object(ee.log)((lj=function(e){function NobleBarrageSwitcher(){var t,r;!function NobleBarrageSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleBarrageSwitcher_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleBarrageSwitcher_initDefineProp(r,"chatNobleBarrageService",sj,r),NobleBarrageSwitcher_initDefineProp(r,"chatToolBarServices",cj,r),NobleBarrageSwitcher_initDefineProp(r,"chatCampService",uj,r),NobleBarrageSwitcher_initDefineProp(r,"chatRoleBarrageServices",pj,r),NobleBarrageSwitcher_possibleConstructorReturn(r,t)}return NobleBarrageSwitcher_inherits(NobleBarrageSwitcher,e),NobleBarrageSwitcher.prototype.openNobleBarrageBox=function openNobleBarrageBox(e){var t=e.isOpenReminder,r=e.toggleStatus,i=e.isNobleBarrage,n=e.nobleChatBarrage;t&&this.chatNobleBarrageService.openNobleBarrageBox(),r&&this.chatNobleBarrageService.toggleNobleBarrage(),n&&(i||(this.chatToolBarServices.closeFansBarrage(),this.chatCampService.closeChatCamp(),this.chatRoleBarrageServices.clearRoleBarrage()))},NobleBarrageSwitcher.prototype.render=function render(){var e=this,t=dj({},this.props),r=t.btnStatus,i=t.isTipsShow,n=t.isOpenReminder,a=t.nobleChatBarrage,o=t.toggleStatus,l=t.isNobleBarrage,s=a&&r&&l?"is-active":"";return rs.a.createElement("div",{className:"NobleBarrageSwitcher "+s,onClick:function onClick(){return e.openNobleBarrageBox({isOpenReminder:n,toggleStatus:o,isNobleBarrage:l,nobleChatBarrage:a})},__source:{fileName:bj,lineNumber:57},__self:this},i?rs.a.createElement(fj,{isNobleBarrage:l,__source:{fileName:bj,lineNumber:63},__self:this}):"")},NobleBarrageSwitcher}(rs.a.Component),sj=NobleBarrageSwitcher_applyDecoratedDescriptor(lj.prototype,"chatNobleBarrageService",[rj],{enumerable:!0,initializer:null}),cj=NobleBarrageSwitcher_applyDecoratedDescriptor(lj.prototype,"chatToolBarServices",[ij],{enumerable:!0,initializer:null}),uj=NobleBarrageSwitcher_applyDecoratedDescriptor(lj.prototype,"chatCampService",[nj],{enumerable:!0,initializer:null}),pj=NobleBarrageSwitcher_applyDecoratedDescriptor(lj.prototype,"chatRoleBarrageServices",[aj],{enumerable:!0,initializer:null}),oj=lj))||oj),Oj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ej="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/OpenNobleReminder.js";function OpenNobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function OpenNobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function OpenNobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function OpenNobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function OpenNobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Dj,kj,jj,Rj,Pj,Tj,Bj,Lj,zj=n.a.Service,Mj=(mj=zj(ej.a),hj=zj(ls.a),vj=zj(gp),Object(ee.log)((yj=function(e){function OpenNobleReminder(){var t,r;!function OpenNobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OpenNobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=OpenNobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),OpenNobleReminder_initDefineProp(r,"chatNobleBarrageService",_j,r),OpenNobleReminder_initDefineProp(r,"nobleBuyModalServices",Nj,r),OpenNobleReminder_initDefineProp(r,"chatRankServices",Sj,r),OpenNobleReminder_possibleConstructorReturn(r,t)}return OpenNobleReminder_inherits(OpenNobleReminder,e),OpenNobleReminder.prototype.closeNobleBarrageBox=function closeNobleBarrageBox(){this.chatNobleBarrageService.closeNobleBarrageBox()},OpenNobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){ps.a.check()?(this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleBarrageBox()):ps.a.show()},OpenNobleReminder.prototype.getBtnTxt=function getBtnTxt(e){var t="\u5f00\u901a\u8d35\u65cf";switch(e){case 1:t="\u7eed\u8d39\u8d35\u65cf";break;case 2:t="\u5347\u7ea7\u8d35\u65cf";break;default:t="\u5f00\u901a\u8d35\u65cf"}return t},OpenNobleReminder.prototype.render=function render(){var e=this,t=this.props,r=t.openNobleBarrageBox,i=Oj({},t.nobleInfo).remindStatus,n=this.getBtnTxt(i),a={left:this.props.btnOffsetLeft+4},o=r?{display:"block"}:{display:"none"};return rs.a.createElement("div",{className:"OpenNobleReminder OpenNobleReminder--barrage",style:o,__source:{fileName:Ej,lineNumber:73},__self:this},rs.a.createElement("div",{className:"OpenNobleReminder-conWrap",__source:{fileName:Ej,lineNumber:74},__self:this},rs.a.createElement("span",{className:"OpenNobleReminder-close",onClick:function onClick(){return e.closeNobleBarrageBox()},__source:{fileName:Ej,lineNumber:75},__self:this},"\xd7"),rs.a.createElement("div",{className:"OpenNobleReminder-con",__source:{fileName:Ej,lineNumber:76},__self:this},rs.a.createElement("h3",{className:"OpenNobleReminder-title",__source:{fileName:Ej,lineNumber:77},__self:this},"\u6211\u7684\u5f39\u5e55\uff0c\u8ddf\u4f60\u7684\u4e0d\u540c"),rs.a.createElement("p",{className:"OpenNobleReminder-txt",__source:{fileName:Ej,lineNumber:78},__self:this},"\u8d35\u65cf\u5f39\u5e55-\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),rs.a.createElement("div",{className:"OpenNobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},__source:{fileName:Ej,lineNumber:79},__self:this},n))),rs.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--inner",style:a,__source:{fileName:Ej,lineNumber:84},__self:this}),rs.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--outer",style:a,__source:{fileName:Ej,lineNumber:85},__self:this}))},OpenNobleReminder}(rs.a.Component),_j=OpenNobleReminder_applyDecoratedDescriptor(yj.prototype,"chatNobleBarrageService",[mj],{enumerable:!0,initializer:null}),Nj=OpenNobleReminder_applyDecoratedDescriptor(yj.prototype,"nobleBuyModalServices",[hj],{enumerable:!0,initializer:null}),Sj=OpenNobleReminder_applyDecoratedDescriptor(yj.prototype,"chatRankServices",[vj],{enumerable:!0,initializer:null}),gj=yj))||gj),Aj=Object(Km.connect)(function mapStateToProps(e){return{openNobleBarrageBox:e.openNobleBarrageBox,nobleInfo:e.nobleBarrageData.nobleInfo}})(Mj),Ij=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/ChatNobleBarrage.js";function ChatNobleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatNobleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatNobleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatNobleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xj,Gj,Uj,Hj,Wj=n.a.Service,Vj=n.a.Store,$j=(Dj=Wj(YD),kj=Wj(ej.a),jj=Vj(),Object(ee.log)((Pj=function(e){function ChatNobleBarrage(t){!function ChatNobleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatNobleBarrage);var r=function ChatNobleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatNobleBarrage_initDefineProp(r,"chatToolBarServices",Tj,r),ChatNobleBarrage_initDefineProp(r,"chatNobleBarrageService",Bj,r),ChatNobleBarrage_initDefineProp(r,"store",Lj,r),r.nobleBarrageBtnRef=rs.a.createRef(),r.state={left:0},r}return ChatNobleBarrage_inherits(ChatNobleBarrage,e),ChatNobleBarrage.prototype.componentDidMount=function componentDidMount(){this.chatNobleBarrageService.getEnterRoomData(),(this.store.getState().nobleBarrageData.isNobleBarrage?1:0)&&this.chatToolBarServices.closeFansBarrage()},ChatNobleBarrage.prototype.render=function render(){var e=this.nobleBarrageBtnRef.current,t=0;if(e){var r=e.getBoundingClientRect().left;t=(void 0===r?0:r)-this.props.toolBarleft+6}return rs.a.createElement("div",{className:"ChatNobleBarrage",ref:this.nobleBarrageBtnRef,__source:{fileName:Fj,lineNumber:57},__self:this},rs.a.createElement(wj,Ij({},this.props.initData,{__source:{fileName:Fj,lineNumber:58},__self:this})),rs.a.createElement(Aj,{btnOffsetLeft:t,__source:{fileName:Fj,lineNumber:59},__self:this}))},ChatNobleBarrage}(rs.a.Component),Tj=ChatNobleBarrage_applyDecoratedDescriptor(Pj.prototype,"chatToolBarServices",[Dj],{enumerable:!0,initializer:null}),Bj=ChatNobleBarrage_applyDecoratedDescriptor(Pj.prototype,"chatNobleBarrageService",[kj],{enumerable:!0,initializer:null}),Lj=ChatNobleBarrage_applyDecoratedDescriptor(Pj.prototype,"store",[jj],{enumerable:!0,initializer:null}),Rj=Pj))||Rj),Kj=Object(Km.connect)(function mapStateToProps(e){return{initData:e.nobleBarrageData}})($j);r("34649");function ChatFansBarrageBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var qj,Qj,Jj,Yj,Xj=(xj=(0,n.a.Service)(YD),Object(ee.log)((Uj=function(e){function FansBarrageSwitcher(){var t,r;!function ChatFansBarrageBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageBtn_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarrageBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarService",Hj,r),ChatFansBarrageBtn_possibleConstructorReturn(r,t)}return ChatFansBarrageBtn_inherits(FansBarrageSwitcher,e),FansBarrageSwitcher.prototype.render=function render(){var e=this,t=this.props.color,r=this.props.anchorMedalSwitch;return rs.a.createElement("div",{className:"FansBarrageSwitcher is-color0"+t,title:"\u7c89\u4e1d\u5f39\u5e55",onClick:function onClick(){return e.props.closeNobleBarrage(t,r)},__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageBtn.js",lineNumber:24},__self:this})},FansBarrageSwitcher}(rs.a.Component),Hj=function ChatFansBarrageBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Uj.prototype,"chatToolBarService",[xj],{enumerable:!0,initializer:null}),Gj=Uj))||Gj),Zj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/FansBarrageColor.js";function FansBarrageColor_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansBarrageColor_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansBarrageColor_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var eR,tR,rR,iR,nR=(qj=(0,n.a.Service)(YD),Object(ee.log)((Jj=function(e){function FansBarrageColor(){var t,r;!function FansBarrageColor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageColor);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansBarrageColor_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansBarrageColor_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",Yj,r),FansBarrageColor_possibleConstructorReturn(r,t)}return FansBarrageColor_inherits(FansBarrageColor,e),FansBarrageColor.prototype.render=function render(){var e=this,t=this.props.medalColorList;return rs.a.createElement("ul",{className:"FansBarrageColor",__source:{fileName:Zj,lineNumber:28},__self:this},t.map(function(t,r){var i=["FansBarrageColor-item",t.status?"":"is-lock",t.status&&e.props.selectedIndex===r?"is-selected":"",6===r?"is-last":""].join(" ");return rs.a.createElement("li",{className:i,key:r,onClick:function onClick(){return e.props.switchColor(r,t.status,t.color)},__source:{fileName:Zj,lineNumber:38},__self:e},rs.a.createElement("div",{className:"FansBarrageColor-item-colorwrap is-color0"+t.color,__source:{fileName:Zj,lineNumber:42},__self:e},rs.a.createElement("i",{__source:{fileName:Zj,lineNumber:43},__self:e})),0===r?rs.a.createElement("span",{className:"FansBarrageColor-item-txt",__source:{fileName:Zj,lineNumber:47},__self:e},"\u9ed8\u8ba4"):rs.a.createElement("div",{className:"FansBarrageColor-item-tips",__source:{fileName:Zj,lineNumber:48},__self:e},rs.a.createElement("span",{__source:{fileName:Zj,lineNumber:49},__self:e},"\u7c89\u4e1d\u7b49\u7ea7"+t.level+"\u7ea7\u514d\u8d39\u4f7f\u7528")))}))},FansBarrageColor}(rs.a.Component),Yj=function FansBarrageColor_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Jj.prototype,"chatToolBarServices",[qj],{enumerable:!0,initializer:null}),Qj=Jj))||Qj),aR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarragePop.js";function ChatFansBarragePop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarragePop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarragePop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var oR,lR=(eR=(0,n.a.Service)(YD),Object(ee.log)((rR=function(e){function ChatFansBarragePop(){var t,r;!function ChatFansBarragePop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarragePop);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarragePop_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarragePop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",iR,r),ChatFansBarragePop_possibleConstructorReturn(r,t)}return ChatFansBarragePop_inherits(ChatFansBarragePop,e),ChatFansBarragePop.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},ChatFansBarragePop.prototype.render=function render(){var e=this.props.fansBarrageLv;return rs.a.createElement("div",{className:"ChatFansBarragePop",style:{display:""+this.props.openFansCss},onClick:this.onClickHandler.bind(this),__source:{fileName:aR,lineNumber:30},__self:this},rs.a.createElement("div",{className:"ChatFansBarragePop-title",__source:{fileName:aR,lineNumber:32},__self:this},rs.a.createElement("a",{className:"ChatFansBarragePop-title-right",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:aR,lineNumber:33},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u7279\u6743"),rs.a.createElement("p",{__source:{fileName:aR,lineNumber:35},__self:this},"\u7c89\u4e1d\u4e13\u5c5e\u5f39\u5e55")),rs.a.createElement(nR,{medalColorList:e,switchColor:this.props.switchColor,selectedIndex:this.props.selectedIndex,__source:{fileName:aR,lineNumber:37},__self:this}),rs.a.createElement("div",{className:"ChatFansBarragePop-describe",__source:{fileName:aR,lineNumber:39},__self:this},1===e[1].status?rs.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:aR,lineNumber:42},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u8fbe\u5230",rs.a.createElement("span",{__source:{fileName:aR,lineNumber:42},__self:this},"15\u7ea7"),"\uff0c\u5f39\u5e55\u53ef\u5728\u804a\u5929\u533a",rs.a.createElement("span",{__source:{fileName:aR,lineNumber:42},__self:this},"\u60ac\u6d6e\u5c55\u793a"),"\u5662~"):rs.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:aR,lineNumber:44},__self:this},"\u6210\u4e3a\u4e3b\u64ad\u7684",rs.a.createElement("span",{__source:{fileName:aR,lineNumber:44},__self:this},"6\u7ea7"),"\u7c89\u4e1d\u5373\u53ef",rs.a.createElement("span",{__source:{fileName:aR,lineNumber:44},__self:this},"\u514d\u8d39"),"\u53d1\u9001\u7c89\u4e1d\u5f39\u5e55\u5566\uff01")),rs.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--inner",style:{left:this.props.arrowLeft},__source:{fileName:aR,lineNumber:48},__self:this}),rs.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--outer",style:{left:this.props.arrowLeft},__source:{fileName:aR,lineNumber:50},__self:this}))},ChatFansBarragePop}(rs.a.Component),iR=function ChatFansBarragePop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(rR.prototype,"chatToolBarServices",[eR],{enumerable:!0,initializer:null}),tR=rR))||tR),sR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageTip.js";function ChatFansBarrageTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var cR,uR,pR,fR,dR,bR,mR,hR,vR,gR,yR,_R,NR,SR,CR,wR,OR=Object(ee.log)(oR=function(e){function ChatFansBarrageTip(){var t,r;!function ChatFansBarrageTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrageTip);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageTip_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.config={fansSpecialUrl:"//www.douyu.com/t/fans"},ChatFansBarrageTip_possibleConstructorReturn(r,t)}return ChatFansBarrageTip_inherits(ChatFansBarrageTip,e),ChatFansBarrageTip.prototype.render=function render(){return this.props.showFansTips?rs.a.createElement("div",{className:"ChatFansBarrageTip",__source:{fileName:sR,lineNumber:20},__self:this},rs.a.createElement("div",{className:"ChatFansBarrageTip-txt clearfix",__source:{fileName:sR,lineNumber:21},__self:this},rs.a.createElement("p",{__source:{fileName:sR,lineNumber:22},__self:this},"\u8be5\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u65e0\u6cd5\u4f7f\u7528\u7c89\u4e1d\u5f39\u5e55"),rs.a.createElement("a",{className:"ChatFansBarrageTip-intro",target:"_blank",href:this.config.fansSpecialUrl,__source:{fileName:sR,lineNumber:23},__self:this},"\u4e86\u89e3\u66f4\u591a\u203a\u203a")),rs.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--inner",style:{left:this.props.tipsArrowLeft},__source:{fileName:sR,lineNumber:26},__self:this}),rs.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--outer",style:{left:this.props.tipsArrowLeft},__source:{fileName:sR,lineNumber:28},__self:this})):""},ChatFansBarrageTip}(rs.a.Component))||oR,ER="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrage.js";function ChatFansBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatFansBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatFansBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var DR=n.a.Service,kR=n.a.Service,jR=(cR=kR(m.DataCenter.global),uR=kR(m.DataCenter.common),pR=DR(YD),fR=DR(si.a),dR=DR(ej.a),bR=DR(Vn.a),mR=kR(m.DataCenter.localStorage),Object(ee.log)((vR=function(e){function ChatFansBarrage(t){!function ChatFansBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrage);var r=function ChatFansBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatFansBarrage_initDefineProp(r,"global",gR,r),ChatFansBarrage_initDefineProp(r,"common",yR,r),ChatFansBarrage_initDefineProp(r,"chatToolBarServices",_R,r),ChatFansBarrage_initDefineProp(r,"chatSendServices",NR,r),ChatFansBarrage_initDefineProp(r,"chatNobleBarrageServices",SR,r),ChatFansBarrage_initDefineProp(r,"chatRoleBarrageServices",CR,r),ChatFansBarrage_initDefineProp(r,"localStorage",wR,r),r.timer=null,r.state={openFansCss:"none",showFansTips:!1,selectedIndex:0,arrowLeft:0,tipsArrowLeft:0,is_set_fans_badge:!1},["openFansBarrageBox","onBlurHandler","switchColor","closeNobleBarrage"].forEach(function(e){r[e]=r[e].bind(r)}),r.fansBarrageBtnRef=rs.a.createRef(),r}return ChatFansBarrage_inherits(ChatFansBarrage,e),ChatFansBarrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({is_set_fans_badge:t.get("room.is_set_fans_badge")})}),document.addEventListener("click",this.onBlurHandler,!1),this.chatToolBarServices.observerFansBarrage()},ChatFansBarrage.prototype.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("click",this.onBlurHandler,!1)},ChatFansBarrage.prototype.openFansBarrageBox=function openFansBarrageBox(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),"block"===this.state.openFansCss?this.setState({openFansCss:"none"}):this.setState({openFansCss:"block"});var r=this.props.toolBarleft,i=this.fansBarrageBtnRef.current.getBoundingClientRect().left;this.setState({showFansTips:!0,arrowLeft:i-r+12,tipsArrowLeft:i-r-10}),clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({showFansTips:!1})},3e3)},ChatFansBarrage.prototype.onBlurHandler=function onBlurHandler(){this.setState({openFansCss:"none"})},ChatFansBarrage.prototype.switchColor=function switchColor(e,t,r){t&&(this.chatSendServices.fansColorSet(),this.chatToolBarServices.setStorage(r),this.chatToolBarServices.updateColor(e,r))},ChatFansBarrage.prototype.closeNobleBarrage=function closeNobleBarrage(e,t){t&&(this.chatNobleBarrageServices.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage())},ChatFansBarrage.prototype.render=function render(){var e=!!this.props.chatToolBar.receiveSummerReward||this.state.is_set_fans_badge,t=this.props.chatToolBar.selectedIndex,r=e?this.props.chatToolBar.color:0;return rs.a.createElement("div",{className:"ChatFansBarrage",onClick:this.openFansBarrageBox,ref:this.fansBarrageBtnRef,__source:{fileName:ER,lineNumber:142},__self:this},rs.a.createElement(Xj,{color:r,anchorMedalSwitch:e,closeNobleBarrage:this.closeNobleBarrage,__source:{fileName:ER,lineNumber:143},__self:this}),e?rs.a.createElement(lR,{selectedIndex:t,openFansCss:this.state.openFansCss,switchColor:this.switchColor,arrowLeft:this.state.arrowLeft,fansBarrageLv:this.props.chatToolBar.fansBarrageLv,__source:{fileName:ER,lineNumber:148},__self:this}):rs.a.createElement(OR,{showFansTips:this.state.showFansTips,tipsArrowLeft:this.state.tipsArrowLeft,__source:{fileName:ER,lineNumber:156},__self:this}))},ChatFansBarrage}(rs.a.Component),gR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"global",[cR],{enumerable:!0,initializer:null}),yR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"common",[uR],{enumerable:!0,initializer:null}),_R=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"chatToolBarServices",[pR],{enumerable:!0,initializer:null}),NR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"chatSendServices",[fR],{enumerable:!0,initializer:null}),SR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"chatNobleBarrageServices",[dR],{enumerable:!0,initializer:null}),CR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"chatRoleBarrageServices",[bR],{enumerable:!0,initializer:null}),wR=ChatFansBarrage_applyDecoratedDescriptor(vR.prototype,"localStorage",[mR],{enumerable:!0,initializer:null}),hR=vR))||hR),RR=Object(Km.connect)(function mapStateToProps(e){return{openFansBarrageBox:e.openFansBarrageBox,chatToolBar:e.chatToolBar}})(jR),PR=r("d5e34"),TR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectTip.js",BR=function RoleSelectTip(e){var t=e.tip;return rs.a.createElement("div",{className:"ChatRoleBarrage-tipWrapper",__source:{fileName:TR,lineNumber:11},__self:void 0},rs.a.createElement("div",{className:"ChatRoleBarrage-tipContent",__source:{fileName:TR,lineNumber:12},__self:void 0},rs.a.createElement("span",{__source:{fileName:TR,lineNumber:13},__self:void 0},t)))};BR.propTypes={tip:$m.a.string.isRequired};var LR=BR,zR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectPane.js",MR=function RoleSelectPane(e){var t=e.isLoginUser,r=e.isRoleBarrageUser,i=e.roleList,n=e.selectedRole,a=e.contentHeight,o=e.toggleRoleSelect,l=e.toggleRoleBarragePane,s=e.roleBarrageFilter,c=e.toggleRoleBarrageFilter,u=e.mouseLeave,p=e.showTip,f=e.tip;return rs.a.createElement("div",{className:"ChatRoleBarrage-pane",onMouseLeave:u,__source:{fileName:zR,lineNumber:26},__self:void 0},rs.a.createElement("span",{className:"ChatRoleBarrage-close",onClick:l("off"),__source:{fileName:zR,lineNumber:27},__self:void 0}),rs.a.createElement("h3",{__source:{fileName:zR,lineNumber:28},__self:void 0},"\u89d2\u8272\u5f39\u5e55"),rs.a.createElement("div",{className:"ChatRoleBarrage-scrollWrap",style:{height:a},__source:{fileName:zR,lineNumber:29},__self:void 0},rs.a.createElement(PR.a,{__source:{fileName:zR,lineNumber:30},__self:void 0},rs.a.createElement("ul",{className:"ChatRoleBarrage-roleList "+(t&&r?"":"unLogin")+" clearFix",__source:{fileName:zR,lineNumber:31},__self:void 0},i.map(function(e){var t=e.roleId,r=e.name,i=e.img;return rs.a.createElement("li",{key:t,onClick:o({roleId:t,name:r,img:i}),className:n&&n.roleId===t?"active":"",__source:{fileName:zR,lineNumber:33},__self:void 0},rs.a.createElement("img",{src:i,alt:r,__source:{fileName:zR,lineNumber:38},__self:void 0}),rs.a.createElement("p",{__source:{fileName:zR,lineNumber:39},__self:void 0},r))})))),rs.a.createElement("div",{className:"ChatRoleBarrage-filter"+(s?" active":""),onClick:c,__source:{fileName:zR,lineNumber:45},__self:void 0},rs.a.createElement("span",{__source:{fileName:zR,lineNumber:49},__self:void 0}),"\u5c4f\u853d\u89d2\u8272\u5f39\u5e55"),p?rs.a.createElement(LR,{tip:f,__source:{fileName:zR,lineNumber:53},__self:void 0}):null)};MR.propTypes={isLoginUser:$m.a.number.isRequired,isRoleBarrageUser:$m.a.number.isRequired,roleList:$m.a.array.isRequired,selectedRole:$m.a.object,contentHeight:$m.a.number.isRequired,toggleRoleSelect:$m.a.func.isRequired,toggleRoleBarragePane:$m.a.func.isRequired,roleBarrageFilter:$m.a.number.isRequired,toggleRoleBarrageFilter:$m.a.func.isRequired,mouseLeave:$m.a.func.isRequired,showTip:$m.a.number.isRequired,tip:$m.a.string.isRequired};var AR,IR,FR,xR,GR,UR,HR,WR,VR,$R,KR,qR,QR,JR,YR,XR,ZR,eP,tP=MR,rP=(r("23ead"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/ChatRoleBarrage.js"),iP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function ChatRoleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nP=n.a.Service,aP=Ni.a.socketStream,oP="roleBarrageFilter",lP=void 0,sP=function dySubV2(e,t){Object(pr.dysub2)(iP({action_code:e,event_id:1,type:1},t))},cP=(AR=nP(Vn.a),IR=nP(ej.a),FR=nP(YD),xR=nP(dn.a),GR=nP(m.DataCenter.common),UR=nP(m.DataCenter.global),HR=nP(m.DataCenter.acj),WR=nP(m.DataCenter.localStorage),Object(ee.log)(($R=function(e){function ChatRoleBarrage(){var t,r;!function ChatRoleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrage);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrage_initDefineProp(r,"chatRoleBarrageService",KR,r),ChatRoleBarrage_initDefineProp(r,"chatNobleBarrageServices",qR,r),ChatRoleBarrage_initDefineProp(r,"chatToolBarServices",QR,r),ChatRoleBarrage_initDefineProp(r,"chatCampService",JR,r),ChatRoleBarrage_initDefineProp(r,"common",YR,r),ChatRoleBarrage_initDefineProp(r,"global",XR,r),ChatRoleBarrage_initDefineProp(r,"acj",ZR,r),ChatRoleBarrage_initDefineProp(r,"localStorage",eP,r),r.state={isRoleBarrageRoom:0,isRoleBarrageUser:0,roleBarragePaneShown:0,roleBarrageFilter:0,isLoginUser:0,showTip:0,tip:"",minLevel:0,dysExt:{}},r.toggleRoleBarragePane=function(e){return function(){var t=r.state,i=t.roleBarragePaneShown,n=t.dysExt,a=e?{on:1,off:0}[e]:!i;a&&sP("11010020D001",n),r.setState({roleBarragePaneShown:a})}},r.toggleRoleSelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=r.state,i=t.isLoginUser,n=t.isRoleBarrageUser,a=t.minLevel;if(i){if(!n)return r.setState({showTip:1,tip:"\u89d2\u8272\u5f39\u5e55\u529f\u80fd"+a+"\u7ea7\u4ee5\u540e\u53ef\u4ee5\u4f7f\u7528\uff0c\u52a0\u6cb9\u5347\u7ea7\u5427"}),void setTimeout(function(){r.setState({showTip:0})},3e3);var o=r.props.selectedRole;if(o&&+o.roleId===+e.roleId)r.chatRoleBarrageService.clearRoleBarrage();else{var l=r.state.dysExt,s=e.roleId;sP("110100206001",iP({},l,{ext:{_role_id:s}})),r.chatRoleBarrageService.setRoleBarrage(e),r.chatNobleBarrageServices.closeNobleBarrage(),r.chatToolBarServices.closeFansBarrage(),r.chatCampService.closeChatCamp()}}}},r.toggleRoleBarrageFilter=function(){var e=r.state,t=e.roleBarrageFilter,i=e.dysExt,n=!t;sP("110100206002",i),r.setState({roleBarrageFilter:+n}),r.setRoleBarrageFilter(+n)},r.setRoleBarrageFilter=function(e){r.acj.push(bn.c.JS_ROLE_BARRAGE_SWITCH,{data:e}),r.localStorage.set(oP,e)},r.mouseLeave=function(e){e.preventDefault(),lP&&clearTimeout(lP),lP=setTimeout(r.toggleRoleBarragePane("off"),1500)},ChatRoleBarrage_possibleConstructorReturn(r,t)}return ChatRoleBarrage_inherits(ChatRoleBarrage,e),ChatRoleBarrage.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.global.get("USER_INFO.uid"),r=!!this.localStorage.get(oP);this.setState({isLoginUser:+!!t,roleBarrageFilter:+r}),this.setRoleBarrageFilter(+r),this.common.get("$DATA").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).room,r=(t=void 0===t?{}:t).cate1_id,i=t.cate2_id,n=t.cate3_id,a=t.room_id;e.setState({dysExt:{cate_id:r,child_id:n,tag_id:i,room_id:a}})}),this.common.get("$ROLE_BARRAGE_SWITCH").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roleBarrage,r=(t=void 0===t?{}:t).status,i=void 0===r?0:r,n=t.minLevel,a=void 0===n?0:n,o=e.global.get("$ROOM").room_id;aP.subscribe("memberinfores",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).level,r=void 0===t?1:t;+i&&e.chatRoleBarrageService.getRoleList(o),e.setState({isRoleBarrageRoom:+i,isRoleBarrageUser:+(+r>=+a),minLevel:a})})}),aP.subscribe("chatmsg",function(r){var i=r.roleid,n=r.uid,a=e.props.selectedRole;!i&&+n===+t&&a&&e.chatRoleBarrageService.clearRoleBarrage()})},ChatRoleBarrage.prototype.render=function render(){var e=this.state,t=e.isLoginUser,r=e.isRoleBarrageRoom,i=e.isRoleBarrageUser,n=e.roleBarragePaneShown,a=e.roleBarrageFilter,o=e.showTip,l=e.tip,s=this.props,c=s.selectedRole,u=s.roleList,p=["ChatRoleBarrage-switcher",(n||c)&&"active",a&&" disable"].filter(Boolean).join(" ");return r?rs.a.createElement("div",{className:"ChatRoleBarrage",__source:{fileName:rP,lineNumber:194},__self:this},rs.a.createElement("div",{className:p,onClick:this.toggleRoleBarragePane(),__source:{fileName:rP,lineNumber:195},__self:this}),n?rs.a.createElement(tP,{isLoginUser:t,isRoleBarrageUser:i,roleList:u,selectedRole:c,mouseLeave:this.mouseLeave,contentHeight:function setContentHeight(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>4?192:101}(u),toggleRoleBarragePane:this.toggleRoleBarragePane,toggleRoleSelect:this.toggleRoleSelect,roleBarrageFilter:a,toggleRoleBarrageFilter:this.toggleRoleBarrageFilter,showTip:o,tip:l,__source:{fileName:rP,lineNumber:198},__self:this}):null):null},ChatRoleBarrage}(rs.a.Component),KR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"chatRoleBarrageService",[AR],{enumerable:!0,initializer:null}),qR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"chatNobleBarrageServices",[IR],{enumerable:!0,initializer:null}),QR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"chatToolBarServices",[FR],{enumerable:!0,initializer:null}),JR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"chatCampService",[xR],{enumerable:!0,initializer:null}),YR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"common",[GR],{enumerable:!0,initializer:null}),XR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"global",[UR],{enumerable:!0,initializer:null}),ZR=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"acj",[HR],{enumerable:!0,initializer:null}),eP=ChatRoleBarrage_applyDecoratedDescriptor($R.prototype,"localStorage",[WR],{enumerable:!0,initializer:null}),VR=$R))||VR);cP.propTypes={roleList:$m.a.array.isRequired,selectedRole:$m.a.object};var uP,pP,fP,dP=Object(Km.connect)(function mapStateToProps(e){var t=e.chatRoleBarrageData;return{roleList:t.roleList,selectedRole:t.selectedRole}})(cP);r("dd665");function ChatCampSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bP,mP,hP,vP,gP,yP,_P,NP,SP,CP,wP=(uP=(0,n.a.Service)(dn.a),pP=function(e){function ChatCampSwitcher(){!function ChatCampSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampSwitcher);var t=function ChatCampSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatCampSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatCampService",fP,t),t.switchChatCamp=t.switchChatCamp.bind(t),t}return ChatCampSwitcher_inherits(ChatCampSwitcher,e),ChatCampSwitcher.prototype.switchChatCamp=function switchChatCamp(){var e=this.props.isShow;this.chatCampService.switchChatCamp(!e)},ChatCampSwitcher.prototype.render=function render(){var e=this.props.color,t={};return e&&(t={backgroundColor:e}),rs.a.createElement("div",{className:"ChatCampSwitcher",onClick:this.switchChatCamp,style:t,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampSwitcher.js",lineNumber:38},__self:this})},ChatCampSwitcher}(rs.a.Component),fP=function ChatCampSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(pP.prototype,"chatCampService",[uP],{enumerable:!0,initializer:null}),pP),OP=Object(Km.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,color:e.chatCamp.color}})(wP),EP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampPop.js";function ChatCampPop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatCampPop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampPop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatCampPop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var DP,kP,jP,RP,PP=n.a.Service,TP=(bP=PP(dn.a),mP=PP(YD),hP=PP(ej.a),vP=PP(Vn.a),Object(ee.log)((yP=function(e){function ChatCampPop(){!function ChatCampPop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampPop);var t=function ChatCampPop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatCampPop_initDefineProp(t,"chatCampService",_P,t),ChatCampPop_initDefineProp(t,"chatToolBarService",NP,t),ChatCampPop_initDefineProp(t,"chatNobleBarrageService",SP,t),ChatCampPop_initDefineProp(t,"chatRoleBarrageServices",CP,t),t.closeChatCamp=t.closeChatCamp.bind(t),t.selectCamp=t.selectCamp.bind(t),t}return ChatCampPop_inherits(ChatCampPop,e),ChatCampPop.prototype.closeChatCamp=function closeChatCamp(){this.chatCampService.switchChatCamp(!1)},ChatCampPop.prototype.selectCamp=function selectCamp(e){var t=e.camp_id,r=-1,i=[],n="",a=0;t!==this.props.selectIndex&&(r=t,i=e.gift_ids,n=e.barrage_color,a=e.barrage_color_code),this.chatCampService.selectChatCamp(r,i,n),this.chatToolBarService.updateCampColor(a,n),this.chatNobleBarrageService.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage()},ChatCampPop.prototype.render=function render(){var e=this,t=this.props,r=t.isShow,i=void 0!==r&&r,n=t.campList,a=void 0===n?[]:n,o=t.selectIndex,l=void 0===o?-1:o;return rs.a.createElement("div",{className:"ChatCampPop"+(i?" is-active":""),__source:{fileName:EP,lineNumber:61},__self:this},rs.a.createElement("div",{className:"ChatCampPop-title",__source:{fileName:EP,lineNumber:62},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61",rs.a.createElement("div",{className:"ChatCampPop-close",onClick:this.closeChatCamp,__source:{fileName:EP,lineNumber:64},__self:this},rs.a.createElement("div",{className:"ChatCampPop-closeIcon",__source:{fileName:EP,lineNumber:65},__self:this}))),rs.a.createElement("div",{className:"ChatCampPop-content",__source:{fileName:EP,lineNumber:68},__self:this},rs.a.createElement("ul",{__source:{fileName:EP,lineNumber:69},__self:this},a&&a.length>0?a.map(function(t){var r={borderColor:t.barrage_color};return r=l===t.camp_id?Object.assign(r,{backgroundColor:t.barrage_color}):r,rs.a.createElement("li",{className:"ChatCampPop-item",key:t.camp_id,onClick:function onClick(){e.selectCamp(t)},__source:{fileName:EP,lineNumber:82},__self:e},rs.a.createElement("div",{className:"ChatCampPop-input","data-campid":t.camp_id,"data-code":t.barrage_color_code,style:r,__source:{fileName:EP,lineNumber:85},__self:e}),rs.a.createElement("div",{className:"ChatCampPop-text",style:{color:""+t.barrage_color},__source:{fileName:EP,lineNumber:90},__self:e},t.camp_name))}):"")),rs.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--inner",__source:{fileName:EP,lineNumber:101},__self:this}),rs.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--outer",__source:{fileName:EP,lineNumber:102},__self:this}))},ChatCampPop}(rs.a.Component),_P=ChatCampPop_applyDecoratedDescriptor(yP.prototype,"chatCampService",[bP],{enumerable:!0,initializer:null}),NP=ChatCampPop_applyDecoratedDescriptor(yP.prototype,"chatToolBarService",[mP],{enumerable:!0,initializer:null}),SP=ChatCampPop_applyDecoratedDescriptor(yP.prototype,"chatNobleBarrageService",[hP],{enumerable:!0,initializer:null}),CP=ChatCampPop_applyDecoratedDescriptor(yP.prototype,"chatRoleBarrageServices",[vP],{enumerable:!0,initializer:null}),gP=yP))||gP),BP=Object(Km.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,selectIndex:e.chatCamp.selectIndex,campList:e.chatCamp.campList}})(TP),LP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampRemind.js";function ChatCampRemind_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatCampRemind_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampRemind_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zP=(DP=(0,n.a.Service)(dn.a),Object(ee.log)((jP=function(e){function ChatCampRemind(){var t,r;!function ChatCampRemind_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampRemind);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatCampRemind_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatCampRemind_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatCampService",RP,r),ChatCampRemind_possibleConstructorReturn(r,t)}return ChatCampRemind_inherits(ChatCampRemind,e),ChatCampRemind.prototype.render=function render(){var e=this.props.remindIsShow;return rs.a.createElement("div",{className:"ChatCampRemind"+(e?" is-active":""),__source:{fileName:LP,lineNumber:24},__self:this},rs.a.createElement("div",{className:"ChatCampRemind-container",__source:{fileName:LP,lineNumber:25},__self:this},rs.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:LP,lineNumber:26},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61"),rs.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:LP,lineNumber:27},__self:this},"\u7528\u8272\u5f69\u8868\u660e\u4f60\u7684\u7acb\u573a")),rs.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--inner",__source:{fileName:LP,lineNumber:29},__self:this}),rs.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--outer",__source:{fileName:LP,lineNumber:30},__self:this}))},ChatCampRemind}(rs.a.Component),RP=function ChatCampRemind_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(jP.prototype,"chatCampService",[DP],{enumerable:!0,initializer:null}),kP=jP))||kP),MP=Object(Km.connect)(function mapStateToProps(e){return{remindIsShow:e.chatCamp.remindIsShow}})(zP),AP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCamp.js";function ChatCamp_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCamp_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var IP,FP,xP,GP,UP,HP,WP=function(e){function ChatCamp(){return function ChatCamp_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCamp),function ChatCamp_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatCamp_inherits(ChatCamp,e),ChatCamp.prototype.render=function render(){return rs.a.createElement("div",{className:"ChatCamp",__source:{fileName:AP,lineNumber:17},__self:this},rs.a.createElement(OP,{__source:{fileName:AP,lineNumber:18},__self:this}),rs.a.createElement(BP,{__source:{fileName:AP,lineNumber:19},__self:this}),rs.a.createElement(MP,{__source:{fileName:AP,lineNumber:20},__self:this}))},ChatCamp}(rs.a.Component),VP=(r("c357d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ShieldingTool/ShieldTool.js");function ShieldTool_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ShieldTool_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ShieldTool_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ShieldTool_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ShieldTool_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ShieldTool_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $P,KP,qP,QP,JP,YP=n.a.Service,XP=[106,107,108,105],ZP=(IP=YP(Qc),FP=function(e){function ShieldToolComponent(){ShieldTool_classCallCheck(this,ShieldToolComponent);var t=ShieldTool_possibleConstructorReturn(this,e.call(this));return ShieldTool_initDefineProp(t,"shieldToolServices",xP,t),t.hoverTimer=0,t.showTipTimer=0,t.isSetWeek=!1,t.state={tipShow:!1},t}return ShieldTool_inherits(ShieldToolComponent,e),ShieldToolComponent.prototype.componentDidMount=function componentDidMount(){this.shieldToolServices.init(),this.shieldToolServices.showShieldTip(this.showShieldTip.bind(this))},ShieldToolComponent.prototype.setWeekShow=function setWeekShow(){this.isSetWeek=!this.isSetWeek,this.shieldToolServices.setShieldTipShowExpired(this.isSetWeek?2:3)},ShieldToolComponent.prototype.showShieldTip=function showShieldTip(){var e=this;this.setState({tipShow:!0}),this.showTipTimer=setTimeout(function(){e.hideShieldTip()},1e4)},ShieldToolComponent.prototype.hideShieldTip=function hideShieldTip(){clearTimeout(this.showTipTimer),this.setState({tipShow:!1})},ShieldToolComponent.prototype.returnShieldList=function returnShieldList(e){var t=this;return XP.map(function(r){return e[r]?rs.a.createElement(eT,{key:e[r].type,config:e[r],__source:{fileName:VP,lineNumber:61},__self:t}):null})},ShieldToolComponent.prototype.render=function render(){var e=this,t=this.props.shieldConfig,r=this.shieldToolServices.getToShieldData(t);return this.state.tipShow&&t[105]<=0&&(this.state.tipShow=!1),rs.a.createElement("div",{className:"ShieldTool-content",__source:{fileName:VP,lineNumber:77},__self:this},rs.a.createElement("div",{className:"ShieldTool-enter",__source:{fileName:VP,lineNumber:78},__self:this},rs.a.createElement(eT,{config:r[999],__source:{fileName:VP,lineNumber:79},__self:this}),rs.a.createElement("div",{className:"ShieldTool-list",__source:{fileName:VP,lineNumber:80},__self:this},rs.a.createElement("a",{href:"http://www.douyu.com/client?platform=3",target:"_blank",className:"ShieldTool-PClient",__source:{fileName:VP,lineNumber:81},__self:this},rs.a.createElement("i",{className:"ShieldTool-PCIcon",__source:{fileName:VP,lineNumber:81},__self:this}),"PC\u5ba2\u6237\u7aef"),this.returnShieldList(r))),this.state.tipShow&&t[105]?rs.a.createElement("div",{className:"ShieldToolTip",__source:{fileName:VP,lineNumber:90},__self:this},rs.a.createElement("i",{className:"ShieldToolTip-close",onClick:this.hideShieldTip.bind(this),__source:{fileName:VP,lineNumber:91},__self:this}),rs.a.createElement("i",{className:"ShieldToolTip-arrow",__source:{fileName:VP,lineNumber:92},__self:this}),rs.a.createElement("h3",{className:"ShieldToolTip-desc1",__source:{fileName:VP,lineNumber:93},__self:this},"\u9ca8\u9c7c\u5a18\u68c0\u6d4b\u5230\u60a8\u5c4f\u5e55\u5361\u987f\uff01"),rs.a.createElement("h6",{className:"ShieldToolTip-desc2",__source:{fileName:VP,lineNumber:94},__self:this},"\u5df2\u4e3a\u60a8\u5c4f\u853d\u5c0f\u793c\u7269\u7279\u6548"),rs.a.createElement("div",{className:"ShieldToolTip-switch",__source:{fileName:VP,lineNumber:95},__self:this},rs.a.createElement("label",{className:"ShieldToolTip-switchLabel",onChange:function onChange(){return e.setWeekShow()},__source:{fileName:VP,lineNumber:96},__self:this},rs.a.createElement("input",{className:"ShieldToolTip-switchIcon",type:"checkbox",__source:{fileName:VP,lineNumber:97},__self:this}),rs.a.createElement("span",{className:"ShieldToolTip-switchText",__source:{fileName:VP,lineNumber:98},__self:this},"\u672c\u5468\u4e0d\u518d\u63d0\u793a")))):null)},ShieldToolComponent}(rs.a.Component),xP=ShieldTool_applyDecoratedDescriptor(FP.prototype,"shieldToolServices",[IP],{enumerable:!0,initializer:null}),FP),eT=(GP=YP(Qc),UP=function(e){function ShieldItemComponent(){var t,r;ShieldTool_classCallCheck(this,ShieldItemComponent);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ShieldTool_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ShieldTool_initDefineProp(r,"shieldToolServices",HP,r),ShieldTool_possibleConstructorReturn(r,t)}return ShieldTool_inherits(ShieldItemComponent,e),ShieldItemComponent.prototype.switchShield=function switchShield(e){this.shieldToolServices.switchShield(e)},ShieldItemComponent.prototype.getBgPos=function getBgPos(e){switch(+e.state){case 0:return"ShieldTool-listItem is-noChecked";case 1:return"ShieldTool-listItem is-checked";case 2:return"ShieldTool-listItem is-allChecked";default:return"ShieldTool-listItem is-noChecked"}},ShieldItemComponent.prototype.render=function render(){var e=this,t=this.props.config;if(!t)return null;var r=this.getBgPos(t);return rs.a.createElement("div",{className:r,onClick:function onClick(){return e.switchShield(t)},key:t.type,__source:{fileName:VP,lineNumber:140},__self:this},rs.a.createElement("span",{className:"ShieldTool-checkIcon",__source:{fileName:VP,lineNumber:144},__self:this}),rs.a.createElement("h5",{className:"ShieldTool-checkText",__source:{fileName:VP,lineNumber:146},__self:this},t.text))},ShieldItemComponent}(rs.a.Component),HP=ShieldTool_applyDecoratedDescriptor(UP.prototype,"shieldToolServices",[GP],{enumerable:!0,initializer:null}),UP),tT=Object(Km.connect)(function mapStateToProps(e){return{shieldConfig:e.shieldConfig}})(ZP),rT=r("4477a");function barrageFilterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageFilterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageFilterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function barrageFilterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var iT,nT,aT,oT,lT=n.a.Service,sT=n.a.Store,cT=($P=lT(as.a),KP=sT(),qP=function(e){function BarrageFilterServices(){var t,r;!function barrageFilterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageFilterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),barrageFilterServices_initDefineProp(r,"userCardService",QP,r),barrageFilterServices_initDefineProp(r,"store",JP,r),barrageFilterServices_possibleConstructorReturn(r,t)}return barrageFilterServices_inherits(BarrageFilterServices,e),BarrageFilterServices.prototype.setFilterData=function setFilterData(e){this.store.dispatch(Yo.setFilterData(e))},BarrageFilterServices}(b.Service),QP=barrageFilterServices_applyDecoratedDescriptor(qP.prototype,"userCardService",[$P],{enumerable:!0,initializer:null}),JP=barrageFilterServices_applyDecoratedDescriptor(qP.prototype,"store",[KP],{enumerable:!0,initializer:null}),qP),uT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/FilterSwitch.js",pT={0:"\u672a\u5f00\u542f",1:"\u5df2\u5f00\u542f"},fT=function isChecked(e){return e?"is-checked":""},dT=function FilterSwitchStatus(e){var t=e.title,r=e.checked,i=e.filterSwitch;return rs.a.createElement("div",{className:"FilterSwitchStatus",__source:{fileName:uT,lineNumber:16},__self:void 0},rs.a.createElement("h3",{__source:{fileName:uT,lineNumber:17},__self:void 0},t),rs.a.createElement("div",{__source:{fileName:uT,lineNumber:18},__self:void 0},rs.a.createElement("span",{className:"FilterSwitchStatus-status "+fT(r),__source:{fileName:uT,lineNumber:19},__self:void 0},pT[r]),rs.a.createElement("span",{className:"FilterSwitchStatus-switch "+fT(r),onClick:i,__source:{fileName:uT,lineNumber:20},__self:void 0},rs.a.createElement("span",{className:"FilterSwitchStatus-switch-inner",__source:{fileName:uT,lineNumber:24},__self:void 0}))))},bT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterLimit.js",mT=function LevelFilterLimit(e){var t=e.isOn,r=e.levelLimit,i=e.levelLimitInput,n=e.setLevelLimit,a=e.getLevelInput;return rs.a.createElement("div",{className:"LevelFilterLimit",__source:{fileName:bT,lineNumber:10},__self:void 0},rs.a.createElement("p",{__source:{fileName:bT,lineNumber:11},__self:void 0},"\u5c4f\u853d",rs.a.createElement("input",{className:"LevelFilterLimit-input "+(t?"enabled":""),type:"text",placeholder:"1~30",maxLength:"2",value:r,onChange:i,onBlur:n,ref:a,__source:{fileName:bT,lineNumber:13},__self:void 0}),"\u7ea7\u53ca\u4ee5\u4e0b\u7528\u6237\u7684\u5f39\u5e55"))},hT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterTab.js";function KeywordFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vT,gT,yT,_T=(iT=(0,n.a.Service)(cT),Object(ee.log)((aT=function(e){function KeywordFilterHeader(){var t,r;!function KeywordFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilterHeader);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilterTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function KeywordFilterTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageFilterService",oT,r),r.switchNav=function(e){return function(){var t=r.props.roomId,i=Object(rT.d)(t),n=i.globalData,a={room:i.roomData,global:n}[e];r.barrageFilterService.setFilterData({type:e,keywords:a})}},KeywordFilterTab_possibleConstructorReturn(r,t)}return KeywordFilterTab_inherits(KeywordFilterHeader,e),KeywordFilterHeader.prototype.render=function render(){var e=this,t=this.props.type;return rs.a.createElement("div",{className:"FilKeyTab",__source:{fileName:hT,lineNumber:35},__self:this},Object.keys(rT.a).map(function(r,i){return rs.a.createElement("div",{className:"tab "+(t===r?"active":""),onClick:e.switchNav(r),key:"nav"+i,__source:{fileName:hT,lineNumber:38},__self:e},rT.a[r])}))},KeywordFilterHeader}(rs.a.Component),oT=function KeywordFilterTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(aT.prototype,"barrageFilterService",[iT],{enumerable:!0,initializer:null}),nT=aT))||nT),NT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterTab.js";function LevelFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LevelFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ST,CT,wT,OT,ET,DT,kT=Object(ee.log)((yT=gT=function(e){function LevelFilterTab(){return function LevelFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelFilterTab),function LevelFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return LevelFilterTab_inherits(LevelFilterTab,e),LevelFilterTab.prototype.render=function render(){var e=this,t=this.props,r=t.type,i=t.filterOn,n=t.changeTypeHandler;return rs.a.createElement("div",{className:"LevelFilKeyTab "+(i?"on":""),__source:{fileName:NT,lineNumber:22},__self:this},Object.keys(rT.a).map(function(t,i){return rs.a.createElement("div",{className:"tab "+(r===t?"active":""),onClick:function onClick(){n(t)},onMouseDown:function onMouseDown(e){e.preventDefault()},key:"nav"+i,__source:{fileName:NT,lineNumber:25},__self:e},rT.a[t])}))},LevelFilterTab}(rs.a.Component),gT.defaultProps={changeTypeHandler:function changeTypeHandler(){}},vT=yT))||vT,jT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterItem.js",RT=function KeywordFilterItem(e){var t=e.text,r=e.type,i=e.deleteKeywords;return rs.a.createElement("li",{className:"FKLiWrap",__source:{fileName:jT,lineNumber:9},__self:void 0},rs.a.createElement("span",{className:"FKLiWrap-icon",__source:{fileName:jT,lineNumber:10},__self:void 0}),rs.a.createElement("span",{className:"FKLiWrap-text",__source:{fileName:jT,lineNumber:11},__self:void 0},rs.a.createElement("pre",{__source:{fileName:jT,lineNumber:12},__self:void 0},t)),rs.a.createElement("span",{className:"FKLiWrap-deleteBtn",onClick:i({text:t,type:r}),__source:{fileName:jT,lineNumber:14},__self:void 0}))},PT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterContent.js",TT=function KeywordFilterContent(e){var t=e.keywords,r=e.type,i=e.deleteKeywords,n=t.length,a=rT.a[r],o=0,l=t.length;return o=l<=2?68:l<5?30*l:140,n?rs.a.createElement("div",{className:"FKContent",__source:{fileName:PT,lineNumber:30},__self:void 0},rs.a.createElement("p",{className:"FKContent-title",__source:{fileName:PT,lineNumber:31},__self:void 0},a,"\u8fc7\u6ee4\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\uff08",n,"/20\uff09"),rs.a.createElement(PR.a,{className:"FKContent-mcbox",style:{height:o},__source:{fileName:PT,lineNumber:34},__self:void 0},rs.a.createElement("ul",{className:"ulContent",__source:{fileName:PT,lineNumber:35},__self:void 0},t.map(function(e){return rs.a.createElement(RT,{key:e,text:e,type:r,deleteKeywords:i,__source:{fileName:PT,lineNumber:37},__self:void 0})})))):rs.a.createElement("div",{className:"FKNokeywords",__source:{fileName:PT,lineNumber:44},__self:void 0},rs.a.createElement("p",{className:"FKNokeywords-title",__source:{fileName:PT,lineNumber:45},__self:void 0},a,"\u6ca1\u6709\u88ab\u8fc7\u6ee4\u7684\u5173\u952e\u8bcd"),rs.a.createElement("p",{className:"FKNokeywords-tip",__source:{fileName:PT,lineNumber:46},__self:void 0},"\u8bbe\u7f6e\u540e",a,"\u5305\u542b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\u5bf9\u60a8\u4e0d\u53ef\u89c1"))},BT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterInput.js",LT=function KeywordFilterInput(e){var t=e.keywordInputting,r=e.keywordFilterInput,i=e.getKeywordInput,n=e.addKeywords,a=e.onBlur;return rs.a.createElement("div",{className:"FilterKeywords-edit",__source:{fileName:BT,lineNumber:9},__self:void 0},rs.a.createElement("input",{className:"FilterKeywords-edit-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\uff08\u652f\u6301\u901a\u914d\u7b26*\u3001\uff1f\uff09",maxLength:"10",onChange:r,ref:i,onBlur:a,__source:{fileName:BT,lineNumber:10},__self:void 0}),rs.a.createElement("div",{className:"FilterKeywords-edit-addBtn "+(t?"active":""),onMouseDown:n,__source:{fileName:BT,lineNumber:19},__self:void 0},"\u6dfb\u52a0"))},zT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/TipRemind.js",MT=function FilKeyTipRemind(e){var t=e.isShowTip,r=e.tip;return t?rs.a.createElement("div",{className:"FKRemind",__source:{fileName:zT,lineNumber:13},__self:void 0},rs.a.createElement("div",{className:"FKRemind-content",__source:{fileName:zT,lineNumber:14},__self:void 0},rs.a.createElement("span",{className:"contentTip",__source:{fileName:zT,lineNumber:15},__self:void 0},r))):null},AT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},IT="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilter.js";function KeywordFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function KeywordFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function KeywordFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var FT,xT,GT,UT,HT,WT,VT=n.a.Service,$T={most_rooms:"\u6700\u591a\u8bbe\u7f6e20\u4e2a\u76f4\u64ad\u95f4",most_words:"\u6700\u591a\u6dfb\u52a020\u4e2a\u5173\u952e\u8bcd",repeat_word:"\u8bf7\u52ff\u6dfb\u52a0\u91cd\u590d\u7684\u5173\u952e\u8bcd",level_limit:"\u5f53\u524d\u4ec5\u652f\u6301\u5c4f\u853d1~30\u7ea7\u7528\u6237"},KT=150,qT=function getStatus(e){return{0:2,1:1}[e]},QT=(ST=VT(cT),CT=VT(m.DataCenter.global),Object(ee.log)((OT=function(e){function KeywordFilter(){var t,r;!function KeywordFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),KeywordFilter_initDefineProp(r,"barrageFilterService",ET,r),KeywordFilter_initDefineProp(r,"global",DT,r),r.state={isTip:!1,tip:"",keywordInputting:0},r.levelInput=null,r.keywordInput=null,r.dataRestructure=function(){},r.tipRemind=function(e){r.setState({isTip:!0,tip:e}),setTimeout(function(){r.setState({isTip:!1,tip:""})},2e3)},r.getLevelInput=function(e){r.levelInput=e},r.getKeywordInput=function(e){r.keywordInput=e},r.filterSwitch=function(e){return function(){var t,i=r.props,n=i.roomId,a=i.levelType,o=i.levelFilter,l=i.levelLimit,s=i.keywordsFilter,c=Object(rT.e)(),u={level:"levelFilter",keywords:"keywordsFilter"}[e],p=+!{level:o,keywords:s}[e],f=((t={})[u]=p,t);if("level"===e&&"room"===a?c=Object(rT.f)({data:c,rid:n,levelFilter:p,levelLimit:l}):c[u]=p,"keywords"===e&&Object(pr.dysub)("click_user_shieldkv_on",{stat:qT(s)}),p){var d={level:r.levelInput,keywords:r.keywordInput}[e];setTimeout(function(){d.focus()},KT)}m.DataCenter.localStorage.set(rT.b,JSON.stringify(c)),r.global.set("BARRAGE_FILTER",r.dataRestructure(c)),setTimeout(function(){r.barrageFilterService.setFilterData(AT({},f))},KT)}},r.autoToggleKeywordSwitch=function(e){var t=r.props.roomId,i=Object(rT.d)(t),n=i.keywordsFilter,a=i.globalData,o=Object(rT.e)().roomKw,l=[];Object.values(o).forEach(function(e){Array.isArray(e)&&(l=l.concat(e))});var s=a.length>0||l.length>0,c=!1;switch(e){case"open":c=s&&!n;break;case"close":c=!s&&n;break;default:c=s&&!n||!s&&n}c&&r.filterSwitch("keywords")()},r.levelLimitInput=function(e){var t=e.target.value;t&&(t=t.replace(/[^\d]/g,"")),r.barrageFilterService.setFilterData({levelLimit:t})},r.keywordFilterInput=function(e){var t=e.target;r.setState({keywordInputting:+!!t.value.trim()})},r.setLevelLimit=function(e){var t=e.target,i=Object(rT.e)(),n=+t.value.trim()||"",a=+!!n,o=r.props,l=o.roomId,s=o.levelType;n>30&&(r.tipRemind($T.level_limit),n=30),"room"===s?i=Object(rT.f)({data:i,rid:l,levelLimit:n,levelFilter:a}):(i.levelLimit=n,i.levelFilter=a),m.DataCenter.localStorage.set(rT.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),setTimeout(function(){r.barrageFilterService.setFilterData({levelFilter:a,levelLimit:n})},KT)},r.addKeywords=function(){var e=r.props,t=e.type,i=e.roomId,n=Object(rT.e)(),a=r.keywordInput.value.trim(),o=Object(rT.d)(i),l=o.globalData,s={room:o.roomData,global:l}[t],c={room:"roomKw",global:"globalKw"}[t];if(a)if("room"===t&&Object.keys(n.roomKw).length>=20)r.tipRemind($T.most_rooms);else if(s&&s.length>=20)r.tipRemind($T.most_words);else if(s.filter(function(e){return e===a}).length>0)r.tipRemind($T.repeat_word);else{var u=[].concat(s,[a]);Object(pr.dysub)("click_user_shieldkv_addkv",{kv:u,type:"room"===t?1:0}),"room"===t?n[c][i]=u:n[c]=u,r.keywordInput.value="",r.barrageFilterService.setFilterData({type:t,keywords:u}),m.DataCenter.localStorage.set(rT.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("open")}},r.deleteKeywords=function(e){var t=e.type,i=e.text;return function(){var e=r.props.roomId,n=Object(rT.e)(),a=Object(rT.d)(e),o=a.globalData,l={room:a.roomData,global:o}[t].filter(function(e){return e!==i}),s={room:"roomKw",global:"globalKw"}[t];Object(pr.dysub)("click_user_shieldkv_del",{kv:i,type:"room"===t?1:0}),"room"===t?n[s][e]=l:n[s]=l,r.barrageFilterService.setFilterData({type:t,keywords:l}),m.DataCenter.localStorage.set(rT.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("close")}},r.closeBarrageFilterPane=function(){var e=r.props,t=e.toggleBarrageFilterPane,i=e.levelFilter,n=e.levelLimit;Object(pr.dysub)("show_user_shieldle",{stat:qT(i),lev:n}),t()},r.changeLevelType=function(e){var t=r.props.roomId,i=Object(rT.e)(),n=Object(rT.d)(t),a=n.levelFilter,o=n.levelLimit,l=n.roomLevelSetting,s=n.levelType;if(e!==s){if("room"===s){var c=l.filter,u=l.level;c&&!u&&(i=Object(rT.f)({data:i,rid:t,levelLimit:u,levelFilter:0}))}else a&&!o&&(i.levelFilter=0);var p=("room"===e?l.filter:a)||0,f=("room"===e?l.level:o)||"";i.levelType=e,m.DataCenter.localStorage.set(rT.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),r.barrageFilterService.setFilterData({levelType:e,levelFilter:p,levelLimit:f})}},KeywordFilter_possibleConstructorReturn(r,t)}return KeywordFilter_inherits(KeywordFilter,e),KeywordFilter.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.roomId,r=e.type,i=Object(rT.d)(t),n=i.levelType,a=i.levelFilter,o=i.levelLimit,l=i.roomLevelSetting,s=i.keywordsFilter,c=i.globalData,u=i.roomData,p=Object(rT.e)(),f=("room"===n?l.filter:a)||0,d=("room"===n?l.level:o)||"",b={room:u,global:c}[r];this.dataRestructure=Object(rT.c)(t),this.global.set("BARRAGE_FILTER",this.dataRestructure(p)),this.barrageFilterService.setFilterData({type:r,keywords:b,levelFilter:f,keywordsFilter:s,levelLimit:d,levelType:n})},KeywordFilter.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.toggleMasterSwitchStatus;(void 0===e?function(){}:e)()},KeywordFilter.prototype.render=function render(){var e=this,t=this.props,r=t.roomId,i=t.levelFilter,n=t.levelLimit,a=t.levelType,o=t.keywordsFilter,l=t.type,s=t.keywords,c=this.state,u=c.isTip,p=c.tip,f=c.keywordInputting;return rs.a.createElement("div",{className:"FilterKeywords",__source:{fileName:IT,lineNumber:362},__self:this},rs.a.createElement("div",{className:"FilterKeywords-close",onClick:this.closeBarrageFilterPane,__source:{fileName:IT,lineNumber:363},__self:this}),rs.a.createElement(dT,{title:"\u7b49\u7ea7\u5c4f\u853d",checked:i,filterSwitch:this.filterSwitch("level"),__source:{fileName:IT,lineNumber:364},__self:this}),rs.a.createElement(kT,{type:a,filterOn:!!i,changeTypeHandler:this.changeLevelType,__source:{fileName:IT,lineNumber:369},__self:this}),rs.a.createElement(mT,{isOn:i,levelLimit:n,levelLimitInput:this.levelLimitInput,setLevelLimit:this.setLevelLimit,getLevelInput:this.getLevelInput,__source:{fileName:IT,lineNumber:374},__self:this}),rs.a.createElement(dT,{title:"\u5173\u952e\u8bcd\u5c4f\u853d",checked:o,filterSwitch:this.filterSwitch("keywords"),__source:{fileName:IT,lineNumber:381},__self:this}),rs.a.createElement(_T,{type:l,roomId:r,__source:{fileName:IT,lineNumber:386},__self:this}),rs.a.createElement(LT,{keywordInputting:f,keywordFilterInput:this.keywordFilterInput,getKeywordInput:this.getKeywordInput,addKeywords:this.addKeywords,onBlur:function onBlur(){return e.autoToggleKeywordSwitch("close")},__source:{fileName:IT,lineNumber:387},__self:this}),rs.a.createElement(TT,{type:l,keywords:s,deleteKeywords:this.deleteKeywords,__source:{fileName:IT,lineNumber:394},__self:this}),rs.a.createElement(MT,{isShowTip:u,tip:p,__source:{fileName:IT,lineNumber:395},__self:this}))},KeywordFilter}(rs.a.Component),ET=KeywordFilter_applyDecoratedDescriptor(OT.prototype,"barrageFilterService",[ST],{enumerable:!0,initializer:null}),DT=KeywordFilter_applyDecoratedDescriptor(OT.prototype,"global",[CT],{enumerable:!0,initializer:null}),wT=OT))||wT),JT=Object(Km.connect)(function mapStateToProps(e){var t=e.barrageFilterReducers;return{levelFilter:t.levelFilter,levelLimit:t.levelLimit,levelType:t.levelType,keywordsFilter:t.keywordsFilter,type:t.type,keywords:t.keywords}})(QT),YT=(r("54fe2"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/BarrageFilter.js");function BarrageFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var XT,ZT,eB,tB=n.a.Service,rB=(FT=tB(m.DataCenter.common),xT=tB(m.DataCenter.global),Object(ee.log)((UT=function(e){function BarrageFilter(){var t,r;!function BarrageFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageFilter_initDefineProp(r,"common",HT,r),BarrageFilter_initDefineProp(r,"global",WT,r),r.state={isShowContent:!1,ROOM_ID:"0",isOn:!1},r.dataRestructure=function(){},r.toggleMasterSwitchStatus=function(){var e=Object(rT.e)(),t=r.dataRestructure(e),i=!(!+t.LEVEL_FILTER&&!t.KEYWORDS_FILTER.length);r.setState({isOn:i})},r.toggleBarrageFilterPane=function(){var e=r.state.isShowContent;Object(pr.dysub)("click_user_shieldkv"),r.setState({isShowContent:!e}),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},BarrageFilter_possibleConstructorReturn(r,t)}return BarrageFilter_inherits(BarrageFilter,e),BarrageFilter.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.room,i=(r=void 0===r?{}:r).room_id,n=Object(rT.e)(),a=Object(rT.c)(i),o=n.levelLimit;e.dataRestructure=a,n.levelType=n.levelType||(+o?"global":"room"),e.setState({ROOM_ID:i}),m.DataCenter.localStorage.set(rT.b,JSON.stringify(n)),e.global.set("BARRAGE_FILTER",a(n)),e.toggleMasterSwitchStatus()})},BarrageFilter.prototype.render=function render(){var e=this.state,t=e.isShowContent,r=e.ROOM_ID,i=e.isOn;return rs.a.createElement("div",{className:"BarrageFilter",__source:{fileName:YT,lineNumber:75},__self:this},rs.a.createElement("div",{className:"BarrageFilter-fkbutton "+(i?"on":""),onClick:this.toggleBarrageFilterPane,__source:{fileName:YT,lineNumber:76},__self:this},rs.a.createElement("div",{className:"fkbutton-icon",__source:{fileName:YT,lineNumber:77},__self:this})),t?rs.a.createElement(JT,{roomId:r,toggleBarrageFilterPane:this.toggleBarrageFilterPane,toggleMasterSwitchStatus:this.toggleMasterSwitchStatus,__source:{fileName:YT,lineNumber:81},__self:this}):null)},BarrageFilter}(rs.a.Component),HT=BarrageFilter_applyDecoratedDescriptor(UT.prototype,"common",[FT],{enumerable:!0,initializer:null}),WT=BarrageFilter_applyDecoratedDescriptor(UT.prototype,"global",[xT],{enumerable:!0,initializer:null}),GT=UT))||GT),iB=r("07e31"),nB=r("d74cd"),aB=r("60e44"),oB=(r("9f697"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/pop/Pop.js");function Pop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Pop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var lB,sB,cB,uB,pB,fB,dB,bB,mB,hB=(XT=(0,n.a.Service)(ui.a),ZT=function(e){function BarrageSuperLinkPop(){!function Pop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkPop);var t=function Pop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Pop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageSuperLinkServices",eB,t),t.textArea=null,t}return Pop_inherits(BarrageSuperLinkPop,e),BarrageSuperLinkPop.prototype.componentDidMount=function componentDidMount(){this.changeAreaText()},BarrageSuperLinkPop.prototype.changeAreaText=function changeAreaText(){var e=this;Object(iB.fromEvent)(this.textArea,"keyup").pipe(Object(nB.debounceTime)(200),Object(c.map)(function(){return e.textArea.value.trim()}),Object(aB.distinctUntilChanged)()).subscribe(function(t){e.props.updateAreaText(t)}),Object(iB.fromEvent)(this.textArea,"blur").pipe(Object(c.map)(function(){return e.textArea.value.trim()})).subscribe(function(t){e.props.updateAreaText(t)}),Object(iB.fromEvent)(this.textArea,"focus").subscribe(function(){e.props.updateLinkError(0)})},BarrageSuperLinkPop.prototype.render=function render(){var e=this,t=this.props;return rs.a.createElement("div",{className:"BarrageSuperLinkPop",style:{display:t.superLinkShow?"block":"none"},__source:{fileName:oB,lineNumber:72},__self:this},rs.a.createElement("i",{className:"BarrageSuperLinkPop-close",onClick:function onClick(){t.togglePop(0)},__source:{fileName:oB,lineNumber:77},__self:this}),rs.a.createElement("div",{className:"BarrageSuperLinkPop-header",__source:{fileName:oB,lineNumber:84},__self:this},rs.a.createElement("i",{className:"BarrageSuperLinkPop-logo",__source:{fileName:oB,lineNumber:85},__self:this}),rs.a.createElement("div",{className:"BarrageSuperLinkPop-title",__source:{fileName:oB,lineNumber:86},__self:this},rs.a.createElement("h2",{className:"BarrageSuperLinkPop-bigTitle",__source:{fileName:oB,lineNumber:87},__self:this},"\u8d85\u94fe\u5f39\u5e55"),rs.a.createElement("div",{className:"BarrageSuperLinkPop-smallTitle",__source:{fileName:oB,lineNumber:88},__self:this},rs.a.createElement("span",{className:"BarrageSuperLinkPop-desc",__source:{fileName:oB,lineNumber:89},__self:this},"\u60f3\u53bb\u54ea\uff1f\u6211\u7684\u5f39\u5e55\u5f15\u5bfc\u4f60~"),rs.a.createElement("a",{href:"https://www.douyu.com/cms/gong/201801/05/7017.shtml",target:"_blank",onClick:function onClick(){return e.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_intro")},className:"BarrageSuperLinkPop-link",__source:{fileName:oB,lineNumber:90},__self:this},"\u4ecb\u7ecd")))),rs.a.createElement("div",{className:"BarrageSuperLinkPop-content",__source:{fileName:oB,lineNumber:100},__self:this},rs.a.createElement("span",{className:"BarrageSuperLinkPop-tips",__source:{fileName:oB,lineNumber:101},__self:this},"\u8bbe\u7f6e\u4ee5\u4e0b\u8df3\u8f6c\u94fe\u63a5\uff0c\u5176\u4ed6\u4eba\u70b9\u51fb\u4f60\u7684\u5f39\u5e55\u53ef\u76f4\u63a5\u8fc7\u53bb\u54df~"),rs.a.createElement("div",{className:"BarrageSuperLinkPop-from",__source:{fileName:oB,lineNumber:102},__self:this},rs.a.createElement("textarea",{className:"BarrageSuperLinkPop-area",type:"text",placeholder:"\u623f\u95f4\u53f7/\u9c7c\u5427\u8d34\u5b50\u94fe\u63a5/\u89c6\u9891\u94fe\u63a5",ref:function ref(t){e.textArea=t},__source:{fileName:oB,lineNumber:103},__self:this}))),rs.a.createElement("p",{className:["BarrageSuperLinkPop-errorDesc",t.superLinkError<=0?"is-noError":""].join(" "),__source:{fileName:oB,lineNumber:113},__self:this},function returnErrorDesc(e){switch(e.superLinkError){case 1:return"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5";case 2:return"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5\u4fe1\u606f";case 3:return"\u8bf7\u52ff\u91cd\u590d\u53d1\u9001\u5f39\u5e55\uff01";default:return""}}(t)))},BarrageSuperLinkPop}(rs.a.Component),eB=function Pop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ZT.prototype,"barrageSuperLinkServices",[XT],{enumerable:!0,initializer:null}),ZT),vB=(r("40a09"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),gB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/BarrageSuperLink.js";function BarrageSuperLink_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageSuperLink_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageSuperLink_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageSuperLink_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageSuperLink_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var yB,_B,NB,SB,CB=n.a.Service,wB=(lB=CB(ui.a),sB=CB(dn.a),cB=CB(YD),uB=CB(Vn.a),pB=function(e){function BarrageSuperLink(){var t,r;!function BarrageSuperLink_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLink);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageSuperLink_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageSuperLink_initDefineProp(r,"barrageSuperLinkServices",fB,r),BarrageSuperLink_initDefineProp(r,"chatCampService",dB,r),BarrageSuperLink_initDefineProp(r,"chatToolBarServices",bB,r),BarrageSuperLink_initDefineProp(r,"chatRoleBarrageServices",mB,r),BarrageSuperLink_possibleConstructorReturn(r,t)}return BarrageSuperLink_inherits(BarrageSuperLink,e),BarrageSuperLink.prototype.componentDidMount=function componentDidMount(){this.barrageSuperLinkServices.init(),this.togglePop=this.togglePop.bind(this),this.updateAreaText=this.updateAreaText.bind(this),this.updateLinkError=this.updateLinkError.bind(this)},BarrageSuperLink.prototype.togglePop=function togglePop(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkShow:e,type:"openPanel"}),e&&this.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon"),this.chatRoleBarrageServices.clearRoleBarrage(),this.chatCampService.closeChatCamp(),this.chatToolBarServices.updateCampColor(0,Ro.colorArr[0])},BarrageSuperLink.prototype.updateLinkError=function updateLinkError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.barrageSuperLinkServices.updateBarrageLinkData({superLinkError:e})},BarrageSuperLink.prototype.updateAreaText=function updateAreaText(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkContent:e})},BarrageSuperLink.prototype.render=function render(){var e=this,t=Object.assign({},this.props.BarrageSuperLinkData,{togglePop:this.togglePop,updateAreaText:this.updateAreaText,updateLinkError:this.updateLinkError});return t.superLinkSwitch<=0?null:rs.a.createElement("div",{className:"BarrageSuperLink",__source:{fileName:gB,lineNumber:69},__self:this},rs.a.createElement("i",{className:"BarrageSuperLink-icon",title:"\u8d85\u94fe\u5f39\u5e55",onClick:function onClick(){e.togglePop(1)},__source:{fileName:gB,lineNumber:70},__self:this}),rs.a.createElement(hB,vB({},t,{__source:{fileName:gB,lineNumber:78},__self:this})))},BarrageSuperLink}(rs.a.Component),fB=BarrageSuperLink_applyDecoratedDescriptor(pB.prototype,"barrageSuperLinkServices",[lB],{enumerable:!0,initializer:null}),dB=BarrageSuperLink_applyDecoratedDescriptor(pB.prototype,"chatCampService",[sB],{enumerable:!0,initializer:null}),bB=BarrageSuperLink_applyDecoratedDescriptor(pB.prototype,"chatToolBarServices",[cB],{enumerable:!0,initializer:null}),mB=BarrageSuperLink_applyDecoratedDescriptor(pB.prototype,"chatRoleBarrageServices",[uB],{enumerable:!0,initializer:null}),pB),OB=Object(Km.connect)(function mapStateToProps(e){return{BarrageSuperLinkData:e.BarrageSuperLinkData}})(wB),EB=(r("15f78"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatToolBar/ChatToolBar.js");function ChatToolBar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatToolBar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DB=(yB=(0,n.a.Service)(dn.a),Object(ee.log)((NB=function(e){function ChatToolBar(){!function ChatToolBar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBar);var t=function ChatToolBar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatToolBar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatCampService",SB,t),t.state={left:0},t.chatToolBarDom=rs.a.createRef(),t}return ChatToolBar_inherits(ChatToolBar,e),ChatToolBar.prototype.componentDidMount=function componentDidMount(){this.setState({left:this.chatToolBarDom.current.getBoundingClientRect().left})},ChatToolBar.prototype.render=function render(){var e=this.props.isInit,t=void 0!==e&&e;return rs.a.createElement("div",{className:"ChatToolBar",ref:this.chatToolBarDom,__source:{fileName:EB,lineNumber:47},__self:this},rs.a.createElement(ck,{__source:{fileName:EB,lineNumber:48},__self:this}),rs.a.createElement(Ok,{__source:{fileName:EB,lineNumber:49},__self:this}),rs.a.createElement(Zk,{__source:{fileName:EB,lineNumber:50},__self:this}),rs.a.createElement(Kj,{toolBarleft:this.state.left,__source:{fileName:EB,lineNumber:51},__self:this}),t?rs.a.createElement(WP,{__source:{fileName:EB,lineNumber:53},__self:this}):rs.a.createElement(RR,{toolBarleft:this.state.left,__source:{fileName:EB,lineNumber:53},__self:this}),rs.a.createElement(dP,{__source:{fileName:EB,lineNumber:55},__self:this}),rs.a.createElement(rB,{__source:{fileName:EB,lineNumber:56},__self:this}),rs.a.createElement(OB,{__source:{fileName:EB,lineNumber:57},__self:this}),rs.a.createElement(tT,{__source:{fileName:EB,lineNumber:58},__self:this}))},ChatToolBar}(rs.a.Component),SB=function ChatToolBar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(NB.prototype,"chatCampService",[yB],{enumerable:!0,initializer:null}),_B=NB))||_B),kB=Object(Km.connect)(function mapStateToProps(e){return{isInit:e.chatCamp.isInit}})(DB),jB="/shark/live/src/pages/roomPage/playerAsideModule/components/Chat/Chat.js";function Chat_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Chat_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var RB,PB,TB,BB,LB,zB,MB,AB=function(e){function Chat(){return function Chat_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Chat),function Chat_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return Chat_inherits(Chat,e),Chat.prototype.render=function render(){return rs.a.createElement("div",{className:"Chat",__source:{fileName:jB,lineNumber:17},__self:this},rs.a.createElement(kB,{className:"Chat-toolbar",__source:{fileName:jB,lineNumber:18},__self:this}),rs.a.createElement(uD,{className:"Chat-speak",__source:{fileName:jB,lineNumber:19},__self:this}))},Chat}(rs.a.Component),IB=(r("088e8"),r("8e6e5"),r("c4595")),FB=r("7ee03"),xB=r.n(FB),GB=(r("04004"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),UB="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterLevel120/EnterLevel120.js";function EnterLevel120_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var HB=n.a.Service,WB=(RB=HB(It),PB=HB(Mf),TB=HB(m.DataCenter.global),BB=function(e){function EnterLevel120(t){!function EnterLevel120_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120);var r=function EnterLevel120_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return EnterLevel120_initDefineProp(r,"enterLevel120Service",LB,r),EnterLevel120_initDefineProp(r,"enterEffectService",zB,r),EnterLevel120_initDefineProp(r,"global",MB,r),r.width=336,r.deirect="bottom",r.reset=r.reset.bind(r),r.imgOnload=r.imgOnload.bind(r),r.state={isRender:!0,isOnload:!1},r}return EnterLevel120_inherits(EnterLevel120,e),EnterLevel120.prototype.componentWillMount=function componentWillMount(){this.enterLevel120Service.findEnterLevel120ByEpic()},EnterLevel120.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0,isOnload:!1})},EnterLevel120.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer)),this.imgTimer&&clearTimeout(this.imgTimer)},EnterLevel120.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(vo)},e))},EnterLevel120.prototype.matchEid=function matchEid(e){var t=void 0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return+r.ceid===+e&&(t=r),+r.ceid===+e}),t},EnterLevel120.prototype.imgOnload=function imgOnload(e){var t=this;return!(!this.imgBg||!this.imgSwf)||(this.imgBg=new Image,this.imgSwf=new Image,!!this.imgSwf.complete||(this.imgSwf.onload=function(){t.callback()},this.imgTimer&&clearTimeout(this.imgTimer),this.imgTimer=setTimeout(function(){t.callback()},500),this.imgBg.src=e.webImg,this.imgSwf.src=e.webImgSwf,!1))},EnterLevel120.prototype.callback=function callback(){this.setState({isOnload:!0})},EnterLevel120.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=window.location.protocol+"//"+window.location.host+"/",r=GB({},this.props.data),i=r.ceid,n=r.ic,a=r.nn,o=this.matchEid(i,this.props.config);if(o&&(this.state.isOnload||this.imgOnload(o))){var l=GB({},o),s=l.bgHeight,c=l.webImg,u=l.webImgSwf,p=l.imgHeight,f=l.fontColor,d=l.fontHeight,b=l.nameColor,m=GB({},o),h=m.welcomeContent,v=void 0===h?"":h,g=m.occurrenceMode,y=void 0===g?1:g,_=v.split("%username%")||[],N=_[0],S=void 0===N?"":N,C=_[1],w=void 0===C?"":C,O=["bottom","top","left","right"][y-1]||"bottom",E={},D={};return E[O]=3===+y||4===+y?-parseInt(this.width,10)||1:-parseInt(s,10)||1,D[O]=Object(IB.spring)(0,{stiffness:30,damping:10}),this.reset(4e3),rs.a.createElement(IB.Motion,{defaultStyle:E,style:D,__source:{fileName:UB,lineNumber:150},__self:this},function(r){return rs.a.createElement("div",{className:"EnterLevel120",style:GB({height:s+"px"},r),__source:{fileName:UB,lineNumber:156},__self:e},rs.a.createElement("div",{className:"EnterLevel120-content",__source:{fileName:UB,lineNumber:157},__self:e},rs.a.createElement("img",{className:"EnterLevel120-flashbg",src:"//sta-op.douyucdn.cn/"+c,__source:{fileName:UB,lineNumber:158},__self:e}),rs.a.createElement("object",{autoPlay:"autoPlay",className:"EnterLevel120-object",__source:{fileName:UB,lineNumber:159},__self:e},rs.a.createElement("embed",{className:"EnterLevel120-embed",type:"application/x-shockwave-flash",src:t+u,wmode:"transparent",__source:{fileName:UB,lineNumber:160},__self:e})),rs.a.createElement("div",{className:"EnterLevel120-icon",style:{top:p+"px"},__source:{fileName:UB,lineNumber:164},__self:e},rs.a.createElement(xC.a,{className:"EnterLevel120-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:UB,lineNumber:165},__self:e})),rs.a.createElement("div",{className:"EnterLevel120-introWrap",style:{color:f,top:d+"px"},__source:{fileName:UB,lineNumber:169},__self:e},rs.a.createElement("div",{className:"EnterLevel120-intro",__source:{fileName:UB,lineNumber:171},__self:e},rs.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:UB,lineNumber:172},__self:e},S),rs.a.createElement("span",{className:"EnterLevel120-name",style:{color:b},__source:{fileName:UB,lineNumber:173},__self:e},a||"\u865a\u4f4d\u4ee5\u5f85"),rs.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:UB,lineNumber:175},__self:e},w)))))})}return this.reset(0),null}return null},EnterLevel120}(rs.a.Component),LB=EnterLevel120_applyDecoratedDescriptor(BB.prototype,"enterLevel120Service",[RB],{enumerable:!0,initializer:null}),zB=EnterLevel120_applyDecoratedDescriptor(BB.prototype,"enterEffectService",[PB],{enumerable:!0,initializer:null}),MB=EnterLevel120_applyDecoratedDescriptor(BB.prototype,"global",[TB],{enumerable:!0,initializer:null}),BB),VB=Object(Km.connect)(function mapStateToProps(e){return{config:e.chatEnterLevel120.config}})(WB),$B=r("97227"),KB=r.n($B),qB=r("745b2"),QB=r.n(qB),JB=r("7e34b"),YB=r.n(JB),XB=r("3b420"),ZB=r.n(XB),eL=r("6b3a2"),tL=r.n(eL),rL=r("02c94"),iL=r.n(rL),nL=r("17caf"),aL=r.n(nL),oL=r("5ac8e"),lL=r.n(oL),sL=r("f2f3e"),cL=r.n(sL),uL={enterBg4:KB.a,enterBg5:QB.a,enterBg6:YB.a,video4:ZB.a,video5:tL.a,video6:iL.a,swf4:aL.a,swf5:lL.a,swf6:cL.a},pL=(r("736a7"),r("fcf3d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNobleCard/EnterNobleCard.js"),fL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterNobleCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNobleCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dL,bL,mL,hL,vL,gL=function(e){function EnterNobleCard(){return function EnterNobleCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNobleCard),function EnterNobleCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterNobleCard_inherits(EnterNobleCard,e),EnterNobleCard.prototype.render=function render(){var e=fL({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.nobleName,o=void 0===a?"":a;return rs.a.createElement("div",{className:"EnterNobleCard is-level"+t,__source:{fileName:pL,lineNumber:17},__self:this},rs.a.createElement("div",{className:"EnterNobleCard-icon",__source:{fileName:pL,lineNumber:18},__self:this},rs.a.createElement("div",{className:"EnterNobleCard-bd is-level"+t,__source:{fileName:pL,lineNumber:19},__self:this}),rs.a.createElement(xC.a,{className:"EnterNobleCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:pL,lineNumber:20},__self:this})),rs.a.createElement("h2",{className:"EnterNobleCard-nickName is-level"+t,__source:{fileName:pL,lineNumber:23},__self:this},i),rs.a.createElement("p",{className:"EnterNobleCard-nobleName",__source:{fileName:pL,lineNumber:24},__self:this},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))},EnterNobleCard}(rs.a.Component),yL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_L="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNoble.js";function EnterNoble_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterNoble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNoble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterNoble_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var NL=n.a.Service,SL=(dL=NL(Mf),bL=NL(m.DataCenter.common),mL=function(e){function EnterNoble(){!function EnterNoble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNoble);var t=function EnterNoble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterNoble_initDefineProp(t,"enterEffectService",hL,t),EnterNoble_initDefineProp(t,"common",vL,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterNoble_inherits(EnterNoble,e),EnterNoble.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(go)},5e3))},EnterNoble.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNoble.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNoble.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterNoble.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=yL({},this.props.data).nl,r=this.state.config[t]&&this.state.config[t].noble_name||"";return this.reset(),rs.a.createElement(IB.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(IB.spring)(225,{stiffness:30,damping:10}),opacity:Object(IB.spring)(1,{stiffness:30,damping:10})},__source:{fileName:_L,lineNumber:77},__self:this},function(i){return rs.a.createElement("div",{className:"EnterNoble",style:i,__source:{fileName:_L,lineNumber:89},__self:e},rs.a.createElement("div",{className:"EnterNoble-main is-level"+t,__source:{fileName:_L,lineNumber:90},__self:e},rs.a.createElement("img",{className:"EnterNoble-bg is-level"+t,src:uL["enterBg"+t],__source:{fileName:_L,lineNumber:91},__self:e}),rs.a.createElement("video",{className:"EnterNoble-video is-level"+t,autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:_L,lineNumber:92},__self:e},rs.a.createElement("source",{src:uL["video"+t],type:"video/mp4",__source:{fileName:_L,lineNumber:94},__self:e})),rs.a.createElement(gL,yL({},e.props.data,{nobleName:r,__source:{fileName:_L,lineNumber:96},__self:e}))))})}return null},EnterNoble}(rs.a.Component),hL=EnterNoble_applyDecoratedDescriptor(mL.prototype,"enterEffectService",[dL],{enumerable:!0,initializer:null}),vL=EnterNoble_applyDecoratedDescriptor(mL.prototype,"common",[bL],{enumerable:!0,initializer:null}),mL),CL=(r("77855"),r("5e1b7"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloudCard/EnterWindCloudCard.js"),wL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterWindCloudCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloudCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var OL,EL,DL,kL,jL,RL=function(e){function EnterWindCloudCard(){return function EnterWindCloudCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloudCard),function EnterWindCloudCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterWindCloudCard_inherits(EnterWindCloudCard,e),EnterWindCloudCard.prototype.render=function render(){var e=wL({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.wcConfig,o=void 0===a?{}:a,l=o.wText,s={color:o.nkColor},c={color:o.nColor};return rs.a.createElement("div",{className:"EnterWindCloudCard is-level"+t,__source:{fileName:CL,lineNumber:26},__self:this},rs.a.createElement("div",{className:"EnterWindCloudCard-icon",__source:{fileName:CL,lineNumber:27},__self:this},rs.a.createElement(xC.a,{className:"EnterWindCloudCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:CL,lineNumber:28},__self:this})),rs.a.createElement("h2",{className:"EnterWindCloudCard-nickName is-level"+t,style:s,__source:{fileName:CL,lineNumber:31},__self:this},i),rs.a.createElement("p",{className:"EnterWindCloudCard-nobleName",style:c,__source:{fileName:CL,lineNumber:32},__self:this},l))},EnterWindCloudCard}(rs.a.Component),PL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},TL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloud.js";function EnterWindCloud_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterWindCloud_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloud_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterWindCloud_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var BL,LL,zL,ML=n.a.Service,AL=(OL=ML(Mf),EL=ML(m.DataCenter.common),DL=function(e){function EnterWindCloud(){!function EnterWindCloud_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloud);var t=function EnterWindCloud_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterWindCloud_initDefineProp(t,"enterEffectService",kL,t),EnterWindCloud_initDefineProp(t,"common",jL,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterWindCloud_inherits(EnterWindCloud,e),EnterWindCloud.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(yo)},5e3))},EnterWindCloud.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterWindCloud.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterWindCloud.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterWindCloud.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=PL({},this.props.data),r=t.nl,i=t.wcConfig,n=this.state.config[r]&&this.state.config[r].noble_name||"",a=i.enterBg;return this.reset(),rs.a.createElement(IB.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(IB.spring)(405,{stiffness:30,damping:10}),opacity:Object(IB.spring)(1,{stiffness:30,damping:10})},__source:{fileName:TL,lineNumber:77},__self:this},function(t){return rs.a.createElement("div",{className:"EnterWindCloud",style:t,__source:{fileName:TL,lineNumber:89},__self:e},rs.a.createElement("div",{className:"EnterWindCloud-main is-level"+r,__source:{fileName:TL,lineNumber:90},__self:e},rs.a.createElement("img",{className:"EnterWindCloud-bg is-level"+r,src:a,__source:{fileName:TL,lineNumber:91},__self:e}),rs.a.createElement(RL,PL({},e.props.data,{nobleName:n,__source:{fileName:TL,lineNumber:92},__self:e}))))})}return null},EnterWindCloud}(rs.a.Component),kL=EnterWindCloud_applyDecoratedDescriptor(DL.prototype,"enterEffectService",[OL],{enumerable:!0,initializer:null}),jL=EnterWindCloud_applyDecoratedDescriptor(DL.prototype,"common",[EL],{enumerable:!0,initializer:null}),DL),IL=(r("a2371"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),FL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterCharge/EnterCharge.js";function EnterCharge_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterCharge_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var xL,GL,UL,HL=(BL=(0,n.a.Service)(m.DataCenter.common),LL=function(e){function EnterCharge(){!function EnterCharge_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterCharge);var t=function EnterCharge_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterCharge_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"common",zL,t),t.state={config:{}},t}return EnterCharge_inherits(EnterCharge,e),EnterCharge.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.effectInfo")||{}})})},EnterCharge.prototype.render=function render(){var e=this,t=this.props,r=t.data,i=t.eid,n=this.state.config[i];if(n){var a=r.nn,o=void 0===a?"":a,l=r.ic,s=IL({},n),c=s.icon,u=void 0===c?"":c,p=s.txt,f=(void 0===p?"":p).replace("{uname}",'<span class="EnterCharge-username" title='+o+">"+o+"</span>").replace("|","<br/>");return rs.a.createElement(IB.Motion,{defaultStyle:{bottom:-150},style:{bottom:Object(IB.spring)(0,{stiffness:30,damping:10})},__source:{fileName:FL,lineNumber:45},__self:this},function(t){return rs.a.createElement("div",{className:"EnterCharge",style:t,__source:{fileName:FL,lineNumber:55},__self:e},rs.a.createElement(xC.a,{className:"EnterCharge-avatar",src:"//apic.douyucdn.cn/upload/"+l+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:FL,lineNumber:56},__self:e}),rs.a.createElement("div",{className:"EnterCharge-info",__source:{fileName:FL,lineNumber:60},__self:e},rs.a.createElement("p",{className:"EnterCharge-detail",dangerouslySetInnerHTML:{__html:f},__source:{fileName:FL,lineNumber:61},__self:e})),rs.a.createElement("img",{className:"EnterCharge-icon",src:"//res.douyucdn.cn/resource/"+u,__source:{fileName:FL,lineNumber:63},__self:e}))})}return null},EnterCharge}(rs.a.Component),zL=function EnterCharge_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(LL.prototype,"common",[BL],{enumerable:!0,initializer:null}),LL);r("b26a7");function EnterNormal_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNormal_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var WL,VL,$L,KL=(xL=(0,n.a.Service)(Mf),GL=function(e){function EnterNormal(){!function EnterNormal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNormal);var t=function EnterNormal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterNormal_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",UL,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterNormal_inherits(EnterNormal,e),EnterNormal.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(_o)},e))},EnterNormal.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNormal.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNormal.prototype.render=function render(){if(this.state.isRender&&this.props.data){var e=this.props.data||{},t=e.el,r=t.etp,i=t.ef,n=t.eid;return 2===+r&&1===+i?(this.reset(3e3),rs.a.createElement(HL,{data:e,eid:n,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNormal/EnterNormal.js",lineNumber:63},__self:this})):(this.reset(0),null)}return null},EnterNormal}(rs.a.Component),UL=function EnterNormal_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(GL.prototype,"enterEffectService",[xL],{enumerable:!0,initializer:null}),GL),qL=(r("332a2"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),QL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterMotorcade/EnterMotorcade.js";function EnterMotorcade_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterMotorcade_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var JL,YL,XL,ZL,ez,tz=(WL=(0,n.a.Service)(Mf),VL=function(e){function EnterMotorcade(){!function EnterMotorcade_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterMotorcade);var t=function EnterMotorcade_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterMotorcade_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",$L,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterMotorcade_inherits(EnterMotorcade,e),EnterMotorcade.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(No)},5e3))},EnterMotorcade.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterMotorcade.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterMotorcade.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=qL({},this.props.data),r=t.icon,i=t.nn,n=void 0===i?"":i;return this.reset(),rs.a.createElement(IB.Motion,{defaultStyle:{bottom:30},style:{bottom:Object(IB.spring)(0,{stiffness:30,damping:10})},__source:{fileName:QL,lineNumber:63},__self:this},function(t){return rs.a.createElement("div",{className:"EnterMotorcade",style:t,__source:{fileName:QL,lineNumber:73},__self:e},rs.a.createElement("div",{className:"EnterMotorcade-icon",__source:{fileName:QL,lineNumber:74},__self:e},rs.a.createElement(xC.a,{className:"EnterMotorcade-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:QL,lineNumber:75},__self:e})),rs.a.createElement("div",{className:"EnterMotorcade-info",__source:{fileName:QL,lineNumber:80},__self:e},rs.a.createElement("div",{className:"EnterMotorcade-main",__source:{fileName:QL,lineNumber:81},__self:e},rs.a.createElement("h2",{className:"EnterMotorcade-nickName",title:n,__source:{fileName:QL,lineNumber:82},__self:e},n),rs.a.createElement("p",{className:"EnterMotorcade-describe",__source:{fileName:QL,lineNumber:83},__self:e},"\u6b63\u5728\u53ec\u5524\u8f66\u961f\u6210\u5458"))))})}return null},EnterMotorcade}(rs.a.Component),$L=function EnterMotorcade_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(VL.prototype,"enterEffectService",[WL],{enumerable:!0,initializer:null}),VL),rz=r("acc11"),iz=r.n(rz),nz=r("d2e0b"),az=r.n(nz),oz=r("64c1f"),lz=r.n(oz),sz=r("b6666"),cz=r.n(sz),uz=r("feee3"),pz=r.n(uz),fz=r("932af"),dz=r.n(fz),bz={enterBg4:iz.a,enterBg5:az.a,enterBg6:lz.a,video4:cz.a,video5:pz.a,video6:dz.a},mz=(r("7a6d1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),hz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterShark/EnterShark.js";function EnterShark_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterShark_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterShark_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterShark_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vz,gz,yz,_z=n.a.Service,Nz=(JL=_z(Mf),YL=_z(m.DataCenter.common),XL=function(e){function EnterShark(){!function EnterShark_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterShark);var t=function EnterShark_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterShark_initDefineProp(t,"enterEffectService",ZL,t),EnterShark_initDefineProp(t,"common",ez,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterShark_inherits(EnterShark,e),EnterShark.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(So)},5e3))},EnterShark.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterShark.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterShark.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterShark.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=mz({},this.props.data),r=t.ic,i=t.nn,n=void 0===i?"":i,a=t.nl,o=this.state.config[a]&&this.state.config[a].noble_name||"";return this.reset(),rs.a.createElement(IB.Motion,{defaultStyle:{bottom:-405},style:{bottom:Object(IB.spring)(0,{stiffness:30,damping:10})},__source:{fileName:hz,lineNumber:76},__self:this},function(t){return a>3&&a<7?rs.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:hz,lineNumber:88},__self:e},rs.a.createElement("video",{className:"EnterShark-video",autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:hz,lineNumber:89},__self:e},rs.a.createElement("source",{src:bz["video"+a],type:"video/mp4",__source:{fileName:hz,lineNumber:90},__self:e})),rs.a.createElement("div",{className:"EnterShark-content is-noble"+a,__source:{fileName:hz,lineNumber:92},__self:e},rs.a.createElement(xC.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:hz,lineNumber:93},__self:e}),rs.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:hz,lineNumber:97},__self:e},n),rs.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:hz,lineNumber:98},__self:e},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))):rs.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:hz,lineNumber:105},__self:e},rs.a.createElement("div",{className:"EnterShark-content",__source:{fileName:hz,lineNumber:106},__self:e},rs.a.createElement(xC.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:xB.a,__source:{fileName:hz,lineNumber:107},__self:e}),rs.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:hz,lineNumber:111},__self:e},n),rs.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:hz,lineNumber:112},__self:e},"\u6b22\u8fce\u5e74\u5ea6\u795e\u8c6a\u5149\u4e34\u76f4\u64ad\u95f4")))})}return null},EnterShark}(rs.a.Component),ZL=EnterShark_applyDecoratedDescriptor(XL.prototype,"enterEffectService",[JL],{enumerable:!0,initializer:null}),ez=EnterShark_applyDecoratedDescriptor(XL.prototype,"common",[YL],{enumerable:!0,initializer:null}),XL),Sz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterEffect/EnterEffect.js";function EnterEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Cz=(vz=(0,n.a.Service)(Mf),gz=function(e){function EnterEffect(){var t,r;!function EnterEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EnterEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"enterEffectService",yz,r),EnterEffect_possibleConstructorReturn(r,t)}return EnterEffect_inherits(EnterEffect,e),EnterEffect.prototype.componentDidMount=function componentDidMount(){this.enterEffectService.init()},EnterEffect.prototype.render=function render(){var e=this.props.enterEffecUenter||{},t=e.normalQueue,r=void 0===t?[]:t,i=e.level120Queue,n=void 0===i?[]:i,a=e.nobleQueue,o=void 0===a?[]:a,l=e.windCloudQueue,s=void 0===l?[]:l,c=e.motorcadeQueue,u=void 0===c?[]:c,p=e.sharkQueue,f=void 0===p?[]:p;return rs.a.createElement("div",{className:"EnterEffect",__source:{fileName:Sz,lineNumber:41},__self:this},rs.a.createElement(KL,{data:r[0],__source:{fileName:Sz,lineNumber:42},__self:this}),rs.a.createElement(VB,{data:n[0],__source:{fileName:Sz,lineNumber:43},__self:this}),o.length?rs.a.createElement(SL,{data:o[0],__source:{fileName:Sz,lineNumber:44},__self:this}):"",s.length?rs.a.createElement(AL,{data:s[0],__source:{fileName:Sz,lineNumber:45},__self:this}):"",rs.a.createElement(tz,{data:u[0],__source:{fileName:Sz,lineNumber:46},__self:this}),f.length?rs.a.createElement(Nz,{data:f[0],__source:{fileName:Sz,lineNumber:47},__self:this}):"")},EnterEffect}(rs.a.Component),yz=function EnterEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gz.prototype,"enterEffectService",[vz],{enumerable:!0,initializer:null}),gz),wz=Object(Km.connect)(function mapStateToProps(e){return{enterEffecUenter:e.enterEffecUenter}})(Cz),Oz=(r("5f63d"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Ez="/shark/live/src/common/components/Grayscale/Grayscale.js";function Grayscale_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Grayscale_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}!function insertGrayscaleSvg(){var e="js-svg-grayscale";if(!document.querySelector("#"+e)){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg"),i=document.createElementNS(t,"filter"),n=document.createElementNS(t,"feColorMatrix");r.setAttributeNS(null,"version","1.1"),r.setAttributeNS(null,"style","position:absolute;left:-1000px;top:-1000px;"),i.setAttributeNS(null,"id",e),n.setAttributeNS(null,"type","matrix"),n.setAttributeNS(null,"values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(n),r.appendChild(i),(document.body||document.documentElement).appendChild(r)}}();var Dz,kz,jz,Rz,Pz,Tz,Bz=function(e){function Grayscale(t){!function Grayscale_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Grayscale);var r=function Grayscale_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state=t,r}return Grayscale_inherits(Grayscale,e),Grayscale.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props,r=t.width,i=t.height;if("undefined"===typeof r||"undefined"===typeof i){var n=new Image;n.onerror=function(){t.errorSrc&&e.setState({src:t.errorSrc}),e.onerror=null},n.onload=function(){e.setState({width:n.width,height:n.height})},n.src=t.src}},Grayscale.prototype.render=function render(){var e=this.state,t=e.width,r=e.height;return window.navigator.msPointerEnabled||window.navigator.pointerEnabled?rs.a.createElement("svg",{width:t,height:r,__source:{fileName:Ez,lineNumber:76},__self:this},rs.a.createElement("g",{__source:{fileName:Ez,lineNumber:77},__self:this},rs.a.createElement("title",{__source:{fileName:Ez,lineNumber:78},__self:this},e.title),rs.a.createElement("image",{xlinkHref:e.src,x:"0",y:"0",filter:"url(#js-svg-grayscale)",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"none meet",width:t,height:r,__source:{fileName:Ez,lineNumber:79},__self:this}))):rs.a.createElement("img",Oz({className:"Grayscale"},e,{__source:{fileName:Ez,lineNumber:92},__self:this}))},Grayscale}(rs.a.Component),Lz=(r("0b0db"),r("84e07")),zz=r.n(Lz),Mz="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleExpiredTip/NobleExpiredTip.js";function NobleExpiredTip_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTip_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Az=n.a.Service,Iz=(Dz=Az(ls.a),kz=Az(Ii),Object(ee.log)((Rz=function(e){function NobleExpiredTip(t){!function NobleExpiredTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTip);var r=function NobleExpiredTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return NobleExpiredTip_initDefineProp(r,"nobleBuyModalServices",Pz,r),NobleExpiredTip_initDefineProp(r,"nobleExpiredTipServices",Tz,r),r.state={isActive:0},r.openNobleBuyModal=r.openNobleBuyModal.bind(r),r.closeTip=r.closeTip.bind(r),r}return NobleExpiredTip_inherits(NobleExpiredTip,e),NobleExpiredTip.prototype.componentDidMount=function componentDidMount(){this.nobleExpiredTipServices.initSocket()},NobleExpiredTip.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;e.nobleExpiredTipData.nobleName&&e.nobleExpiredTipData.unfreezeDate&&(this.setState({isActive:1}),setTimeout(function(){t.closeTip()},2e4))},NobleExpiredTip.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeTip()},NobleExpiredTip.prototype.closeTip=function closeTip(){this.setState({isActive:0})},NobleExpiredTip.prototype.render=function render(){var e=this.props.nobleExpiredTipData,t=e.nobleImg,r=void 0===t?zz.a:t,i=e.nobleName,n=e.frozenNobleYc,a=e.savedMoney,o=this.state.isActive;return o&&this.nobleExpiredTipServices.setLocalStorage(),o?rs.a.createElement("div",{className:"NobleExpiredTip is-active",__source:{fileName:Mz,lineNumber:79},__self:this},rs.a.createElement("div",{className:"NobleExpiredTip-badge--large",__source:{fileName:Mz,lineNumber:80},__self:this},rs.a.createElement(Bz,{src:r,width:"100",height:"100",__source:{fileName:Mz,lineNumber:81},__self:this})),rs.a.createElement("div",{className:"NobleExpiredTip-content",__source:{fileName:Mz,lineNumber:83},__self:this},rs.a.createElement("h3",{className:"NobleExpiredTip-identity",__source:{fileName:Mz,lineNumber:84},__self:this},"\u60a8\u7684",i,"\u8eab\u4efd\u5df2\u8fc7\u671f"),n>0?rs.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Mz,lineNumber:90},__self:this},rs.a.createElement("span",{className:"NobleExpiredTip-yc--noble",__source:{fileName:Mz,lineNumber:91},__self:this},n,"\u8d35\u65cf\u9c7c\u7fc5"),"\u5df2\u88ab\u51bb\u7ed3"):rs.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Mz,lineNumber:92},__self:this}),a>0?rs.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Mz,lineNumber:95},__self:this},rs.a.createElement("p",{__source:{fileName:Mz,lineNumber:96},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5\uff0c"),rs.a.createElement("p",{__source:{fileName:Mz,lineNumber:97},__self:this},"\u4eab\u7eed\u8d39\u4ef7\u683c",rs.a.createElement("span",{className:"NobleExpiredTip-savedMoney",__source:{fileName:Mz,lineNumber:97},__self:this},"\u8282\u7701",a,"\u5143"))):rs.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Mz,lineNumber:98},__self:this},rs.a.createElement("p",{__source:{fileName:Mz,lineNumber:98},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5")),rs.a.createElement("div",{className:"NobleExpiredTip-btn--renew",onClick:this.openNobleBuyModal,__source:{fileName:Mz,lineNumber:100},__self:this},"\u7eed\u8d39\u8d35\u65cf"),rs.a.createElement("div",{className:"NobleExpiredTip-btn--close",onClick:this.closeTip,__source:{fileName:Mz,lineNumber:101},__self:this},"\xd7"))):null},NobleExpiredTip}(rs.a.Component),Pz=NobleExpiredTip_applyDecoratedDescriptor(Rz.prototype,"nobleBuyModalServices",[Dz],{enumerable:!0,initializer:null}),Tz=NobleExpiredTip_applyDecoratedDescriptor(Rz.prototype,"nobleExpiredTipServices",[kz],{enumerable:!0,initializer:null}),jz=Rz))||jz),Fz=Object(Km.connect)(function mapStateToProps(e){return{nobleExpiredTipData:e.nobleExpiredTipData}})(Iz),xz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/ChatEffect.js";function ChatEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Gz,Uz,Hz,Wz,Vz,$z,Kz,qz,Qz,Jz,Yz=function(e){function ChatEffect(){return function ChatEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffect),function ChatEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatEffect_inherits(ChatEffect,e),ChatEffect.prototype.render=function render(){return rs.a.createElement("div",{className:"ChatEffect",__source:{fileName:xz,lineNumber:16},__self:this},rs.a.createElement(wz,{__source:{fileName:xz,lineNumber:17},__self:this}),rs.a.createElement(Fz,{__source:{fileName:xz,lineNumber:18},__self:this}))},ChatEffect}(rs.a.Component),Xz=r("adbce"),Zz=r("67ef6"),eM=(r("9e3bf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),tM="/shark/live/src/pages/roomPage/playerAsideModule/components/FollowTips/FollowTips.js";function FollowTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FollowTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FollowTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FollowTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rM=n.a.Service,iM={barrage:"13010020D003",gift:"13010020D002"},nM=(Gz=rM(m.DataCenter.global),Uz=rM(m.DataCenter.common),Hz=rM(Xz.a),Wz=rM(Zz.a),Object(ee.log)(($z=function(e){function FollowTips(){!function FollowTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FollowTips);var t=function FollowTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FollowTips_initDefineProp(t,"global",Kz,t),FollowTips_initDefineProp(t,"common",qz,t),FollowTips_initDefineProp(t,"followServices",Qz,t),FollowTips_initDefineProp(t,"followTipsServices",Jz,t),t.showDys=function(e){Object(pr.dysub2)(eM({action_code:iM[e],event_id:2},t.dysParams))},t.followed=function(e){return function(){Object(pr.dysub2)(eM({action_code:iM[e],event_id:1},t.dysParams)),t.followServices.follow({type:"followTips"})}},t.dysParams={},t.isAnchor=+t.global.get("USER_INFO.uid")===+t.global.get("$ROOM.owner_uid"),t}return FollowTips_inherits(FollowTips,e),FollowTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.dysParams={room_id:t.get("room.room_id"),tag_id:t.get("room.cate_id"),type:1}})},FollowTips.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=(e.titleData||{}).followed;(this.props.titleData||{}).followed&&!t&&(this.followTipsServices.clearTimer(),this.followTipsServices.hide())},FollowTips.prototype.render=function render(){var e=this.props.titleData,t=e.followed,r=void 0===t?0:t,i=e.type,n=this.props.followTipsData,a=n.type,o=n.visible;if(this.isAnchor||r&&"followTips"!==i||!a||!o)return null;if(r&&"followTips"===i)return this.followTipsServices.followHideCountDown(),rs.a.createElement("div",{className:"FollowTips",__source:{fileName:tM,lineNumber:93},__self:this},"\u5df2\u5173\u6ce8");var l=null;if(o)switch(this.showDys(a),a){case"barrage":l=rs.a.createElement("div",{className:"FollowTips FollowTips--barrage",onClick:this.followed(a),__source:{fileName:tM,lineNumber:103},__self:this},rs.a.createElement("i",{__source:{fileName:tM,lineNumber:107},__self:this}),"+ \u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def");break;case"gift":l=rs.a.createElement("div",{className:"FollowTips",__source:{fileName:tM,lineNumber:112},__self:this},rs.a.createElement("span",{className:"FollowTips-text",__source:{fileName:tM,lineNumber:113},__self:this},"\u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def"),rs.a.createElement("div",{className:"FollowTips-btn",onClick:this.followed(a),__source:{fileName:tM,lineNumber:116},__self:this},"\u5173\u6ce8"))}return l},FollowTips}(rs.a.Component),Kz=FollowTips_applyDecoratedDescriptor($z.prototype,"global",[Gz],{enumerable:!0,initializer:null}),qz=FollowTips_applyDecoratedDescriptor($z.prototype,"common",[Uz],{enumerable:!0,initializer:null}),Qz=FollowTips_applyDecoratedDescriptor($z.prototype,"followServices",[Hz],{enumerable:!0,initializer:null}),Jz=FollowTips_applyDecoratedDescriptor($z.prototype,"followTipsServices",[Wz],{enumerable:!0,initializer:null}),Vz=$z))||Vz);nM.propTypes={followTipsData:$m.a.object.isRequired,titleData:$m.a.object.isRequired};var aM,oM,lM,sM=Object(Km.connect)(function mapStateToProps(e){return{followTipsData:e.followTipsData,titleData:e.titleData}})(nM);r("9f9d1");function chatRankAllServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankAllServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var cM,uM,pM,fM,dM,bM,mM,hM,vM=(aM=(0,n.a.Store)(),oM=function(e){function ChatRankAllServices(){var t,r;!function chatRankAllServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankAllServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function chatRankAllServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",lM,r),chatRankAllServices_possibleConstructorReturn(r,t)}return chatRankAllServices_inherits(ChatRankAllServices,e),ChatRankAllServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(Ho.openAllRank(!1))},ChatRankAllServices}(b.Service),lM=function chatRankAllServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(oM.prototype,"store",[aM],{enumerable:!0,initializer:null}),oM),gM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yM="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankAll/ChatRankAll.js";function ChatRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _M=n.a.Service,NM=(cM=_M(m.DataCenter.global),uM=_M(vM),pM=_M(ns.a),Object(ee.log)((dM=function(e){function RankAllMain(){!function ChatRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankAllMain);var t=function ChatRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankAll_initDefineProp(t,"global",bM,t),ChatRankAll_initDefineProp(t,"chatRankAllServices",mM,t),ChatRankAll_initDefineProp(t,"userCardModuleService",hM,t),t.state={isShow:!1},t.showUserCard=t.showUserCard.bind(t),t}return ChatRankAll_inherits(RankAllMain,e),RankAllMain.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:1===this.props.isCloseMonthRank?"month":"all"})},RankAllMain.prototype.close=function close(){this.chatRankAllServices.closeRankAll()},RankAllMain.prototype.render=function render(){var e=this,t=this.props||{},r=t.rankAllList||[],i=t.rankMonthData||[],n=this.props.defaultConfig,a=this.global.get("$SYS.avatar_url"),o=r,l=1===t.isCloseMonthRank;return l&&(o=i),t.isRankAllShow?rs.a.createElement("div",{className:"RankAllMain "+(this.props.isRankAllShow?"is-active":""),key:1,__source:{fileName:yM,lineNumber:83},__self:this},rs.a.createElement("div",{className:"RankAllMain-container",__source:{fileName:yM,lineNumber:84},__self:this},rs.a.createElement("div",{className:l?"RankAllMain-monthHeader RankAllMain-header":"RankAllMain-header",__source:{fileName:yM,lineNumber:85},__self:this},rs.a.createElement("a",{className:"RankAllMain-close",onClick:this.close.bind(this),__source:{fileName:yM,lineNumber:86},__self:this})),l?rs.a.createElement("div",{className:"RankAllMain-yzmonth-rankInfo",__source:{fileName:yM,lineNumber:88},__self:this},"\u6309\u7167\u6700\u8fd1",rs.a.createElement("span",{className:"highlight-color",__source:{fileName:yM,lineNumber:88},__self:this},"30\u5929"),"\u7d2f\u8ba1\u8d21\u732e\u503c\u8fdb\u884c\u6392\u540d"):"",rs.a.createElement("div",{className:"RankAllMain-content",__source:{fileName:yM,lineNumber:89},__self:this},rs.a.createElement(is.Scrollbars,{autoHeight:!0,autoHeightMax:412,__source:{fileName:yM,lineNumber:90},__self:this},rs.a.createElement("ul",{className:"RankAllMain-list",__source:{fileName:yM,lineNumber:94},__self:this},o.length?o.map(function(t,r){return r<3?rs.a.createElement(CS,{key:r,data:t,index:r,defaultConfig:n,class:l?"ChatRankWeek-yzmonthTop3Item":"",__source:{fileName:yM,lineNumber:99},__self:e}):rs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem "+(l?"RankAllMain-monthItem":""),__source:{fileName:yM,lineNumber:106},__self:e},rs.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:yM,lineNumber:108},__self:e},r+1),+t.nobleLevel>0?rs.a.createElement(bS.a,{level:t.nobleLevel,__source:{fileName:yM,lineNumber:110},__self:e}):"",t.isShowMedal?rs.a.createElement(rS.a,{userLevel:+t.userLevel,__source:{fileName:yM,lineNumber:113},__self:e}):"",rs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":"")+" "+(l?"ChatRankWeek-yzmonthNickname":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,gM({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:yM,lineNumber:115},__self:e},t.isShowInvisible?rs.a.createElement("span",{className:"r-nickname",__source:{fileName:yM,lineNumber:128},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),rs.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:yM,lineNumber:132},__self:e}),n.isFaceScore?rs.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:yM,lineNumber:137},__self:e},t.fgold,"\u8d21\u732e"):"")}):rs.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:yM,lineNumber:142},__self:this})))))):""},RankAllMain}(rs.a.Component),bM=ChatRankAll_applyDecoratedDescriptor(dM.prototype,"global",[cM],{enumerable:!0,initializer:null}),mM=ChatRankAll_applyDecoratedDescriptor(dM.prototype,"chatRankAllServices",[uM],{enumerable:!0,initializer:null}),hM=ChatRankAll_applyDecoratedDescriptor(dM.prototype,"userCardModuleService",[pM],{enumerable:!0,initializer:null}),fM=dM))||fM);NM.propTypes={};var SM,CM,wM,OM,EM,DM,kM,jM=Object(Km.connect)(function mapStateToProps(e){return{isRankAllShow:e.chatRankAllData.isRankAllShow,rankAllList:e.chatRankAllData.rankAllData,rankMonthData:e.chatRankAllData.rankMonthData,isCloseMonthRank:e.chatRank.isCloseMonthRank,defaultConfig:e.chatRankAllData.defaultConfig}})(NM),RM=r("b338d"),PM=r.n(RM),TM=(r("0f328"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),BM="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAllList/FansRankAllList.js";function FansRankAllList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankAllList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAllList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankAllList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var LM,zM,MM,AM=n.a.Service,IM=(SM=AM(m.DataCenter.global),CM=AM(m.DataCenter.common),wM=AM(ns.a),OM=function(e){function FansRankAllList(){!function FansRankAllList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAllList);var t=function FansRankAllList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankAllList_initDefineProp(t,"global",EM,t),FansRankAllList_initDefineProp(t,"common",DM,t),FansRankAllList_initDefineProp(t,"userCardModuleService",kM,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankAllList_inherits(FansRankAllList,e),FansRankAllList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankAllList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":PM.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=PM.a),n})},FansRankAllList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankAllList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankAllList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankAllList);return a.length>0?rs.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:BM,lineNumber:131},__self:this},a.map(function(a,o){var l=TM({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=TM({},a),f=p.isVisibility,d=p.isOwn;return!f||f&&(d||i||n)?rs.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:BM,lineNumber:141},__self:e},rs.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:BM,lineNumber:143},__self:e},o+1),o<3?rs.a.createElement(xC.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:PM.a,__source:{fileName:BM,lineNumber:147},__self:e}):"",rs.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,TM({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:BM,lineNumber:152},__self:e},f?s+"\uff08\u5df2\u9690\u8eab\uff09":s),rs.a.createElement(Yw.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:BM,lineNumber:163},__self:e})):rs.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:BM,lineNumber:170},__self:e},rs.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:BM,lineNumber:172},__self:e},o+1),o<3?rs.a.createElement(xC.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:PM.a,__source:{fileName:BM,lineNumber:176},__self:e}):"",rs.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,TM({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:BM,lineNumber:182},__self:e},s))})):rs.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:BM,lineNumber:201},__self:this},rs.a.createElement("div",{className:"FansRankAllList-noresulet",__source:{fileName:BM,lineNumber:202},__self:this}))},FansRankAllList}(rs.a.Component),EM=FansRankAllList_applyDecoratedDescriptor(OM.prototype,"global",[SM],{enumerable:!0,initializer:null}),DM=FansRankAllList_applyDecoratedDescriptor(OM.prototype,"common",[CM],{enumerable:!0,initializer:null}),kM=FansRankAllList_applyDecoratedDescriptor(OM.prototype,"userCardModuleService",[wM],{enumerable:!0,initializer:null}),OM),FM=Object(Km.connect)(function mapStateProps(e){return{fansRankAllList:e.getFansRank.fansRankAllList,roomFansMedal:e.getFansRank.roomFansMedal}})(IM),xM=(r("3fb05"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansUserInfo/FansUserInfo.js");function FansUserInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansUserInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansUserInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var GM,UM,HM,WM=(LM=(0,n.a.Service)(m.DataCenter.global),zM=function(e){function FansUserInfo(){var t,r;!function FansUserInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansUserInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansUserInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansUserInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"global",MM,r),FansUserInfo_possibleConstructorReturn(r,t)}return FansUserInfo_inherits(FansUserInfo,e),FansUserInfo.prototype.render=function render(){var e=this.global.get("$ROOM.room_id"),t=this.props||{},r=t.ownerFansRank,i=void 0===r?"--":r,n=t.ownerMedalLevel,a=t.roomFansMedal;return i&&n&&a?rs.a.createElement("div",{className:"FansUserInfo",__source:{fileName:xM,lineNumber:26},__self:this},rs.a.createElement("div",{className:"FansUserInfo-txt",__source:{fileName:xM,lineNumber:27},__self:this},"\u6211\u7684\u6392\u540d\uff1a",rs.a.createElement("div",{className:"FansUserInfo-rank",__source:{fileName:xM,lineNumber:29},__self:this},i>500?"500+":i)),rs.a.createElement(Yw.a,{type:"normal",name:a,medalId:e,lev:+n,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:xM,lineNumber:31},__self:this})):null},FansUserInfo}(rs.a.Component),MM=function FansUserInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(zM.prototype,"global",[LM],{enumerable:!0,initializer:null}),zM),VM=Object(Km.connect)(function mapStateProps(e){return{ownerFansRank:e.getFansRank.ownerFansRank,ownerMedalLevel:e.getFansRank.ownerMedalLevel,roomFansMedal:e.getFansRank.roomFansMedal}})(WM),$M=(r("14755"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAll.js");function FansRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var KM,qM,QM,JM,YM,XM,ZM=(GM=(0,n.a.Service)(Fw),UM=function(e){function FansRankAll(){!function FansRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAll);var t=function FansRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function FansRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"fansRankService",HM,t),t.hideFansRankAll=t.hideFansRankAll.bind(t),t}return FansRankAll_inherits(FansRankAll,e),FansRankAll.prototype.hideFansRankAll=function hideFansRankAll(){this.fansRankService.toggleFansRankAll(!1)},FansRankAll.prototype.render=function render(){return this.props.isShowFansRankAll?rs.a.createElement("div",{className:"FansRankAll "+(this.props.isShowFansRankAll?"is-show":""),__source:{fileName:$M,lineNumber:31},__self:this},rs.a.createElement("div",{className:"FansRankAll-wrap",__source:{fileName:$M,lineNumber:32},__self:this},rs.a.createElement("div",{className:"FansRankAll-header",__source:{fileName:$M,lineNumber:33},__self:this},rs.a.createElement("div",{className:"FansRankAll-close",onClick:this.hideFansRankAll,__source:{fileName:$M,lineNumber:34},__self:this})),rs.a.createElement(FM,{__source:{fileName:$M,lineNumber:36},__self:this}),rs.a.createElement(VM,{__source:{fileName:$M,lineNumber:37},__self:this}))):""},FansRankAll}(rs.a.Component),HM=function FansRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(UM.prototype,"fansRankService",[GM],{enumerable:!0,initializer:null}),UM),eA=Object(Km.connect)(function mapStateProps(e){return{isShowFansRankAll:e.getFansRank.isShowFansRankAll}})(ZM),tA=(r("ca62f"),"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleReminder/NobleReminder.js");function NobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rA,iA,nA,aA,oA,lA=n.a.Service,sA=(KM=lA(dS),qM=lA(ls.a),Object(ee.log)((JM=function(e){function NobleReminder(){var t,r;!function NobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleReminder_initDefineProp(r,"nobleReminderService",YM,r),NobleReminder_initDefineProp(r,"nobleBuyModalServices",XM,r),NobleReminder_possibleConstructorReturn(r,t)}return NobleReminder_inherits(NobleReminder,e),NobleReminder.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder()},NobleReminder.prototype.closeNobleReminder=function closeNobleReminder(){this.nobleReminderService.closeNobleReminder()},NobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleReminder()},NobleReminder.prototype.componentDidMount=function componentDidMount(){this.nobleReminderService.init()},NobleReminder.prototype.render=function render(){var e=this,t=this.props.openNobleReminder,r=this.props.nobleReminderType,i=t?rs.a.createElement("div",{className:"NobleReminder NobleReminder--mistery",__source:{fileName:tA,lineNumber:46},__self:this},rs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:tA,lineNumber:47},__self:this},rs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:tA,lineNumber:48},__self:this},"\xd7"),rs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:tA,lineNumber:49},__self:this},rs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:tA,lineNumber:50},__self:this},"\u6211\u662f\u795e\u79d8\u4eba\uff0c\u731c\u731c\u6211\u662f\u8c01\uff1f"),rs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:tA,lineNumber:51},__self:this},"\u8d21\u732e\u699c\u9690\u8eab\u2014\u56fd\u738b\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),rs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:tA,lineNumber:52},__self:this},"\u5f00\u901a\u8d35\u65cf")))):"",n=t?rh.a.createPortal(rs.a.createElement("div",{className:"NobleReminder NobleReminder--pk",__source:{fileName:tA,lineNumber:60},__self:this},rs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:tA,lineNumber:61},__self:this},rs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:tA,lineNumber:62},__self:this}),rs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:tA,lineNumber:63},__self:this},rs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:tA,lineNumber:64},__self:this},"\u53d1\u5f39\u5e55\u5f88\u7d2f\uff1f\u8fde\u9ea6\u4e92\u52a8\u4e00\u4e0b"),rs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:tA,lineNumber:65},__self:this},"\u8fde\u9ea6\u2014\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),rs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:tA,lineNumber:66},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.body):"",a=t?rh.a.createPortal(rs.a.createElement("div",{className:"NobleReminder NobleReminder--gift",__source:{fileName:tA,lineNumber:74},__self:this},rs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:tA,lineNumber:75},__self:this},rs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:tA,lineNumber:76},__self:this},"\xd7"),rs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:tA,lineNumber:77},__self:this},rs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:tA,lineNumber:78},__self:this},"\u60a8\u8fd8\u4e0d\u662f\u8d35\u65cf\u7528\u6237"),rs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:tA,lineNumber:79},__self:this},"\u8d35\u65cf\u793c\u7269-\u4f60\u7684\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),rs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:tA,lineNumber:80},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.getElementById("js-player-toolbar")):"",o=t?rh.a.createPortal(rs.a.createElement("div",{__source:{fileName:tA,lineNumber:88},__self:this},rs.a.createElement("div",{className:"NobleReminder-mask",__source:{fileName:tA,lineNumber:89},__self:this}),rs.a.createElement("div",{className:"NobleReminder NobleReminder--boardcast",__source:{fileName:tA,lineNumber:90},__self:this},rs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:tA,lineNumber:91},__self:this},rs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:tA,lineNumber:92},__self:this},"\xd7"),rs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:tA,lineNumber:93},__self:this},rs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:tA,lineNumber:94},__self:this},"\u627f\u5305\u6574\u4e2a\u533a\uff0c\u5927\u58f0\u8bf4\u51fa\u7231"),rs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:tA,lineNumber:95},__self:this},"\u5206\u533a\u5587\u53ed--\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),rs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:tA,lineNumber:96},__self:this},"\u5f00\u901a\u8d35\u65cf"))))),document.body):"";switch(+r){case 0:return i;case 1:return n;case 2:return a;case 3:return o;default:return null}},NobleReminder}(rs.a.Component),YM=NobleReminder_applyDecoratedDescriptor(JM.prototype,"nobleReminderService",[KM],{enumerable:!0,initializer:null}),XM=NobleReminder_applyDecoratedDescriptor(JM.prototype,"nobleBuyModalServices",[qM],{enumerable:!0,initializer:null}),QM=JM))||QM),cA=Object(Km.connect)(function mapStateToProps(e){return{openNobleReminder:e.openNobleReminder,nobleReminderType:e.updateNobleReminderType.nobleReminderType}})(sA),uA="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureGee.js";function TreasureGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TreasureGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TreasureGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pA=n.a.Service,fA=n.a.StoreFactory,dA=(rA=(0,n.a.Store)(fA),iA=pA(Zi.a),nA=function(e){function TreasureGee(){!function TreasureGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureGee);var t=function TreasureGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TreasureGee_initDefineProp(t,"store",aA,t),TreasureGee_initDefineProp(t,"treasureService",oA,t),t.state={hideGee:!1},t.timerRunning=!0,t.timer=null,t.geeFn=null,t}return TreasureGee_inherits(TreasureGee,e),TreasureGee.prototype.toggleGeeTips=function toggleGeeTips(){this.setState({hideGee:!0}),this.changePanelsStatus(0)},TreasureGee.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){(e.treasureDrawResult||{}).isShowGee&&this.setState({hideGee:!1})},TreasureGee.prototype.componentDidUpdate=function componentDidUpdate(){var e=this,t=(this.props.treasureDrawResult||{}).data||{},r=t.geetest||{};Object.keys(t).length?(1===t.validate||-2===parseInt(t.code,10))&&0===parseInt(r.code,10)?(this.geeFn?"function"===typeof this.geeFn.refresh&&this.geeFn.refresh():this.geeFn=Object(Ys.a)({geeInitParams:{isNeedCheck:!1,data:JSON.parse(r.validate_str)},geeOptions:{id:"TreasureGee-captcha",area:".treasure-captcha-gt"},success:function success(t){e.treasureService.drawTreasure(t,"check")},error:function error(){e.treasureService.showDrawTips(t),e.treasureService.cancelTreasure()}}),this.changePanelsStatus(1)):(this.treasureService.showDrawTips(t),this.treasureService.cancelTreasure(),this.setState({hideGee:!1})):this.geeFn&&this.geeFn.destroy&&(this.geeFn.destroy(),this.geeFn=null)},TreasureGee.prototype.changePanelsStatus=function changePanelsStatus(e){this.treasureService.changePanelsStatus(e)},TreasureGee.prototype.render=function render(){var e=(this.props.treasureDrawResult||{}).data||{},t=!0;return Object.keys(e).length&&!this.state.hideGee||(t=!1),rs.a.createElement("div",{className:"TreasureGee "+(t?"":"is-hide"),__source:{fileName:uA,lineNumber:116},__self:this},rs.a.createElement("span",{className:"TreasureGee-switch",onClick:this.toggleGeeTips.bind(this),__source:{fileName:uA,lineNumber:117},__self:this},"\xd7"),rs.a.createElement("span",{className:"TreasureGee-icon",__source:{fileName:uA,lineNumber:118},__self:this}),rs.a.createElement("p",{className:"TreasureGeeTitle",__source:{fileName:uA,lineNumber:119},__self:this},rs.a.createElement("span",{className:"TreasureGeeTitle-cff6700",__source:{fileName:uA,lineNumber:120},__self:this},"\u9a8c\u8bc1\u901a\u8fc7"),"\u540e\u53ef\u4ee5\u83b7\u5f97\u5b9d\u7bb1\u793c\u7269"),rs.a.createElement("div",{className:"TreasureGee-area",id:"TreasureGee-captcha",__source:{fileName:uA,lineNumber:122},__self:this},rs.a.createElement("div",{className:"treasure-captcha-gt",__source:{fileName:uA,lineNumber:123},__self:this})),rs.a.createElement("span",{className:"TreasureGee-arrow1",__source:{fileName:uA,lineNumber:125},__self:this}),rs.a.createElement("span",{className:"TreasureGee-arrow2",__source:{fileName:uA,lineNumber:126},__self:this}))},TreasureGee}(rs.a.Component),aA=TreasureGee_applyDecoratedDescriptor(nA.prototype,"store",[rA],{enumerable:!0,initializer:null}),oA=TreasureGee_applyDecoratedDescriptor(nA.prototype,"treasureService",[iA],{enumerable:!0,initializer:null}),nA);dA.propTypes={treasureDrawResult:$m.a.any};var bA=Object(Km.connect)(function mapStateToProps(e){return{treasureDrawResult:e.treasureDrawResult}})(dA),mA="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureInfo.js";function TreasureInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var hA,vA,gA,yA=function(e){function TreasureInfo(){!function TreasureInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureInfo);var t=function TreasureInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isShow:0},t.timerRunning=!0,t.timer=null,t}return TreasureInfo_inherits(TreasureInfo,e),TreasureInfo.prototype.render=function render(){var e=this,t=this.props.resource,r=t.source,i=t.isShowTips,n=t.isFinish;return r.length&&r[0]?rs.a.createElement("div",{className:"TreasureTips "+(i?"is-show":""),__source:{fileName:mA,lineNumber:25},__self:this},rs.a.createElement("img",{className:"TreasureTips-avatar",src:r[0].senderAvatar,__source:{fileName:mA,lineNumber:26},__self:this}),rs.a.createElement("div",{className:"TreasureInfo",__source:{fileName:mA,lineNumber:27},__self:this},rs.a.createElement("p",{className:"TreasureInfo-name",__source:{fileName:mA,lineNumber:28},__self:this},r[0].senderName),n?r[0].finishDesc.map(function(t,r){return rs.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:mA,lineNumber:34},__self:e},t)}):r[0].readyDesc.map(function(t,r){return rs.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:mA,lineNumber:41},__self:e},t)})),rs.a.createElement("i",{className:"TreasureTips-arrow",__source:{fileName:mA,lineNumber:46},__self:this})):null},TreasureInfo}(rs.a.Component),_A="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureDetail.js";function TreasureDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var NA,SA,CA,wA=(hA=(0,n.a.Service)(Zi.a),vA=function(e){function TreasureDetail(){!function TreasureDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureDetail);var t=function TreasureDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureDetail_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",gA,t),t.state={curPosition:650,loadingWidth:0,statusText:"loading...",isShowTips:!1,isFinish:!1,isBindPanelsShow:!1,isLoading:!0},t.resetAllConfig(),t}return TreasureDetail_inherits(TreasureDetail,e),TreasureDetail.prototype.resetAllConfig=function resetAllConfig(){this.config={startWidth:0,endWidth:1,startPosition:0,endPosition:484,isPollTimerRun:!1,isCanDraw:!1,countDownTimer:null,isLoading:!1,isGeeShow:!1,isExecuteNobind:!1,isMouseDown:0,isMouseUp:0,isAutoHidetips:0}},TreasureDetail.prototype.resetLoadingStatus=function resetLoadingStatus(){var e=this.config;this.setState({loadingWidth:0,statusText:"loading...",isFinish:!1,isLoading:!0}),Object.assign(this.config,{isCanDraw:!1}),clearTimeout(e.countDownTimer)},TreasureDetail.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,r=this.config,i=e.treasureData||{},n=i.isDestory||!1;i.isBanUser&&1===i.isBanUser&&this.props.treasureData.data&&this.props.treasureData.data.length&&this.treasureService.showDrawFailTips(),i.bindStatus&&!r.isExecuteNobind&&(r.isExecuteNobind=!0,this.setState({isBindPanelsShow:!0}),r.isAutoHidetips=setTimeout(function(){t.hideNobindPanels()},1e4)),r.isPollTimerRun&&n&&this.checkLoadingView()},TreasureDetail.prototype.runMapData=function runMapData(){var e=(this.props.treasureData||{}).type,t=this.config;this.setState({isShowTips:!1}),"Establish"===e?(this.setState({curPosition:t.startPosition}),this.dropDownView()):"Entrance"===e&&(this.setState({curPosition:t.endPosition}),this.checkLoadingView())},TreasureDetail.prototype.dropDownView=function dropDownView(){var e=this,t=null,r=this.config;t=setTimeout(function(){var i=r.startPosition;clearTimeout(t),(i=e.state.curPosition+60)>=r.endPosition&&(i=r.endPosition),e.setState({curPosition:i}),i<r.endPosition?e.dropDownView():e.checkLoadingView()},40)},TreasureDetail.prototype.checkLoadingView=function checkLoadingView(){var e=(this.props.treasureData.data||[])[0]||{};this.resetLoadingStatus(),Object.keys(e).length?this.loadingView():this.rejectUselessData()},TreasureDetail.prototype.loadingView=function loadingView(){var e=this,t=null,r=((this.props.treasureData.data||[])[0]||{}).delayTime||3,i=this.config;i.isLoading=!0,t=setTimeout(function(){var n=i.startWidth;clearTimeout(t),(n=e.state.loadingWidth+.1/r)>1&&(n=1),n<i.endWidth?(e.setState({loadingWidth:n,isLoading:!0}),e.loadingView()):(e.setState({loadingWidth:n}),i.isLoading=!1,e.countDownView())},40)},TreasureDetail.prototype.countDownView=function countDownView(){var e=this,t=this.props.treasureData.data||[],r=this.config;r.countDownTimer=null,r.countDownTimer=setTimeout(function(){clearTimeout(r.countDownTimer);var i=t[0]||{},n=parseInt((new Date).getTime()/1e3,10),a=parseInt(i.surplusTime-n,10),o=parseInt(i.destroyTime-n,10);return!r.isLoading&&(o>0?(a>0?(e.setState({statusText:ro.a.formatSecond(a,"m:s"),isFinish:!1,isLoading:!1}),r.isCanDraw=!1):(e.setState({statusText:"\u9886\u53d6",isFinish:!0,isLoading:!1}),r.isCanDraw=!0),e.countDownView()):e.rejectUselessData(),!0)},1e3)},TreasureDetail.prototype.rejectUselessData=function rejectUselessData(){var e=this.props.treasureData.data||[],t=this.config;e&&e.length?this.treasureService.cancelTreasure():(this.setState({curPosition:t.startPosition}),this.resetAllConfig())},TreasureDetail.prototype.drawTreaure=function drawTreaure(){var e=this,t=this.config.isCanDraw,r=this.config,i=(this.props.treasureData.data||[])[0];r.isMouseDown = 1;r.isMouseUp = 1;return this.props.treasureData.bindStatus||0?(this.setState({isBindPanelsShow:!0}),r.isAutoHidetips=setTimeout(function(){e.hideNobindPanels()},1e4),!1):!(!r.isMouseDown||!r.isMouseUp)&&(r.isMouseDown=0,r.isMouseUp=0,t&&i&&this.treasureService.drawTreasure(i,"init"),!0)},TreasureDetail.prototype.toggleUserInfo=function toggleUserInfo(e){var t=this.props.treasureData.bindStatus||0,r=this.props.treasureData.isGeePanelsShow||0,i=e;t&&(i=!1),r&&(i=!1),this.setState({isShowTips:i})},TreasureDetail.prototype.hideNobindPanels=function hideNobindPanels(){this.setState({isBindPanelsShow:!1}),clearTimeout(this.config.isAutoHidetips)},TreasureDetail.prototype.render=function render(){var e=this,t=this.state,r=this.props.treasureData.data||[],i=this.config,n=this.props.treasureData.bindStatus||0;return r.length?(i.isPollTimerRun||setTimeout(function(){i.isPollTimerRun=!0,e.runMapData()},20),rs.a.createElement("div",{className:"TreasureDetail",onMouseEnter:function onMouseEnter(){return e.toggleUserInfo(1)},onMouseLeave:function onMouseLeave(){return e.toggleUserInfo(0)},onMouseDown:function onMouseDown(){return e.config.isMouseDown=1},onMouseUp:function onMouseUp(){return e.config.isMouseUp=1},style:{top:this.state.curPosition+"px"},__source:{fileName:_A,lineNumber:325},__self:this},rs.a.createElement(yA,{resource:{source:r,isShowTips:t.isShowTips,isFinish:t.isFinish},__source:{fileName:_A,lineNumber:334},__self:this}),rs.a.createElement("div",{className:"BindPanels "+(t.isBindPanelsShow?"is-show":""),__source:{fileName:_A,lineNumber:339},__self:this},rs.a.createElement("span",{className:"BindPanels-close BindPanels-colf76300",onClick:function onClick(){return e.hideNobindPanels()},__source:{fileName:_A,lineNumber:340},__self:this}),rs.a.createElement("div",{className:"BindPanels-desc",__source:{fileName:_A,lineNumber:341},__self:this},"\u7ed1\u5b9a",rs.a.createElement("span",{className:"BindPanels-colf76300",__source:{fileName:_A,lineNumber:342},__self:this},"\u624b\u673a"),"\u540e\uff0c\u624d\u53ef\u4ee5\u9886\u53d6\u5b9d\u7bb1\u91cc\u7684\u9c7c\u4e38\u54e6\uff01"),rs.a.createElement("div",{className:"BindPanels-link",__source:{fileName:_A,lineNumber:344},__self:this},rs.a.createElement("a",{href:"/member/cp/cpBindPhone",className:"BindPanels-colf76300",__source:{fileName:_A,lineNumber:344},__self:this},"\u7acb\u5373\u7ed1\u5b9a"))),rs.a.createElement("div",{className:"Treasure "+(t.isFinish?"is-finish":"is-ready")+" "+(t.isLoading?"is-loading":""),style:{backgroundImage:"url("+(t.isFinish?r[0].treasureOpenBg:r[0].treasureCloseBg)+")"},onClick:this.drawTreaure.bind(this),__source:{fileName:_A,lineNumber:346},__self:this},r.length>1?rs.a.createElement("div",{className:"TreasureNum",__source:{fileName:_A,lineNumber:354},__self:this},rs.a.createElement("i",{className:"TreasureNum-rate",__source:{fileName:_A,lineNumber:355},__self:this},"x"),rs.a.createElement("span",{className:"TreasureNum-val",__source:{fileName:_A,lineNumber:356},__self:this},r.length),rs.a.createElement("i",{className:"TreasureNum-arrow",__source:{fileName:_A,lineNumber:357},__self:this})):"",rs.a.createElement("div",{className:"TreasureStatus "+(t.isFinish?"is-open":"")+" "+(n?"is-noBind":"")+" "+(t.isLoading?"is-loading":""),__source:{fileName:_A,lineNumber:362},__self:this},rs.a.createElement("div",{className:"TreasureStatus-bg "+(t.isFinish?"is-open":""),style:{width:100*this.state.loadingWidth+"%"},__source:{fileName:_A,lineNumber:363},__self:this}),rs.a.createElement("div",{className:"TreasureStatus-text "+(t.isLoading?"is-loading":""),__source:{fileName:_A,lineNumber:366},__self:this},this.state.statusText))))):null},TreasureDetail}(rs.a.Component),gA=function TreasureDetail_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(vA.prototype,"treasureService",[hA],{enumerable:!0,initializer:null}),vA),OA=Object(Km.connect)(function mapStateToProps(e){return{treasureData:e.treasureData}})(wA),EA=(r("b70a2"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureIdent.js");function TreasureIdent_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function TreasureIdent_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureIdent_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DA=(NA=(0,n.a.Service)(Zi.a),SA=function(e){function TreasureIdent(){var t,r;!function TreasureIdent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureIdent);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=TreasureIdent_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function TreasureIdent_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"treasureService",CA,r),r.handleCancel=function(){r.treasureService.hideTreasureIdent()},r.handleGo=function(){location.href="/member/cp/changeIdent"},TreasureIdent_possibleConstructorReturn(r,t)}return TreasureIdent_inherits(TreasureIdent,e),TreasureIdent.prototype.render=function render(){var e=this.props.showIdent;return rs.a.createElement(rs.a.Fragment,{__source:{fileName:EA,lineNumber:27},__self:this},rs.a.createElement(P_.a,{visible:e,center:!0,title:"\u63d0\u793a",width:336,footer:null,onCancel:this.handleCancel,__source:{fileName:EA,lineNumber:28},__self:this},rs.a.createElement("div",{className:"TreasureIdent-dlg",__source:{fileName:EA,lineNumber:36},__self:this},rs.a.createElement("p",{__source:{fileName:EA,lineNumber:37},__self:this},"\u60a8\u9700\u8981\u5148\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\u624d\u80fd\u9886\u53d6\u5b9d\u7bb1\uff1f")),rs.a.createElement("div",{className:"TreasureIdent-oper",__source:{fileName:EA,lineNumber:39},__self:this},rs.a.createElement("div",{className:"TreasureIdent-btn",onClick:this.handleGo,__source:{fileName:EA,lineNumber:40},__self:this},"\u524d\u5f80"),rs.a.createElement("div",{className:"TreasureIdent-btn",onClick:this.handleCancel,__source:{fileName:EA,lineNumber:41},__self:this},"\u53d6\u6d88"))))},TreasureIdent}(rs.a.Component),CA=function TreasureIdent_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(SA.prototype,"treasureService",[NA],{enumerable:!0,initializer:null}),SA);DA.propTypes={showIdent:$m.a.bool};var kA,jA,RA,PA=Object(Km.connect)(function mapStateToProps(e){return{showIdent:e.treasureIdent.showIdent}})(DA),TA="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/Treasure.js";function Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var BA,LA=(kA=(0,n.a.Service)(Zi.a),jA=function(e){function Treasure(){!function Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Treasure);var t=function Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Treasure_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",RA,t),t.state={isGeePanelsShow:!1},t}return Treasure_inherits(Treasure,e),Treasure.prototype.componentDidMount=function componentDidMount(){this.treasureService.initSocket()},Treasure.prototype.render=function render(){return rs.a.createElement("div",{className:"TreasureWrap",__source:{fileName:TA,lineNumber:26},__self:this},rs.a.createElement(bA,{__source:{fileName:TA,lineNumber:27},__self:this}),rs.a.createElement(OA,{__source:{fileName:TA,lineNumber:28},__self:this}),rs.a.createElement(PA,{__source:{fileName:TA,lineNumber:29},__self:this}))},Treasure}(rs.a.Component),RA=function Treasure_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(jA.prototype,"treasureService",[kA],{enumerable:!0,initializer:null}),jA);r("9fa56");function components_Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function components_Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zA,MA,AA,IA=Object(b.ErrorHandler)(rs.a.createElement("div",{__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/index.js",lineNumber:6},__self:void 0}))(BA=function(e){function Index(){return function components_Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index),function components_Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return components_Treasure_inherits(Index,e),Index.prototype.render=function render(){return rs.a.createElement(LA,{__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/index.js",lineNumber:10},__self:this})},Index}(rs.a.Component))||BA,FA="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureLuckyTips.js";function TreasureLuckyTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureLuckyTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var xA=(zA=(0,n.a.Service)(Zi.a),MA=function(e){function TreasureLuckyTips(){!function TreasureLuckyTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureLuckyTips);var t=function TreasureLuckyTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureLuckyTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",AA,t),t.timer=null,t.state={data:{}},t}return TreasureLuckyTips_inherits(TreasureLuckyTips,e),TreasureLuckyTips.prototype.reset=function reset(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.treasureService.destoryTips()},5e3)},TreasureLuckyTips.prototype.render=function render(){var e=this.props.treasureLuckyTips;return Object.keys(e).length?(this.reset(),rs.a.createElement("div",{className:"TreasureLuckyTips",__source:{fileName:FA,lineNumber:37},__self:this},e.isBestLucky?rs.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:FA,lineNumber:40},__self:this},rs.a.createElement("div",{className:"TreasureLuckyDesc-bestIcon",__source:{fileName:FA,lineNumber:41},__self:this}),"\u606d\u559c",rs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:FA,lineNumber:42},__self:this},e.drawName),"\u9886\u53d6\u4e86",rs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:FA,lineNumber:43},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\u83b7\u5f97",rs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:FA,lineNumber:44},__self:this},e.goldNum,"\u9c7c\u4e38"),"\uff0c\u6210\u4e3a\u672c\u573a\u624b\u6c14\u738b\uff01"):rs.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:FA,lineNumber:47},__self:this},"\u606d\u559c",rs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:FA,lineNumber:48},__self:this},e.drawName),"\u9886\u53d6\u4e86",rs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:FA,lineNumber:49},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\u89e6\u53d1",rs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:FA,lineNumber:50},__self:this},"\u66b4\u51fb",e.luckRate>1?"X"+e.luckRate:""),"\u83b7\u5f97",rs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:FA,lineNumber:55},__self:this},e.goldNum,"\u9c7c\u4e38")))):null},TreasureLuckyTips}(rs.a.Component),AA=function TreasureLuckyTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(MA.prototype,"treasureService",[zA],{enumerable:!0,initializer:null}),MA);xA.propTypes={treasureLuckyTips:$m.a.any};var GA,UA,HA,WA=Object(Km.connect)(function mapStateToProps(e){return{treasureLuckyTips:e.treasureLuckyTips}})(xA),VA="/shark/live/src/pages/roomPage/playerAsideModule/components/PlayerAside/PlayerAside.js";function PlayerAside_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function PlayerAside_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function PlayerAside_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $A=n.a.Region,KA=(GA=(0,n.a.Service)(bc.a),UA=function(e){function PlayerAside(){var t,r;!function PlayerAside_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayerAside);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=PlayerAside_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function PlayerAside_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"userRoleService",HA,r),PlayerAside_possibleConstructorReturn(r,t)}return PlayerAside_inherits(PlayerAside,e),PlayerAside.prototype.componentWillMount=function componentWillMount(){this.userRoleService.init()},PlayerAside.prototype.render=function render(){return rs.a.createElement("div",{__source:{fileName:VA,lineNumber:35},__self:this},rs.a.createElement("div",{className:"layout-Player-asideMainTop",__source:{fileName:VA,lineNumber:36},__self:this},rs.a.createElement(cA,{__source:{fileName:VA,lineNumber:37},__self:this}),rs.a.createElement("div",{className:"layout-Player-rankAll",__source:{fileName:VA,lineNumber:38},__self:this},rs.a.createElement(jM,{__source:{fileName:VA,lineNumber:39},__self:this}),rs.a.createElement(eA,{__source:{fileName:VA,lineNumber:40},__self:this})),rs.a.createElement("div",{className:"layout-Player-rank",__source:{fileName:VA,lineNumber:42},__self:this},rs.a.createElement(UO,{__source:{fileName:VA,lineNumber:43},__self:this})),rs.a.createElement("div",{className:"layout-Player-barrage",id:"js-player-barrage",__source:{fileName:VA,lineNumber:45},__self:this},rs.a.createElement(tS,{__source:{fileName:VA,lineNumber:46},__self:this})),rs.a.createElement("div",{className:"layout-Player-effect",__source:{fileName:VA,lineNumber:48},__self:this},rs.a.createElement(WA,{__source:{fileName:VA,lineNumber:49},__self:this}),rs.a.createElement(IA,{__source:{fileName:VA,lineNumber:50},__self:this}),rs.a.createElement(Yz,{__source:{fileName:VA,lineNumber:51},__self:this}),rs.a.createElement(sM,{__source:{fileName:VA,lineNumber:52},__self:this}))),rs.a.createElement("div",{className:"layout-Player-chat",__source:{fileName:VA,lineNumber:55},__self:this},rs.a.createElement(AB,{__source:{fileName:VA,lineNumber:56},__self:this})),rs.a.createElement("div",{className:"layout-Player-userCard",__source:{fileName:VA,lineNumber:58},__self:this},rs.a.createElement($A,{name:"userCard",belongTo:"PlayerAsideApp",__source:{fileName:VA,lineNumber:59},__self:this})))},PlayerAside}(rs.a.Component),HA=function PlayerAside_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(UA.prototype,"userRoleService",[GA],{enumerable:!0,initializer:null}),UA),qA=n.a.StoreFactory,QA=new(n.a.createApp({name:"PlayerAsideApp",providers:[{name:"component",useFactory:function useFactory(){return KA}},{name:"store",useFactory:function useFactory(){return qA.getInstance(window.__INITIAL_STATE__,es,aa)}}]}));window.PlayerAsideApp=QA,QA.push=function(e){return QA.registerApp.apply(QA,e)},n.a.render(QA,document.getElementById("js-player-asideMain"))},c913b:function(e,t,r){},ca62f:function(e,t,r){},caefb:function(e,t,r){},cc667:function(e,t,r){},cdf7a:function(e,t,r){},d2686:function(e,t,r){},d2e0b:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},d4c57:function(e,t,r){},db9ed:function(e,t,r){},dbf8a:function(e,t,r){"use strict";var i=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=function(e){function ArgumentOutOfRangeError(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return i(ArgumentOutOfRangeError,e),ArgumentOutOfRangeError}(Error);t.ArgumentOutOfRangeError=n},dd665:function(e,t,r){},e1f27:function(e,t,r){},e4ba7:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/tab_256f1db.png"},e4e1c:function(e,t,r){},ee4ef:function(e,t,r){},f2f3e:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf6_8efb6a0.swf"},f42ba:function(e,t,r){},f664f:function(e,t,r){},f82bc:function(e,t){e.exports=vendorfb2fa32ced5174f6f0ec},fcf3d:function(e,t,r){},fd9ca:function(e,t,r){},feee3:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"}},[[6,0,1]]]);